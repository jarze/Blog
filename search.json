[{"title":"Hello World","url":"/Blog/hello-world/","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<a id=\"more\"></a>\n\n<h2><span id=\"quick-start\">Quick Start</span></h2><h3><span id=\"create-a-new-post\">Create a new post</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3><span id=\"run-server\">Run server</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3><span id=\"generate-static-files\">Generate static files</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3><span id=\"deploy-to-remote-sites\">Deploy to remote sites</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>"},{"title":"JavaScriptä½è¿ç®—ç¬¦","url":"/Blog/JavaScript%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6/","content":"<p><a href=\"https://www.w3school.com.cn/js/js_bitwise.asp\" target=\"_blank\" rel=\"noopener\">JavaScript ä½è¿ç®—ç¬¦</a></p>\n<a id=\"more\"></a>\n\n<hr>\n<ul>\n<li><p>ä½¿ç”¨&amp;è¿ç®—ç¬¦åˆ¤æ–­ä¸€ä¸ªæ•°çš„å¥‡å¶ï¼ˆåªéœ€è®°ä½ 0 å’Œ 1 ä¸ 1 è¿›è¡Œ&amp;è¿ç®—çš„ç»“æœå³å¯ï¼‰ï¼š</p>\n<ul>\n<li>å¶æ•° &amp; 1 = 0</li>\n<li>å¥‡æ•° &amp; 1 = 1</li>\n</ul>\n</li>\n<li><p>ä½¿ç”¨~~ï¼Œ&gt;&gt;,&lt;&lt;,&gt;&gt;&gt;,|æ¥å–æ•´ï¼š</p>\n<ul>\n<li>~~Math.PIï¼š3ï¼ˆæŒ‰ä½å–åå†å–åï¼‰</li>\n<li>Math.PI&gt;&gt;0ï¼ŒMath.PI&lt;&lt;0ï¼ŒMath.PI&gt;&gt;&gt;0ï¼š3ï¼ˆæŒ‰ä½å·¦ç§»æˆ–è€…å³ç§» 0 ä½ï¼Œ&gt;&gt;&gt;ä¸å¯ç”¨äºè´Ÿæ•°ï¼‰</li>\n<li>Math.PI|0ï¼š3ï¼ŒæŒ‰ä½å¼‚æˆ–</li>\n</ul>\n</li>\n<li><p>ä½¿ç”¨&lt;&lt;,&gt;&gt;æ¥è®¡ç®—ä¹˜é™¤ï¼š</p>\n<ul>\n<li>æ•´æ•°å·¦ç§» n ä½ç›¸å½“äºä¹˜ 2 çš„ n æ¬¡æ–¹ï¼›</li>\n<li>å³ç§»ç›¸å½“äºé™¤ä»¥ 2 çš„ n æ¬¡æ–¹ï¼Œå†å‘ä¸‹å–æ•´</li>\n</ul>\n</li>\n<li><p>åˆ©ç”¨^æ¥å®Œæˆæ¯”è¾ƒä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼š!(a ^ b)</p>\n</li>\n<li><p>ä½¿ç”¨^æ¥å®Œæˆå€¼äº¤æ¢ï¼šå‚è€ƒç¬¬åäº”å¼</p>\n</li>\n<li><p>ä½¿ç”¨&amp;,&gt;&gt;,|æ¥å®Œæˆ rgb å€¼å’Œ 16 è¿›åˆ¶é¢œè‰²å€¼ä¹‹é—´çš„è½¬æ¢</p>\n<ul>\n<li>16 è¿›åˆ¶é¢œè‰²å€¼è½¬ RGBï¼š</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hexToRGB</span>(<span class=\"params\">hex</span>) </span>&#123;</span><br><span class=\"line\">  hex = hex.replace(<span class=\"string\">'#'</span>, <span class=\"string\">'0x'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> r = hex &gt;&gt; <span class=\"number\">16</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> g = (hex &gt;&gt; <span class=\"number\">8</span>) &amp; <span class=\"number\">0xff</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> b = hex &amp; <span class=\"number\">0xff</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">'rgb('</span> + r + <span class=\"string\">','</span> + g + <span class=\"string\">','</span> + b + <span class=\"string\">')'</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">hexToRGB(<span class=\"string\">'#cccccc'</span>); <span class=\"comment\">// rgb(204,204,204)</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>RGB è½¬ 16 è¿›åˆ¶é¢œè‰²å€¼ï¼š</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">RGBToHex</span>(<span class=\"params\">rgb</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rgbArr = rgb.split(<span class=\"regexp\">/[^\\d]+/</span>);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> color = (rgbArr[<span class=\"number\">1</span>] &lt;&lt; <span class=\"number\">16</span>) | (rgbArr[<span class=\"number\">2</span>] &lt;&lt; <span class=\"number\">8</span>) | rgbArr[<span class=\"number\">3</span>];</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">'#'</span> + color.toString(<span class=\"number\">16</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">RGBToHex(<span class=\"string\">'rgb(204,204,204)'</span>); <span class=\"comment\">// #cccccc</span></span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<hr>\n<iframe src=\"https://www.w3school.com.cn/js/js_bitwise.asp\" width=\"100%\" height=\"100vh\" style=\"min-height: 800px;\">\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script></iframe>","categories":["Front","js"],"tags":["js"]},{"title":"Make å‘½ä»¤","url":"/Blog/Makefile/","content":"<p><a href=\"http://www.ruanyifeng.com/blog/2015/02/make.html\" target=\"_blank\" rel=\"noopener\"><code>Make</code> å‘½ä»¤æ•™ç¨‹</a></p>\n<p><a href=\"http://www.ruanyifeng.com/blog/2015/03/build-website-with-make.html\" target=\"_blank\" rel=\"noopener\">ä½¿ç”¨ <code>Make</code> æ„å»ºç½‘ç«™</a></p>\n<a id=\"more\"></a>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","tags":["shell","make"]},{"title":"About","url":"/Blog/about/","content":"<ul>\n<li>Nickname: jarze</li>\n<li>Github: <a href=\"https://github.com/jarze\" target=\"_blank\" rel=\"noopener\">@jarze</a></li>\n</ul>\n<a id=\"more\"></a>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>"},{"title":"commander åŸºæœ¬ç”¨æ³•","url":"/Blog/commander/","content":"<ul>\n<li><a href=\"https://github.com/tj/commander.js\" target=\"_blank\" rel=\"noopener\">github</a></li>\n<li><a href=\"https://www.npmjs.com/package/commander\" target=\"_blank\" rel=\"noopener\">npm</a></li>\n</ul>\n<h2><span id=\"å®‰è£…\">å®‰è£…</span></h2><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install commander --save</span><br></pre></td></tr></table></figure>\n\n<a id=\"more\"></a>\n\n<h2><span id=\"å®šä¹‰\">å®šä¹‰</span></h2><p><code>&lt;&gt;</code>å®šä¹‰å¿…éœ€å‚æ•°ï¼Œ<code>[]</code>å®šä¹‰å¯é€‰å‚æ•°</p>\n<h2><span id=\"ç¤ºä¾‹\">ç¤ºä¾‹</span></h2><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> program = <span class=\"built_in\">require</span>(<span class=\"string\">\"commander\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">program</span><br><span class=\"line\">  .version(<span class=\"string\">\"0.1.0\"</span>)</span><br><span class=\"line\">  .option(<span class=\"string\">\"-C, --chdir &lt;path&gt;\"</span>, <span class=\"string\">\"change the working directory\"</span>)</span><br><span class=\"line\">  .option(<span class=\"string\">\"-c, --config &lt;path&gt;\"</span>, <span class=\"string\">\"set config path. defaults to ./deploy.conf\"</span>)</span><br><span class=\"line\">  .option(<span class=\"string\">\"-T, --no-tests\"</span>, <span class=\"string\">\"ignore test hook\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">program</span><br><span class=\"line\">  .command(<span class=\"string\">\"setup [env]\"</span>)</span><br><span class=\"line\">  .description(<span class=\"string\">\"run setup commands for all envs\"</span>)</span><br><span class=\"line\">  .option(<span class=\"string\">\"-s, --setup_mode [mode]\"</span>, <span class=\"string\">\"Which setup mode to use\"</span>)</span><br><span class=\"line\">  .action(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">env, options</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> mode = options.setup_mode || <span class=\"string\">\"normal\"</span>;</span><br><span class=\"line\">    env = env || <span class=\"string\">\"all\"</span>;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"setup for %s env(s) with %s mode\"</span>, env, mode);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">program</span><br><span class=\"line\">  .command(<span class=\"string\">\"exec &lt;cmd&gt;\"</span>)</span><br><span class=\"line\">  .alias(<span class=\"string\">\"ex\"</span>)</span><br><span class=\"line\">  .description(<span class=\"string\">\"execute the given remote cmd\"</span>)</span><br><span class=\"line\">  .option(<span class=\"string\">\"-e, --exec_mode &lt;mode&gt;\"</span>, <span class=\"string\">\"Which exec mode to use\"</span>)</span><br><span class=\"line\">  .action(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">cmd, options</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'exec \"%s\" using %s mode'</span>, cmd, options.exec_mode);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  .on(<span class=\"string\">\"--help\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Examples:\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"  $ deploy exec sequential\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"  $ deploy exec async\"</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">program.command(<span class=\"string\">\"*\"</span>).action(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">env</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'deploying \"%s\"'</span>, env);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">program.parse(process.argv);</span><br></pre></td></tr></table></figure>\n\n<p>ç»“æœï¼š</p>\n<img src=\"/Blog/commander/commander.png\" class>\n\n<h2><span id=\"æ–¹æ³•\">æ–¹æ³•</span></h2><h3><span id=\"version\">version</span></h3><p>ä½œç”¨ï¼šå®šä¹‰å‘½ä»¤ç¨‹åºçš„ç‰ˆæœ¬å·</p>\n<h3><span id=\"option\">option</span></h3><p>ä½œç”¨ï¼šå®šä¹‰å‘½ä»¤çš„é€‰é¡¹</p>\n<h3><span id=\"command\">command</span></h3><p>ä½œç”¨ï¼šè‡ªå®šä¹‰å‘½ä»¤</p>\n<h3><span id=\"description\">description</span></h3><p>ä½œç”¨ï¼šå‘½ä»¤çš„æè¿°æ€§è¯­å¥</p>\n<h3><span id=\"action\">action</span></h3><p>ä½œç”¨ï¼šå®šä¹‰å‘½ä»¤çš„å›è°ƒå‡½æ•°</p>\n<h3><span id=\"parse\">parse</span></h3><p>ä½œç”¨ï¼šç”¨äºè§£æ process.argvï¼Œè®¾ç½® options ä»¥åŠè§¦å‘ commands</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front"],"tags":["js","commander","nodejs"]},{"title":"commitizenè§„èŒƒ","url":"/Blog/commitizen%E8%A7%84%E8%8C%83/","content":"<ul>\n<li><a href=\"https://www.npmjs.com/package/commitizen\" target=\"_blank\" rel=\"noopener\">commitizen</a></li>\n<li><a href=\"https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines\" target=\"_blank\" rel=\"noopener\">Angular commit-message-guidelines</a></li>\n<li><a href=\"https://google.github.io/styleguide/jsguide.html\" target=\"_blank\" rel=\"noopener\">Googleâ€™s JavaScript Style Guide</a></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class=\"line\">&lt;BLANK LINE&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;BLANK LINE&gt;</span><br><span class=\"line\">&lt;footer&gt;</span><br></pre></td></tr></table></figure>\n\n<a id=\"more\"></a>\n\n\n<h2><span id=\"type\"><code>type</code></span></h2><table>\n<thead>\n<tr>\n<th>è§„èŒƒå</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docs</td>\n<td>ä»…ä»…ä¿®æ”¹äº†æ–‡æ¡£ï¼Œæ¯”å¦‚ README, CHANGELOG, CONTRIBUTE ç­‰ç­‰</td>\n</tr>\n<tr>\n<td>chore</td>\n<td>æ”¹å˜æ„å»ºæµç¨‹ã€æˆ–è€…å¢åŠ ä¾èµ–åº“ã€å·¥å…·ç­‰</td>\n</tr>\n<tr>\n<td>feat</td>\n<td>æ–°å¢ feature</td>\n</tr>\n<tr>\n<td>fix</td>\n<td>ä¿®å¤ bug</td>\n</tr>\n<tr>\n<td>merge</td>\n<td>åˆå¹¶åˆ†ä¹‹</td>\n</tr>\n<tr>\n<td>perf</td>\n<td>ä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒ</td>\n</tr>\n<tr>\n<td>refactor</td>\n<td>ä»£ç é‡æ„ï¼Œæ²¡æœ‰åŠ æ–°åŠŸèƒ½æˆ–è€…ä¿®å¤ bug</td>\n</tr>\n<tr>\n<td>revert</td>\n<td>å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</td>\n</tr>\n<tr>\n<td>style</td>\n<td>ä»…ä»…ä¿®æ”¹äº†ç©ºæ ¼ã€æ ¼å¼ç¼©è¿›ã€éƒ½å¥½ç­‰ç­‰ï¼Œä¸æ”¹å˜ä»£ç é€»è¾‘</td>\n</tr>\n<tr>\n<td>test</td>\n<td>æµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ç­‰</td>\n</tr>\n<tr>\n<td>build</td>\n<td>å½±å“æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–é¡¹çš„æ›´æ”¹ï¼ˆç¤ºä¾‹èŒƒå›´ï¼šgulpã€broccoliã€npmï¼‰</td>\n</tr>\n<tr>\n<td>ci</td>\n<td>å¯¹æˆ‘ä»¬çš„ CI é…ç½®æ–‡ä»¶å’Œè„šæœ¬çš„æ›´æ”¹ï¼ˆç¤ºä¾‹èŒƒå›´ï¼šTravisã€Circleã€BrowserStackã€SauceLabsï¼‰</td>\n</tr>\n</tbody></table>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">docs(changelog): update changelog to beta.5</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#####</span></span><br><span class=\"line\"></span><br><span class=\"line\">fix(release): need to depend on latest rxjs and zone.js</span><br><span class=\"line\"></span><br><span class=\"line\">The version <span class=\"keyword\">in</span> our package.json gets copied to the one we publish, and users need the latest of these.</span><br></pre></td></tr></table></figure>\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","tags":["git"]},{"title":"chrome å¼€å‘è€…å·¥å…·ä¹‹ Console","url":"/Blog/console/","content":"<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">java system.out.println(&#39;hello world&#39;)</span><br><span class=\"line\">python print(&#39;hello world&#39;)</span><br><span class=\"line\">js console.log(&#39;hello world&#39;)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><strong><code>F12 æˆ–è€… Control+Shift+iï¼ˆPC å¹³å°ï¼‰/ Alt+Command+iï¼ˆMac å¹³å°ï¼‰æ‰“å¼€æˆ‘ä»¬çš„æ§åˆ¶å°</code></strong></p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2><span id=\"console-api-ä»‹ç»\">console <code>API</code> ä»‹ç»</span></h2><p><code>JavaScript</code> åŸç”Ÿä¸­é»˜è®¤æ˜¯æ²¡æœ‰ <code>Console</code> å¯¹è±¡ã€‚æ˜¯å®¿ä¸»å¯¹è±¡æä¾›çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ <strong><code>console</code> æ˜¯æµè§ˆå™¨æä¾›çš„å†…ç½®å¯¹è±¡ã€‚</strong><br>ç”¨äºè®¿é—®è°ƒè¯•æ§åˆ¶å°, åœ¨ä¸åŒçš„æµè§ˆå™¨é‡Œæ•ˆæœå¯èƒ½ä¸åŒã€‚<br>IE ä½ç‰ˆæœ¬æ²¡æœ‰ï¼ˆå½“ç„¶ä½ è£…äº†é«˜ç‰ˆæœ¬ï¼Œç„¶åæ‰“å¼€æ§åˆ¶å°ä»–åˆèƒ½ç”¨ <code>console</code> äº†ï¼‰ã€‚</p>\n<h3><span id=\"æ—¥å¿—çº§åˆ«-api\">æ—¥å¿—çº§åˆ« <code>API</code></span></h3><p>æä¾›äº†æ—¥å¿—çº§åˆ« <code>api</code>ã€‚å¯ä»¥æ–¹ä¾¿æˆ‘ä»¬æ ¹æ®ç±»å‹ï¼Œæ›´å¿«çš„å®šä½éœ€è¦å…³æ³¨çš„é—®é¢˜ã€‚</p>\n<ul>\n<li><p><code>console.log(&#39;æ™®é€š-æ–‡æœ¬&#39;)</code>ä¸ <code>console.dir(&#39;æ™®é€š-å¯¹è±¡&#39;)</code><br>ä¸åŒä¹‹å¤„åœ¨äºè¾“å‡º <code>dom</code> èŠ‚ç‚¹å¯¹è±¡ç±»å‹æ˜¯ä¼šæœ‰ä¸€äº›å·®åˆ«ã€‚</p>\n</li>\n<li><p><code>console.info(&#39;ä¿¡æ¯&#39;)</code> <code>console.log</code> çš„åˆ«åï¼Œè¾“å‡ºä¿¡æ¯ï¼Œéƒ¨åˆ†æµè§ˆå™¨ä¼šå¢åŠ ä¸€ä¸ªè“è‰²æ ‡å¿—ã€‚</p>\n</li>\n<li><p><code>console.warn(&#39;è­¦å‘Š&#39;)</code> é»„è‰²è­¦å‘Šæ ‡è¯†ï¼Œä¹Ÿæœ‰å †æ ˆä¿¡æ¯ã€‚</p>\n</li>\n<li><p><code>console.error(&#39;é”™è¯¯&#39;)</code> è¾“å‡ºä¿¡æ¯æ—¶ï¼Œåœ¨æœ€å‰é¢åŠ ä¸€ä¸ªçº¢è‰²çš„å‰ï¼Œè¡¨ç¤ºå‡ºé”™ï¼ŒåŒæ—¶ä¼šæ˜¾ç¤ºé”™è¯¯å‘ç”Ÿçš„å †æ ˆã€‚</p>\n</li>\n<li><p><code>console.debug(&#39;è°ƒè¯•&#39;)</code> ä» <code>Chromium 58</code> å¼€å§‹ï¼Œ<code>Chromium</code> æµè§ˆå™¨åªæœ‰å‹¾é€‰äº†æ§åˆ¶å°ä¸­çš„ <code>â€œVerboseâ€</code> æ—¥å¿—çº§åˆ«æ‰å¯è§ã€‚</p>\n</li>\n</ul>\n<p>æ”¯æŒå¤šç§å†™æ³•</p>\n<ul>\n<li><p>å¤šå‚æ•°</p>\n<ul>\n<li><code>console.log(&#39;auther:&#39;, &#39;lilnong.top&#39;)</code></li>\n</ul>\n</li>\n<li><p><mark><code>å ä½ç¬¦æ ¼å¼ï¼Œæ”¯æŒçš„å ä½ç¬¦æœ‰ï¼šå­—ç¬¦ï¼ˆ%sï¼‰ã€æ•´æ•°ï¼ˆ%d æˆ–%iï¼‰ã€æµ®ç‚¹æ•°ï¼ˆ%fï¼‰ã€å¯å±•å¼€çš„ DOMï¼ˆ%oï¼‰ã€åˆ—å‡º DOM çš„å±æ€§ï¼ˆ%Oï¼‰ã€æ ¹æ®æä¾›çš„ css æ ·å¼æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆ%cï¼‰</code></mark></p>\n<ul>\n<li><p>%sï¼šå­—ç¬¦ä¸²</p>\n</li>\n<li><p>%dï¼šæ•´æ•°</p>\n</li>\n<li><p>%iï¼šæ•´æ•°</p>\n</li>\n<li><p>%fï¼šæµ®ç‚¹æ•°</p>\n</li>\n<li><p>%oï¼šobj å¯¹è±¡ï¼ˆDOMï¼‰</p>\n</li>\n<li><p>%Oï¼šobj å¯¹è±¡</p>\n</li>\n<li><p>%cï¼šCSS æ ·å¼</p>\n<ul>\n<li><p><code>console.log(&#39;auther:%s&#39;, &#39;lilnong.top&#39;)</code></p>\n</li>\n<li><p><code>console.log(&#39;%cauther:%s&#39;, &quot;color: red; font-size: 20px&quot;,&#39;lilnong.top&#39;)</code>;</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><em>æ›´é€‚åˆå°è£…èµ·æ¥ä½¿ç”¨ã€‚</em></p>\n</li>\n</ul>\n<h3><span id=\"åŠŸèƒ½æ€§çš„-api\">åŠŸèƒ½æ€§çš„ <code>API</code></span></h3><ul>\n<li><p><code>console.assert(location.protocol==&#39;https:&#39;, &quot;https é˜²æ­¢åŠ«æŒå“¦~&quot;)</code> æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¡¨è¾¾å¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ã€‚åªæœ‰å½“ç¬¬ä¸€ä¸ªå‚æ•°ä¸º <code>false</code>ï¼Œæ‰ä¼šè¾“å‡ºç¬¬äºŒä¸ªå‚æ•°ï¼Œå¦åˆ™ä¸ä¼šæœ‰ä»»ä½•ç»“æœã€‚</p>\n</li>\n<li><p><code>console.clear()</code> æ¸…é™¤å½“å‰æ§åˆ¶å°çš„æ‰€æœ‰è¾“å‡ºã€‚</p>\n</li>\n<li><p><code>console.count(&#39;count&#39;)</code> æä¾›è®¡æ•°åŠŸèƒ½ã€‚æ¯”å¦‚è¯´æœ‰ä¸ªæ’åºç®—æ³•ï¼Œæˆ‘ä»¬æƒ³ç»Ÿè®¡æ—¶é—´å¤æ‚åº¦ã€‚</p>\n</li>\n<li><p><code>Console.countReset()</code> æˆ‘ä»¬ä¹Ÿå¯ä»¥é‡ç½®æŒ‡å®šæ ‡ç­¾çš„è®¡æ•°å™¨å€¼ã€‚</p>\n</li>\n<li><p><code>console.group(&#39;ç¬¬ä¸€å±‚&#39;)</code>;<code>console.groupEnd()</code>; æä¾›å°†æ˜¾ç¤ºçš„ä¿¡æ¯åˆ†ç»„åŠŸèƒ½ï¼Œå¯ä»¥æŠŠä¿¡æ¯è¿›è¡ŒæŠ˜å å’Œå±•å¼€ã€‚</p>\n</li>\n<li><p><code>console.groupCollapsed(&#39;ç¬¬ä¸€å±‚&#39;)</code>;<code>console.groupEnd()</code>; åŒä¸Šï¼Œä¸åŒç‚¹æ˜¯é»˜è®¤æ˜¯æŠ˜å çŠ¶æ€</p>\n</li>\n<li><p><code>console.table(arr)</code>; æä¾›å°†å¤åˆç±»å‹çš„æ•°æ®è½¬ä¸ºè¡¨æ ¼æ˜¾ç¤ºã€‚è¿˜å¯ä»¥è¿›è¡Œæ’åºç­‰æ“ä½œã€‚</p>\n</li>\n<li><p><code>console.time(&#39;task&#39;);console.timeEnd(&#39;task&#39;)</code>; æä¾›äº†ç»Ÿè®¡ä»£ç æ‰§è¡Œç”¨æ—¶çš„åŠŸèƒ½ã€‚ä¸å‡†ï¼Œæ³¢åŠ¨ä¼šæ¯”è¾ƒå¥‡æ€ªï¼Œå¤šç»Ÿè®¡ï¼Œç„¶åæ±‚å¹³å‡å€¼å§</p>\n</li>\n<li><p><code>console.trace()</code>; è¿½è¸ªå‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæŠŠæ‰“å°å †æ ˆã€‚</p>\n</li>\n</ul>\n<h2><span id=\"console-é¢æ¿ä»‹ç»\"><code>Console</code> é¢æ¿ä»‹ç»</span></h2><p>ä¸Šé¢ä»‹ç»äº† <code>API</code>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹é¢æ¿çš„ä½¿ç”¨ã€‚</p>\n<p>æ§åˆ¶çš„æ˜¯ï¼Œçº§åˆ«ç­›é€‰æ çš„éšè—ä¸æ˜¾ç¤ºã€‚</p>\n<p><code>messages</code> æ˜¯æ‰€æœ‰æ¶ˆæ¯ç±»å‹<br><code>user messages</code> æ˜¯æŒ‡æ‰€æœ‰ç”¨æˆ·æ—¥å¿—ï¼Œæµè§ˆå™¨äº§ç”Ÿçš„ä¸ç®—ã€‚å¦‚ä¸‹ï¼Œäº§ç”Ÿçš„é”™è¯¯å°±ä¸ç®—</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">document.body.addEventListener(&#39;touchmove&#39;, (e)&#x3D;&gt;e.preventDefault())</span><br><span class=\"line\">&#x2F;&#x2F; VM275:1 [Intervention] Unable to preventDefault inside passive event listener due to target being treated as passive. See https:&#x2F;&#x2F;www.chromestatus.com&#x2F;features&#x2F;5093566007214080</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p><code>errors</code> æ˜¯æŒ‡é”™è¯¯çº§åˆ«çš„æ—¥å¿—</p>\n</li>\n<li><p><code>warning</code> æ˜¯æŒ‡è­¦å‘Šçº§åˆ«çš„æ—¥å¿—</p>\n</li>\n<li><p><code>info</code> æ˜¯æŒ‡ä¿¡æ¯çº§åˆ«çš„æ—¥å¿—</p>\n</li>\n<li><p><code>verbose</code> æ˜¯æŒ‡è°ƒè¯•çº§åˆ«çš„æ—¥å¿—</p>\n</li>\n</ul>\n<p>æ¸…ç©ºå½“å‰é¢æ¿å†…å®¹ã€‚</p>\n<ul>\n<li><blockquote>\n<p>å¿«æ·é”® <code>ctrl+l</code> å¯¹åº”çš„å‘½ä»¤æ˜¯ <code>console.clear()</code>;</p>\n</blockquote>\n</li>\n</ul>\n<p>æ˜¯æŒ‡å½“å‰çš„ä½œç”¨åŸŸã€‚å¦‚æœæœ‰ iframe çš„è¯ï¼Œå¯ä»¥åˆ‡æ¢ä½œç”¨åŸŸä¸ºå¯¹åº”çš„ iframeã€‚ç„¶åå°±å¯ä»¥å¿«ä¹çš„åœ¨æ§åˆ¶å°è°ƒç”¨ iframe é‡Œé¢çš„å˜é‡äº†ã€‚</p>\n<p>é€šè¿‡å…³é”®è¯è¿‡æ»¤æ—¥å¿—<br>æè¿°æœ‰å¤šå°‘æ¡è®°å½•è¢«éšè—<br>è®¾ç½®åŠŸèƒ½ï¼Œé‡Œé¢æ˜¯ä¸€äº›æ§åˆ¶å¼€å…³ã€‚</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","tool"],"tags":["js"]},{"title":"csså•ä½","url":"/Blog/css%E5%8D%95%E4%BD%8D/","content":"<h1><span id=\"æµè§ˆå™¨æ”¯æŒ\">æµè§ˆå™¨æ”¯æŒ</span></h1><blockquote>\n<p>ä¸‹è¡¨ä¸­çš„æ•°å­—è¡¨ç¤ºæ”¯æŒè¯¥é•¿åº¦å•ä½çš„æœ€ä½æµè§ˆå™¨ç‰ˆæœ¬ã€‚</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>é•¿åº¦å•ä½</th>\n<th>Chrome</th>\n<th>IE</th>\n<th>Firefox</th>\n<th>Safari</th>\n<th>Opera</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>em, ex, %, px, cm, mm, in, pt, pc</td>\n<td>1.0</td>\n<td>3.0</td>\n<td>1.0</td>\n<td>1.0</td>\n<td>3.5</td>\n</tr>\n<tr>\n<td>ch</td>\n<td>27.0</td>\n<td>9.0</td>\n<td>1.0</td>\n<td>7.0</td>\n<td>20.0</td>\n</tr>\n<tr>\n<td>rem</td>\n<td>4.0</td>\n<td>9.0</td>\n<td>3.6</td>\n<td>4.1</td>\n<td>11.6</td>\n</tr>\n<tr>\n<td>vh</td>\n<td>, vw</td>\n<td>20.0</td>\n<td>9.0</td>\n<td>19.0</td>\n<td>6.0 20.0</td>\n</tr>\n<tr>\n<td>vmin</td>\n<td>20.0</td>\n<td>9.0*</td>\n<td>19.0</td>\n<td>6.0</td>\n<td>20.0</td>\n</tr>\n<tr>\n<td>vmax</td>\n<td>26.0</td>\n<td>ä¸æ”¯æŒ</td>\n<td>19.0</td>\n<td>ä¸æ”¯æŒ</td>\n<td>20.0</td>\n</tr>\n</tbody></table>\n<a id=\"more\"></a>\n\n<h1><span id=\"ç›¸å¯¹é•¿åº¦\">ç›¸å¯¹é•¿åº¦</span></h1><blockquote>\n<p>ç›¸å¯¹é•¿åº¦å•ä½æŒ‡å®šäº†ä¸€ä¸ªé•¿åº¦ç›¸å¯¹äºå¦ä¸€ä¸ªé•¿åº¦çš„å±æ€§ã€‚å¯¹äºä¸åŒçš„è®¾å¤‡ç›¸å¯¹é•¿åº¦æ›´é€‚ç”¨ã€‚<br>æç¤º: rem ä¸ em æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼ŸåŒºåˆ«åœ¨äºä½¿ç”¨ rem ä¸ºå…ƒç´ è®¾å®šå­—ä½“å¤§å°æ—¶ï¼Œä»ç„¶æ˜¯ç›¸å¯¹å¤§å°ï¼Œä½†ç›¸å¯¹çš„åªæ˜¯ HTML æ ¹å…ƒç´ ã€‚</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>å•ä½</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>em</td>\n<td>å®ƒæ˜¯æè¿°ç›¸å¯¹äºåº”ç”¨åœ¨å½“å‰å…ƒç´ çš„å­—ä½“å°ºå¯¸ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ä¸€èˆ¬æµè§ˆå™¨å­—ä½“å¤§å°é»˜è®¤ä¸º 16pxï¼Œåˆ™ 2em == 32pxï¼› ä¸‹</td>\n</tr>\n<tr>\n<td>ex</td>\n<td>ä¾èµ–äºè‹±æ–‡å­—æ¯å° x çš„é«˜åº¦</td>\n</tr>\n<tr>\n<td>ch</td>\n<td>æ•°å­— 0</td>\n</tr>\n<tr>\n<td>rem</td>\n<td>rem æ˜¯æ ¹ emï¼ˆroot ä½“å¤§å°ã€‚</td>\n</tr>\n<tr>\n<td>vw</td>\n<td>viewpoint widthï¼Œè§†çª—å®½åº¦ï¼Œ1vw=è§†çª—å®½åº¦çš„ 1%</td>\n</tr>\n<tr>\n<td>vh</td>\n<td>viewpoint heightï¼Œè§†çª—é«˜åº¦ï¼Œ1vh=è§†çª—é«˜åº¦çš„ 1%</td>\n</tr>\n<tr>\n<td>vmin</td>\n<td>vw å’Œ vh ä¸­è¾ƒå°çš„é‚£ä¸ªã€‚</td>\n</tr>\n<tr>\n<td>vmax</td>\n<td>vw å’Œ vh ä¸­è¾ƒå¤§çš„é‚£ä¸ªã€‚</td>\n</tr>\n<tr>\n<td>%</td>\n<td></td>\n</tr>\n</tbody></table>\n<h1><span id=\"ç»å¯¹é•¿åº¦\">ç»å¯¹é•¿åº¦</span></h1><blockquote>\n<p>ç»å¯¹é•¿åº¦å•ä½æ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼ï¼Œå®ƒååº”ä¸€ä¸ªçœŸå®çš„ç‰©ç†å°ºå¯¸ã€‚ç»å¯¹é•¿åº¦å•ä½è§†è¾“å‡ºä»‹è´¨è€Œå®šï¼Œä¸ä¾èµ–äºç¯å¢ƒï¼ˆæ˜¾ç¤ºå™¨ã€åˆ†è¾¨ç‡ã€æ“ä½œç³»ç»Ÿç­‰ï¼‰ã€‚</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>å•ä½</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>cm</td>\n<td>å˜ç±³</td>\n</tr>\n<tr>\n<td>mm</td>\n<td>æ¯«ç±³</td>\n</tr>\n<tr>\n<td>in</td>\n<td>è‹±å¯¸ (1in = 96px = 2.54cm)</td>\n</tr>\n<tr>\n<td>px</td>\n<td>* åƒç´  (1px = 1/96th of 1in)</td>\n</tr>\n<tr>\n<td>pt</td>\n<td>pointï¼Œå¤§çº¦ 1/72 è‹±å¯¸ï¼› (1pt = 1/72in)</td>\n</tr>\n<tr>\n<td>pc</td>\n<td>picaï¼Œå¤§çº¦ 12ptï¼Œ1/6 è‹±å¯¸ï¼› (1pc = 12 pt)</td>\n</tr>\n</tbody></table>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","css"],"tags":["css"]},{"title":"docker-å‘½ä»¤","url":"/Blog/docker-%E5%91%BD%E4%BB%A4/","content":"<hr>\n<h1><span id=\"å®¢æˆ·ç«¯å‘½ä»¤-docker\">å®¢æˆ·ç«¯å‘½ä»¤ - docker</span></h1><hr>\n<h2><span id=\"å®¢æˆ·ç«¯å‘½ä»¤é€‰é¡¹\">å®¢æˆ·ç«¯å‘½ä»¤é€‰é¡¹</span></h2><ul>\n<li>â€“config=â€â€ï¼šæŒ‡å®šå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤ä¸º ~/.dockerï¼›</li>\n<li>-D=true|falseï¼šæ˜¯å¦ä½¿ç”¨ debug æ¨¡å¼ã€‚é»˜è®¤ä¸å¼€å¯ï¼›</li>\n<li>-H, â€“host=[]ï¼šæŒ‡å®šå‘½ä»¤å¯¹åº” Docker å®ˆæŠ¤è¿›ç¨‹çš„ç›‘å¬æ¥å£ï¼Œå¯ä»¥ä¸º unix å¥—æ¥å­— unix:///path/to/socketï¼Œæ–‡ä»¶å¥æŸ„ fd://socketfd æˆ– tcp å¥—æ¥å­— tcp://[host[:port]]ï¼Œé»˜è®¤ä¸º unix:///var/run/docker.sockï¼›</li>\n<li>-l, â€“log-level=â€debug|info|warn|error|fatalâ€ï¼šæŒ‡å®šæ—¥å¿—è¾“å‡ºçº§åˆ«ï¼›</li>\n<li>â€“tls=true|falseï¼šæ˜¯å¦å¯¹ Docker å®ˆæŠ¤è¿›ç¨‹å¯ç”¨ TLS å®‰å…¨æœºåˆ¶ï¼Œé»˜è®¤ä¸ºå¦ï¼›</li>\n<li>â€“tlscacert=/.docker/ca.pemï¼šTLS CA ç­¾åçš„å¯ä¿¡è¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼›</li>\n<li>â€“tlscert=/.docker/cert.pemï¼šTLS å¯ä¿¡è¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼›</li>\n<li>â€“tlscert=/.docker/key.pemï¼šTLS å¯†é’¥æ–‡ä»¶è·¯å¾„ï¼›</li>\n<li>â€“tlsverify=true|falseï¼šå¯ç”¨ TLS æ ¡éªŒï¼Œé»˜è®¤ä¸ºå¦ã€‚</li>\n</ul>\n<a id=\"more\"></a>\n\n<hr>\n<h2><span id=\"å®¢æˆ·ç«¯å‘½ä»¤\">å®¢æˆ·ç«¯å‘½ä»¤</span></h2><p>å¯ä»¥é€šè¿‡ docker COMMAND â€“help æ¥æŸ¥çœ‹è¿™äº›å‘½ä»¤çš„å…·ä½“ç”¨æ³•ã€‚</p>\n<ul>\n<li>attachï¼šä¾é™„åˆ°ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨ä¸­ï¼›</li>\n<li>buildï¼šä»ä¸€ä¸ª Dockerfile åˆ›å»ºä¸€ä¸ªé•œåƒï¼›</li>\n<li>commitï¼šä»ä¸€ä¸ªå®¹å™¨çš„ä¿®æ”¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼›</li>\n<li>cpï¼šåœ¨å®¹å™¨å’Œæœ¬åœ°å®¿ä¸»ç³»ç»Ÿä¹‹é—´å¤åˆ¶æ–‡ä»¶ä¸­ï¼›</li>\n<li>createï¼šåˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨ï¼Œä½†å¹¶ä¸è¿è¡Œå®ƒï¼›</li>\n<li>diffï¼šæ£€æŸ¥ä¸€ä¸ªå®¹å™¨å†…æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ï¼ŒåŒ…æ‹¬ä¿®æ”¹å’Œå¢åŠ ï¼›</li>\n<li>eventsï¼šä»æœåŠ¡ç«¯è·å–å®æ—¶çš„äº‹ä»¶ï¼›</li>\n<li>execï¼šåœ¨è¿è¡Œçš„å®¹å™¨å†…æ‰§è¡Œå‘½ä»¤ï¼›</li>\n<li>exportï¼šå¯¼å‡ºå®¹å™¨å†…å®¹ä¸ºä¸€ä¸ª tar åŒ…ï¼›</li>\n<li>historyï¼šæ˜¾ç¤ºä¸€ä¸ªé•œåƒçš„å†å²ä¿¡æ¯ï¼›</li>\n<li>imagesï¼šåˆ—å‡ºå­˜åœ¨çš„é•œåƒï¼›</li>\n<li>importï¼šå¯¼å…¥ä¸€ä¸ªæ–‡ä»¶ï¼ˆå…¸å‹ä¸º tar åŒ…ï¼‰è·¯å¾„æˆ–ç›®å½•æ¥åˆ›å»ºä¸€ä¸ªæœ¬åœ°é•œåƒï¼›</li>\n<li>infoï¼šæ˜¾ç¤ºä¸€äº›ç›¸å…³çš„ç³»ç»Ÿä¿¡æ¯ï¼›</li>\n<li>inspectï¼šæ˜¾ç¤ºä¸€ä¸ªå®¹å™¨çš„å…·ä½“é…ç½®ä¿¡æ¯ï¼›</li>\n<li>killï¼šå…³é—­ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ (åŒ…æ‹¬è¿›ç¨‹å’Œæ‰€æœ‰ç›¸å…³èµ„æº)ï¼›</li>\n<li>loadï¼šä»ä¸€ä¸ª tar åŒ…ä¸­åŠ è½½ä¸€ä¸ªé•œåƒï¼›</li>\n<li>loginï¼šæ³¨å†Œæˆ–ç™»å½•åˆ°ä¸€ä¸ª Docker çš„ä»“åº“æœåŠ¡å™¨ï¼›</li>\n<li>logoutï¼šä» Docker çš„ä»“åº“æœåŠ¡å™¨ç™»å‡ºï¼›</li>\n<li>logsï¼šè·å–å®¹å™¨çš„ log ä¿¡æ¯ï¼›</li>\n<li>networkï¼šç®¡ç† Docker çš„ç½‘ç»œï¼ŒåŒ…æ‹¬æŸ¥çœ‹ã€åˆ›å»ºã€åˆ é™¤ã€æŒ‚è½½ã€å¸è½½ç­‰ï¼›</li>\n<li>nodeï¼šç®¡ç† swarm é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬æŸ¥çœ‹ã€æ›´æ–°ã€åˆ é™¤ã€æå‡/å–æ¶ˆç®¡ç†èŠ‚ç‚¹ç­‰ï¼›</li>\n<li>pauseï¼šæš‚åœä¸€ä¸ªå®¹å™¨ä¸­çš„æ‰€æœ‰è¿›ç¨‹ï¼›</li>\n<li>portï¼šæŸ¥æ‰¾ä¸€ä¸ª nat åˆ°ä¸€ä¸ªç§æœ‰ç½‘å£çš„å…¬å…±å£ï¼›</li>\n<li>psï¼šåˆ—å‡ºä¸»æœºä¸Šçš„å®¹å™¨ï¼›</li>\n<li>pullï¼šä»ä¸€ä¸ª Docker çš„ä»“åº“æœåŠ¡å™¨ä¸‹æ‹‰ä¸€ä¸ªé•œåƒæˆ–ä»“åº“ï¼›</li>\n<li>pushï¼šå°†ä¸€ä¸ªé•œåƒæˆ–è€…ä»“åº“æ¨é€åˆ°ä¸€ä¸ª Docker çš„æ³¨å†ŒæœåŠ¡å™¨ï¼›</li>\n<li>renameï¼šé‡å‘½åä¸€ä¸ªå®¹å™¨ï¼›</li>\n<li>restartï¼šé‡å¯ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ï¼›</li>\n<li>rmï¼šåˆ é™¤ç»™å®šçš„è‹¥å¹²ä¸ªå®¹å™¨ï¼›</li>\n<li>rmiï¼šåˆ é™¤ç»™å®šçš„è‹¥å¹²ä¸ªé•œåƒï¼›</li>\n<li>runï¼šåˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨ï¼Œå¹¶åœ¨å…¶ä¸­è¿è¡Œç»™å®šå‘½ä»¤ï¼›</li>\n<li>saveï¼šä¿å­˜ä¸€ä¸ªé•œåƒä¸º tar åŒ…æ–‡ä»¶ï¼›</li>\n<li>searchï¼šåœ¨ Docker index ä¸­æœç´¢ä¸€ä¸ªé•œåƒï¼›</li>\n<li>serviceï¼šç®¡ç† Docker æ‰€å¯åŠ¨çš„åº”ç”¨æœåŠ¡ï¼ŒåŒ…æ‹¬åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ç­‰ï¼›</li>\n<li>startï¼šå¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼›</li>\n<li>statsï¼šè¾“å‡ºï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰å®¹å™¨çš„èµ„æºä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯ï¼›</li>\n<li>stopï¼šç»ˆæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ï¼›</li>\n<li>swarmï¼šç®¡ç† Docker swarm é›†ç¾¤ï¼ŒåŒ…æ‹¬åˆ›å»ºã€åŠ å…¥ã€é€€å‡ºã€æ›´æ–°ç­‰ï¼›</li>\n<li>tagï¼šä¸ºä¸€ä¸ªé•œåƒæ‰“æ ‡ç­¾ï¼›</li>\n<li>topï¼šæŸ¥çœ‹ä¸€ä¸ªå®¹å™¨ä¸­çš„æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯ï¼›</li>\n<li>unpauseï¼šå°†ä¸€ä¸ªå®¹å™¨å†…æ‰€æœ‰çš„è¿›ç¨‹ä»æš‚åœçŠ¶æ€ä¸­æ¢å¤ï¼›</li>\n<li>updateï¼šæ›´æ–°æŒ‡å®šçš„è‹¥å¹²å®¹å™¨çš„é…ç½®ä¿¡æ¯ï¼›</li>\n<li>versionï¼šè¾“å‡º Docker çš„ç‰ˆæœ¬ä¿¡æ¯ï¼›</li>\n<li>volumeï¼šç®¡ç† Docker volumeï¼ŒåŒ…æ‹¬æŸ¥çœ‹ã€åˆ›å»ºã€åˆ é™¤ç­‰ï¼›</li>\n<li>waitï¼šé˜»å¡ç›´åˆ°ä¸€ä¸ªå®¹å™¨ç»ˆæ­¢ï¼Œç„¶åè¾“å‡ºå®ƒçš„é€€å‡ºç¬¦ã€‚</li>\n</ul>\n<hr>\n<h2><span id=\"ä¸€å¼ å›¾æ€»ç»“-docker-çš„å‘½ä»¤\">ä¸€å¼ å›¾æ€»ç»“ Docker çš„å‘½ä»¤</span></h2><img src=\"/Blog/docker-%E5%91%BD%E4%BB%A4/cmd_logic.png\" class title=\"cmd_logic\">\n\n<hr>\n<h1><span id=\"æœåŠ¡ç«¯å‘½ä»¤-dockerd\">æœåŠ¡ç«¯å‘½ä»¤ - dockerd</span></h1><hr>\n<h2><span id=\"dockerd-å‘½ä»¤é€‰é¡¹\">dockerd å‘½ä»¤é€‰é¡¹</span></h2><ul>\n<li>â€“api-cors-header=â€â€ï¼šCORS å¤´éƒ¨åŸŸï¼Œé»˜è®¤ä¸å…è®¸ CORSï¼Œè¦å…è®¸ä»»æ„çš„è·¨åŸŸè®¿é—®ï¼Œå¯ä»¥æŒ‡å®šä¸º â€œ*â€œï¼›</li>\n<li>â€“authorization-plugin=â€â€ï¼šè½½å…¥è®¤è¯çš„æ’ä»¶ï¼›</li>\n<li>-b=â€â€ï¼šå°†å®¹å™¨æŒ‚è½½åˆ°ä¸€ä¸ªå·²å­˜åœ¨çš„ç½‘æ¡¥ä¸Šã€‚æŒ‡å®šä¸º none æ—¶åˆ™ç¦ç”¨å®¹å™¨çš„ç½‘ç»œï¼Œä¸ â€“bip é€‰é¡¹äº’æ–¥ï¼›</li>\n<li>â€“bip=â€â€ï¼šè®©åŠ¨æ€åˆ›å»ºçš„ docker0 ç½‘æ¡¥é‡‡ç”¨ç»™å®šçš„ CIDR åœ°å€; ä¸ -b é€‰é¡¹äº’æ–¥ï¼›</li>\n<li>â€“cgroup-parent=â€â€ï¼šæŒ‡å®š cgroup çš„çˆ¶ç»„ï¼Œé»˜è®¤ fs cgroup é©±åŠ¨ä¸º /dockerï¼Œsystemd cgroup é©±åŠ¨ä¸º system.sliceï¼›</li>\n<li>â€“cluster-store=â€â€ï¼šæ„æˆé›†ç¾¤ï¼ˆå¦‚ Swarmï¼‰æ—¶ï¼Œé›†ç¾¤é”®å€¼æ•°æ®åº“æœåŠ¡åœ°å€ï¼›</li>\n<li>â€“cluster-advertise=â€â€ï¼šæ„æˆé›†ç¾¤æ—¶ï¼Œè‡ªèº«çš„è¢«è®¿é—®åœ°å€ï¼Œå¯ä»¥ä¸º host:port æˆ– interface:portï¼›</li>\n<li>â€“cluster-store-opt=â€â€ï¼šæ„æˆé›†ç¾¤æ—¶ï¼Œé”®å€¼æ•°æ®åº“çš„é…ç½®é€‰é¡¹ï¼›</li>\n<li>â€“config-file=â€/etc/docker/daemon.jsonâ€ï¼šdaemon é…ç½®æ–‡ä»¶è·¯å¾„ï¼›</li>\n<li>â€“containerd=â€â€ï¼šcontainerd æ–‡ä»¶çš„è·¯å¾„ï¼›</li>\n<li>-D, â€“debug=true|falseï¼šæ˜¯å¦ä½¿ç”¨ Debug æ¨¡å¼ã€‚ç¼ºçœä¸º falseï¼›</li>\n<li>â€“default-gateway=â€â€ï¼šå®¹å™¨çš„ IPv4 ç½‘å…³åœ°å€ï¼Œå¿…é¡»åœ¨ç½‘æ¡¥çš„å­ç½‘æ®µå†…ï¼›</li>\n<li>â€“default-gateway-v6=â€â€ï¼šå®¹å™¨çš„ IPv6 ç½‘å…³åœ°å€ï¼›</li>\n<li>â€“default-ulimit=[]ï¼šé»˜è®¤çš„ ulimit å€¼ï¼›</li>\n<li>â€“disable-legacy-registry=true|falseï¼šæ˜¯å¦å…è®¸è®¿é—®æ—§ç‰ˆæœ¬çš„é•œåƒä»“åº“æœåŠ¡å™¨ï¼›</li>\n<li>â€“dns=â€â€ï¼šæŒ‡å®šå®¹å™¨ä½¿ç”¨çš„ DNS æœåŠ¡å™¨åœ°å€ï¼›</li>\n<li>â€“dns-opt=â€â€ï¼šDNS é€‰é¡¹ï¼›</li>\n<li>â€“dns-search=[]ï¼šDNS æœç´¢åŸŸï¼›</li>\n<li>â€“exec-opt=[]ï¼šè¿è¡Œæ—¶çš„æ‰§è¡Œé€‰é¡¹ï¼›</li>\n<li>â€“exec-root=â€â€ï¼šå®¹å™¨æ‰§è¡ŒçŠ¶æ€æ–‡ä»¶çš„æ ¹è·¯å¾„ï¼Œé»˜è®¤ä¸º /var/run/dockerï¼›</li>\n<li>â€“fixed-cidr=â€â€ï¼šé™å®šåˆ†é… IPv4 åœ°å€èŒƒå›´ï¼›</li>\n<li>â€“fixed-cidr-v6=â€â€ï¼šé™å®šåˆ†é… IPv6 åœ°å€èŒƒå›´ï¼›</li>\n<li>-G, â€“group=â€â€ï¼šåˆ†é…ç»™ unix å¥—æ¥å­—çš„ç»„ï¼Œé»˜è®¤ä¸º dockerï¼›</li>\n<li>-g, â€“graph=â€â€ï¼šDocker è¿è¡Œæ—¶çš„æ ¹è·¯å¾„ï¼Œé»˜è®¤ä¸º /var/lib/dockerï¼›</li>\n<li>-H, â€“host=[]ï¼šæŒ‡å®šå‘½ä»¤å¯¹åº” Docker daemon çš„ç›‘å¬æ¥å£ï¼Œå¯ä»¥ä¸º unix å¥—æ¥å­— unix:///path/to/socketï¼Œæ–‡ä»¶å¥æŸ„ fd://socketfd æˆ– tcp å¥—æ¥å­— tcp://[host[:port]]ï¼Œé»˜è®¤ä¸º unix:///var/run/docker.sockï¼›</li>\n<li>â€“icc=true|falseï¼šæ˜¯å¦å¯ç”¨å®¹å™¨é—´ä»¥åŠè·Ÿ daemon æ‰€åœ¨ä¸»æœºçš„é€šä¿¡ã€‚é»˜è®¤ä¸º trueã€‚</li>\n<li>â€“insecure-registry=[]ï¼šå…è®¸è®¿é—®ç»™å®šçš„éå®‰å…¨ä»“åº“æœåŠ¡ï¼›</li>\n<li>â€“ip=â€â€ï¼šç»‘å®šå®¹å™¨ç«¯å£æ—¶å€™çš„é»˜è®¤ IP åœ°å€ã€‚ç¼ºçœä¸º 0.0.0.0ï¼›</li>\n<li>â€“ip-forward=true|falseï¼šæ˜¯å¦æ£€æŸ¥å¯åŠ¨åœ¨ Docker ä¸»æœºä¸Šçš„å¯ç”¨ IP è½¬å‘æœåŠ¡ï¼Œé»˜è®¤å¼€å¯ã€‚æ³¨æ„å…³é—­è¯¥é€‰é¡¹å°†ä¸å¯¹ç³»ç»Ÿè½¬å‘èƒ½åŠ›è¿›è¡Œä»»ä½•æ£€æŸ¥ä¿®æ”¹ï¼›</li>\n<li>â€“ip-masq=true|falseï¼šæ˜¯å¦è¿›è¡Œåœ°å€ä¼ªè£…ï¼Œç”¨äºå®¹å™¨è®¿é—®å¤–éƒ¨ç½‘ç»œï¼Œé»˜è®¤å¼€å¯ï¼›</li>\n<li>â€“iptables=true|falseï¼šæ˜¯å¦å…è®¸ Docker æ·»åŠ  iptables è§„åˆ™ã€‚ç¼ºçœä¸º trueï¼›</li>\n<li>â€“ipv6=true|falseï¼šæ˜¯å¦å¯ç”¨ IPv6 æ”¯æŒï¼Œé»˜è®¤å…³é—­ï¼›</li>\n<li>-l, â€“log-level=â€debug|info|warn|error|fatalâ€ï¼šæŒ‡å®šæ—¥å¿—è¾“å‡ºçº§åˆ«ï¼›</li>\n<li>â€“label=â€[]â€ï¼šæ·»åŠ æŒ‡å®šçš„é”®å€¼å¯¹æ ‡æ³¨ï¼›</li>\n<li>â€“log-driver=â€json-file|syslog|journald|gelf|fluentd|awslogs|splunk|etwlogs|gcplogs|noneâ€ï¼šæŒ‡å®šæ—¥å¿—åç«¯é©±åŠ¨ï¼Œé»˜è®¤ä¸º json-fileï¼›</li>\n<li>â€“log-opt=[]ï¼šæ—¥å¿—åç«¯çš„é€‰é¡¹ï¼›</li>\n<li>â€“mtu=VALUEï¼šæŒ‡å®šå®¹å™¨ç½‘ç»œçš„ mtuï¼›</li>\n<li>-p=â€â€ï¼šæŒ‡å®š daemon çš„ PID æ–‡ä»¶è·¯å¾„ã€‚ç¼ºçœä¸º /var/run/docker.pidï¼›</li>\n<li>â€“raw-logsï¼šè¾“å‡ºåŸå§‹ï¼ŒæœªåŠ è‰²å½©çš„æ—¥å¿—ä¿¡æ¯ï¼›</li>\n<li>â€“registry-mirror=<scheme>://<host>ï¼šæŒ‡å®š docker pull æ—¶ä½¿ç”¨çš„æ³¨å†ŒæœåŠ¡å™¨é•œåƒåœ°å€ï¼›</host></scheme></li>\n<li>-s, â€“storage-driver=â€â€ï¼šæŒ‡å®šä½¿ç”¨ç»™å®šçš„å­˜å‚¨åç«¯ï¼›</li>\n<li>â€“selinux-enabled=true|falseï¼šæ˜¯å¦å¯ç”¨ SELinux æ”¯æŒã€‚ç¼ºçœå€¼ä¸º falseã€‚SELinux ç›®å‰å°šä¸æ”¯æŒ overlay å­˜å‚¨é©±åŠ¨ï¼›</li>\n<li>â€“storage-opt=[]ï¼šé©±åŠ¨åç«¯é€‰é¡¹ï¼›</li>\n<li>â€“tls=true|falseï¼šæ˜¯å¦å¯¹ Docker daemon å¯ç”¨ TLS å®‰å…¨æœºåˆ¶ï¼Œé»˜è®¤ä¸ºå¦ï¼›</li>\n<li>â€“tlscacert=/.docker/ca.pemï¼šTLS CA ç­¾åçš„å¯ä¿¡è¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼›</li>\n<li>â€“tlscert=/.docker/cert.pemï¼šTLS å¯ä¿¡è¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼›</li>\n<li>â€“tlscert=/.docker/key.pemï¼šTLS å¯†é’¥æ–‡ä»¶è·¯å¾„ï¼›</li>\n<li>â€“tlsverify=true|falseï¼šå¯ç”¨ TLS æ ¡éªŒï¼Œé»˜è®¤ä¸ºå¦ï¼›</li>\n<li>â€“userland-proxy=true|falseï¼šæ˜¯å¦ä½¿ç”¨ç”¨æˆ·æ€ä»£ç†æ¥å®ç°å®¹å™¨é—´å’Œå‡ºå®¹å™¨çš„å›ç¯é€šä¿¡ï¼Œé»˜è®¤ä¸º trueï¼›</li>\n<li>â€“userns-remap=default|uid:gid|user:group|user|uidï¼šæŒ‡å®šå®¹å™¨çš„ç”¨æˆ·å‘½åç©ºé—´ï¼Œé»˜è®¤æ˜¯åˆ›å»ºæ–°çš„ UID å’Œ GID æ˜ å°„åˆ°å®¹å™¨å†…è¿›ç¨‹ã€‚</li>\n</ul>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Docker"],"tags":["docker"]},{"title":"es6","url":"/Blog/es6/","content":"<p>ECMAScript 6 å…¥é—¨ (<a href=\"https://es6.ruanyifeng.com/\" target=\"_blank\" rel=\"noopener\">https://es6.ruanyifeng.com/</a>)</p>\n<a id=\"more\"></a>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","js"],"tags":["js","es6"]},{"title":"links","url":"/Blog/links/","content":"<hr>\n<br>\n<br>\n<style>\ndetails { user-select: none; }\ndetails[open] summary {text-shadow: #FC0 1px 0 10px;}\nsummary h1 { display: inline; line-height: 1.5em !important; }\nsummary:focus { outline: none; }\nsummary+* { padding-left: 2em; }\n</style>\n\n<p><a href=\"https://github.com/jarze/Blog/edit/page/source/_posts/links/index.md\" target=\"_blank\" rel=\"noopener\">â² å»ç¼–è¾‘</a></p>\n<hr>\n<details open=\"open\"><summary><h1><span id=\"å›¾ç‰‡å¤„ç†\">ğŸ¤¡ å›¾ç‰‡å¤„ç†</span></h1></summary>\n\n<ul>\n<li><a href=\"https://docsmall.com/\" target=\"_blank\" rel=\"noopener\"><strong><code>docsmall</code></strong></a> <em>(åœ¨çº¿ jpgã€pngã€gif å‹ç¼©ç¼©æ”¾)</em></li>\n<li><a href=\"https://tinypng.com\" target=\"_blank\" rel=\"noopener\"><strong>TinyPNG</strong></a> <em>(jpgã€png æ™ºèƒ½å‹ç¼©)</em></li>\n<li><a href=\"https://zhitu.isux.us\" target=\"_blank\" rel=\"noopener\"><strong>æ™ºå›¾</strong></a> <em>(å›¾ç‰‡å‹ç¼©åœ¨çº¿å·¥å…·)</em></li>\n<li><a href=\"https://img.top\" target=\"_blank\" rel=\"noopener\"><strong>img.top</strong></a> <em>(æ™ºèƒ½å›¾ç‰‡å‹ç¼©)</em></li>\n<li><a href=\"https://www.soogif.com\" target=\"_blank\" rel=\"noopener\"><strong>soogif</strong></a> <em>(å…è´¹åŠ¨å›¾åœ¨çº¿åˆ¶ä½œå·¥å…·)</em></li>\n<li><a href=\"https://ezgif.com\" target=\"_blank\" rel=\"noopener\"><strong>ezgif</strong></a> <em>(GIF å…¨èƒ½ç¼–è¾‘å™¨)</em></li>\n</ul>\n</details>\n\n<a id=\"more\"></a>\n\n<details open=\"open\"><summary><h1><span id=\"mdx-docs-website\">ğŸ¤¡ MDXã€Docsã€Website</span></h1></summary>\n\n\n<ul>\n<li><a href=\"https://mdxjs.com/projects\" target=\"_blank\" rel=\"noopener\"><strong>mdx</strong></a> <em>(Markdown for the component era)</em></li>\n<li><a href=\"https://www.docz.site/\" target=\"_blank\" rel=\"noopener\"><strong>docz</strong></a> <em>(Documentation framework)</em></li>\n<li><a href=\"https://charge.js.org/\" target=\"_blank\" rel=\"noopener\"><strong>Charge</strong></a> <em>(An opinionated, zero-config static site generator)</em></li>\n<li><a href=\"https://docusaurus.io/\" target=\"_blank\" rel=\"noopener\"><strong>Docusaurus</strong></a> <em>(Docusaurus was designed from the ground up to be easily installed and used to get your website up and running quickly.)</em></li>\n<li><a href=\"https://docs.gitbook.com/\" target=\"_blank\" rel=\"noopener\"><strong>gitbook</strong></a> <em>(GitBook is a modern documentation platform where teams can document everything from products to internal knowledge-bases and APIs.)</em></li>\n<li><a href=\"https://typedoc.org/\" target=\"_blank\" rel=\"noopener\"><strong>typedoc</strong></a> <em>(A documentation generator for TypeScript projects.)</em></li>\n<li><a href=\"https://docsify.js.org/#/\" target=\"_blank\" rel=\"noopener\"><strong>docsify</strong></a> <em>(A magical documentation site generator.)</em></li>\n<li><a href=\"https://vuepress.vuejs.org/zh/\" target=\"_blank\" rel=\"noopener\"><strong>VuePress</strong></a> <em>(Vue é©±åŠ¨çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨.)</em></li>\n<li><a href=\"https://www.gatsbyjs.com/\" target=\"_blank\" rel=\"noopener\"><strong>Gatsby</strong></a> <em>(Gatsby 4 combines the control and scalability of server-side rendering with the performance of static-site generation, creating a whole new web of possibilites.)</em></li>\n<li><a href=\"https://nextjs.org/\" target=\"_blank\" rel=\"noopener\"><strong>Next.js</strong></a> <em>(The React Framework for Production. Next.js gives you the best developer experience with all the features you need for production: hybrid static &amp; server rendering, TypeScript support, smart bundling, route pre-fetching, and more. No config needed.)</em></li>\n<li><a href=\"https://www.mkdocs.org/\" target=\"_blank\" rel=\"noopener\"><strong>mkdocs</strong></a> <em>(A documentation generator for the Markdown language.)</em></li></ul></details>\n\n\n\n<details open=\"open\"><summary><h1><span id=\"demo\">ğŸ¤¡ DEMO</span></h1></summary>\n\n<ul>\n<li><a href=\"http://www.demosify.com/\" target=\"_blank\" rel=\"noopener\"><strong>demosify</strong></a> <em>(Demo æ¼”ç¤º)</em></li>\n</ul>\n</details>\n\n<details open=\"open\"><summary><h1><span id=\"æµç¨‹å›¾\">ğŸ¤¡ æµç¨‹å›¾</span></h1></summary>\n\n<ul>\n<li><a href=\"https://draw.io/\" target=\"_blank\" rel=\"noopener\"><strong>draw.io</strong></a><em>(å…ç™»å½•ã€å®Œå…¨å…è´¹ã€è·¨å¹³å°,è¿˜å¯ä»¥ä½¿ç”¨ vs code å¼€æºæ’ä»¶)</em></li>\n<li><a href=\"https://plantuml.com/\" target=\"_blank\" rel=\"noopener\"><strong>plantuml</strong></a></li>\n</ul>\n</details>\n<br>\n<br>\n<br>\n<br>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["å·¥å…·æŸ¥è¯¢"],"tags":["link","tool"]},{"title":"Markdown è¯­æ³•å’Œ MWeb å†™ä½œä½¿ç”¨è¯´æ˜","url":"/Blog/markdown/","content":"<ul>\n<li><a href=\"https://list.yinxiang.com/markdown/eef42447-db3f-48ee-827b-1bb34c03eb83.php\" target=\"_blank\" rel=\"noopener\">å°è±¡ç¬”è®° Markdown å…¥é—¨æŒ‡å—</a></li>\n</ul>\n<hr>\n<h2><span id=\"markdown-çš„è®¾è®¡å“²å­¦\">Markdown çš„è®¾è®¡å“²å­¦</span></h2><blockquote>\n<p>Markdown çš„ç›®æ¨™æ˜¯å¯¦ç¾ã€Œæ˜“è®€æ˜“å¯«ã€ã€‚<br>ä¸éæœ€éœ€è¦å¼·èª¿çš„ä¾¿æ˜¯å®ƒçš„å¯è®€æ€§ã€‚ä¸€ä»½ä½¿ç”¨ Markdown æ ¼å¼æ’°å¯«çš„æ–‡ä»¶æ‡‰è©²å¯ä»¥ç›´æ¥ä»¥ç´”æ–‡å­—ç™¼ä½ˆï¼Œä¸¦ä¸”çœ‹èµ·ä¾†ä¸æœƒåƒæ˜¯ç”±è¨±å¤šæ¨™ç±¤æˆ–æ˜¯æ ¼å¼æŒ‡ä»¤æ‰€æ§‹æˆã€‚<br>Markdown çš„èªæ³•æœ‰å€‹ä¸»è¦çš„ç›®çš„ï¼šç”¨ä¾†ä½œç‚ºä¸€ç¨®ç¶²è·¯å…§å®¹çš„<em>å¯«ä½œ</em>ç”¨èªè¨€ã€‚</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2><span id=\"æœ¬æ–‡çº¦å®š\">æœ¬æ–‡çº¦å®š</span></h2><p>å¦‚æœæœ‰å†™ <code>æ•ˆæœå¦‚ä¸‹ï¼š</code>ï¼Œ åœ¨ MWeb ç¼–è¾‘çŠ¶æ€ä¸‹åªæœ‰ç”¨ <code>CMD + 4</code> æˆ– <code>CMD + R</code> é¢„è§ˆæ‰å¯ä»¥çœ‹æ•ˆæœã€‚</p>\n<h2><span id=\"æ ‡é¢˜\">æ ‡é¢˜</span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\"># ç¬¬ä¸€çº§æ ‡é¢˜ &#96;&lt;h1&gt;&#96;</span><br><span class=\"line\">## ç¬¬äºŒçº§æ ‡é¢˜ &#96;&lt;h2&gt;&#96;</span><br><span class=\"line\">###### ç¬¬å…­çº§æ ‡é¢˜ &#96;&lt;h6&gt;&#96;</span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<h1><span id=\"ç¬¬ä¸€çº§æ ‡é¢˜-lth1gt\">ç¬¬ä¸€çº§æ ‡é¢˜ <code>&lt;h1&gt;</code></span></h1><h2><span id=\"ç¬¬äºŒçº§æ ‡é¢˜-lth2gt\">ç¬¬äºŒçº§æ ‡é¢˜ <code>&lt;h2&gt;</code></span></h2><h6><span id=\"ç¬¬å…­çº§æ ‡é¢˜-lth6gt\">ç¬¬å…­çº§æ ‡é¢˜ <code>&lt;h6&gt;</code></span></h6><h2><span id=\"å¼ºè°ƒ\">å¼ºè°ƒ</span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">*è¿™äº›æ–‡å­—ä¼šç”Ÿæˆ&#96;&lt;em&gt;&#96;*</span><br><span class=\"line\">_è¿™äº›æ–‡å­—ä¼šç”Ÿæˆ&#96;&lt;u&gt;&#96;_</span><br><span class=\"line\"></span><br><span class=\"line\">**è¿™äº›æ–‡å­—ä¼šç”Ÿæˆ&#96;&lt;strong&gt;&#96;**</span><br><span class=\"line\">__è¿™äº›æ–‡å­—ä¼šç”Ÿæˆ&#96;&lt;strong&gt;&#96;__</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ MWeb ä¸­çš„å¿«æ·é”®ä¸ºï¼š <code>CMD + U</code>ã€<code>CMD + I</code>ã€<code>CMD + B</code><br>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><em>è¿™äº›æ–‡å­—ä¼šç”Ÿæˆ<code>&lt;em&gt;</code></em><br><em>è¿™äº›æ–‡å­—ä¼šç”Ÿæˆ<code>&lt;u&gt;</code></em></p>\n<p><strong>è¿™äº›æ–‡å­—ä¼šç”Ÿæˆ<code>&lt;strong&gt;</code></strong><br><strong>è¿™äº›æ–‡å­—ä¼šç”Ÿæˆ<code>&lt;strong&gt;</code></strong></p>\n<h2><span id=\"æ¢è¡Œ\">æ¢è¡Œ</span></h2><p>å››ä¸ªåŠä»¥ä¸Šç©ºæ ¼åŠ å›è½¦ã€‚<br>å¦‚æœä¸æƒ³æ‰“è¿™ä¹ˆå¤šç©ºæ ¼ï¼Œåªè¦å›è½¦å°±ä¸ºæ¢è¡Œï¼Œè¯·å‹¾é€‰ï¼š<code>Preferences</code> - <code>Themes</code> - <code>Translate newlines to &lt;br&gt; tags</code></p>\n<h2><span id=\"åˆ—è¡¨\">åˆ—è¡¨</span></h2><h3><span id=\"æ— åºåˆ—è¡¨\">æ— åºåˆ—è¡¨</span></h3><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">* é¡¹ç›®ä¸€ æ— åºåˆ—è¡¨ &#96;* + ç©ºæ ¼é”®&#96;</span><br><span class=\"line\">* é¡¹ç›®äºŒ</span><br><span class=\"line\">* é¡¹ç›®äºŒçš„å­é¡¹ç›®ä¸€ æ— åºåˆ—è¡¨ &#96;TAB + * + ç©ºæ ¼é”®&#96;</span><br><span class=\"line\">* é¡¹ç›®äºŒçš„å­é¡¹ç›®äºŒ</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ MWeb ä¸­çš„å¿«æ·é”®ä¸ºï¼š <code>Option + U</code><br>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<ul>\n<li>é¡¹ç›®ä¸€ æ— åºåˆ—è¡¨ <code>* + ç©ºæ ¼é”®</code></li>\n<li>é¡¹ç›®äºŒ</li>\n<li>é¡¹ç›®äºŒçš„å­é¡¹ç›®ä¸€ æ— åºåˆ—è¡¨ <code>TAB + * + ç©ºæ ¼é”®</code></li>\n<li>é¡¹ç›®äºŒçš„å­é¡¹ç›®äºŒ</li>\n</ul>\n<h3><span id=\"æœ‰åºåˆ—è¡¨\">æœ‰åºåˆ—è¡¨</span></h3><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">1. é¡¹ç›®ä¸€ æœ‰åºåˆ—è¡¨ &#96;æ•°å­— + . + ç©ºæ ¼é”®&#96;</span><br><span class=\"line\">2. é¡¹ç›®äºŒ</span><br><span class=\"line\">3. é¡¹ç›®ä¸‰</span><br><span class=\"line\">1. é¡¹ç›®ä¸‰çš„å­é¡¹ç›®ä¸€ æœ‰åºåˆ—è¡¨ &#96;TAB + æ•°å­— + . + ç©ºæ ¼é”®&#96;</span><br><span class=\"line\">2. é¡¹ç›®ä¸‰çš„å­é¡¹ç›®äºŒ</span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<ol>\n<li>é¡¹ç›®ä¸€ æœ‰åºåˆ—è¡¨ <code>æ•°å­— + . + ç©ºæ ¼é”®</code></li>\n<li>é¡¹ç›®äºŒ</li>\n<li>é¡¹ç›®ä¸‰</li>\n<li>é¡¹ç›®ä¸‰çš„å­é¡¹ç›®ä¸€ æœ‰åºåˆ—è¡¨ <code>TAB + æ•°å­— + . + ç©ºæ ¼é”®</code></li>\n<li>é¡¹ç›®ä¸‰çš„å­é¡¹ç›®äºŒ</li>\n</ol>\n<h3><span id=\"ä»»åŠ¡åˆ—è¡¨task-lists\">ä»»åŠ¡åˆ—è¡¨ï¼ˆTask listsï¼‰</span></h3><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">- [ ] ä»»åŠ¡ä¸€ æœªåšä»»åŠ¡ &#96;- + ç©ºæ ¼ + [ ]&#96;</span><br><span class=\"line\">- [x] ä»»åŠ¡äºŒ å·²åšä»»åŠ¡ &#96;- + ç©ºæ ¼ + [x]&#96;</span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<ul>\n<li><input disabled type=\"checkbox\"> ä»»åŠ¡ä¸€ æœªåšä»»åŠ¡ <code>- + ç©ºæ ¼ + [ ]</code></li>\n<li><input checked disabled type=\"checkbox\"> ä»»åŠ¡äºŒ å·²åšä»»åŠ¡ <code>- + ç©ºæ ¼ + [x]</code></li>\n</ul>\n<h2><span id=\"å›¾ç‰‡\">å›¾ç‰‡</span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">![GitHub set up](http:&#x2F;&#x2F;zh.mweb.im&#x2F;asset&#x2F;img&#x2F;set-up-git.gif)</span><br><span class=\"line\">æ ¼å¼: ![Alt Text](url)</span><br></pre></td></tr></table></figure>\n\n<p><code>Control + Shift + I</code> å¯æ’å…¥Markdownè¯­æ³•ã€‚<br>å¦‚æœæ˜¯ MWeb çš„æ–‡æ¡£åº“ä¸­çš„æ–‡æ¡£ï¼Œè¿˜å¯ä»¥ç”¨æ‹–æ”¾å›¾ç‰‡ã€<code>CMD + V</code> ç²˜è´´ã€<code>CMD + Option + I</code> å¯¼å…¥è¿™ä¸‰ç§æ–¹å¼æ¥å¢åŠ å›¾ç‰‡ã€‚<br>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://zh.mweb.im/asset/img/set-up-git.gif\" alt=\"GitHub set up\"></p>\n<p>MWeb å¼•å…¥çš„ç‰¹åˆ«çš„è¯­æ³•æ¥è®¾ç½®å›¾ç‰‡å®½åº¦ï¼Œæ–¹æ³•æ˜¯åœ¨å›¾ç‰‡æè¿°ååŠ  <code>-w + å›¾ç‰‡å®½åº¦</code> å³å¯ï¼Œæ¯”å¦‚è¯´è¦è®¾ç½®ä¸Šé¢çš„å›¾ç‰‡çš„å®½åº¦ä¸º 140ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://zh.mweb.im/asset/img/set-up-git.gif\" alt=\"GitHub set up-w140\"></p>\n<h2><span id=\"é“¾æ¥\">é“¾æ¥</span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">email &lt;example@example.com&gt;</span><br><span class=\"line\">[GitHub](http:&#x2F;&#x2F;github.com)</span><br><span class=\"line\">è‡ªåŠ¨ç”Ÿæˆè¿æ¥  &lt;http:&#x2F;&#x2F;www.github.com&#x2F;&gt;</span><br></pre></td></tr></table></figure>\n\n<p><code>Control + Shift + L</code> å¯æ’å…¥Markdownè¯­æ³•ã€‚<br>å¦‚æœæ˜¯ MWeb çš„æ–‡æ¡£åº“ä¸­çš„æ–‡æ¡£ï¼Œæ‹–æ”¾æˆ–<code>CMD + Option + I</code> å¯¼å…¥éå›¾ç‰‡æ—¶ï¼Œä¼šç”Ÿæˆè¿æ¥ã€‚<br>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p>Email è¿æ¥ï¼š <a href=\"mailto:&#x65;&#x78;&#x61;&#x6d;&#112;&#108;&#101;&#64;&#101;&#x78;&#x61;&#x6d;&#112;&#108;&#101;&#46;&#99;&#111;&#x6d;\">&#x65;&#x78;&#x61;&#x6d;&#112;&#108;&#101;&#64;&#101;&#x78;&#x61;&#x6d;&#112;&#108;&#101;&#46;&#99;&#111;&#x6d;</a><br><a href=\"http://github.com\" target=\"_blank\" rel=\"noopener\">è¿æ¥æ ‡é¢˜Githubç½‘ç«™</a><br>è‡ªåŠ¨ç”Ÿæˆè¿æ¥åƒï¼š <a href=\"http://www.github.com/\" target=\"_blank\" rel=\"noopener\">http://www.github.com/</a> è¿™æ ·</p>\n<h2><span id=\"åŒºå—å¼•ç”¨\">åŒºå—å¼•ç”¨</span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">æŸæŸè¯´:</span><br><span class=\"line\">&gt; ç¬¬ä¸€è¡Œå¼•ç”¨</span><br><span class=\"line\">&gt; ç¬¬äºŒè¡Œè´¹ç”¨æ–‡å­—</span><br></pre></td></tr></table></figure>\n\n<p><code>CMD + Shift + B</code> å¯æ’å…¥Markdownè¯­æ³•ã€‚<br>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p>æŸæŸè¯´:</p>\n<blockquote>\n<p>ç¬¬ä¸€è¡Œå¼•ç”¨<br>ç¬¬äºŒè¡Œè´¹ç”¨æ–‡å­—</p>\n</blockquote>\n<h2><span id=\"è¡Œå†…ä»£ç \">è¡Œå†…ä»£ç </span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">åƒè¿™æ ·å³å¯ï¼š&#96;&lt;addr&gt;&#96; &#96;code&#96;</span><br></pre></td></tr></table></figure>\n\n<p><code>CMD + K</code> å¯æ’å…¥Markdownè¯­æ³•ã€‚<br>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p>åƒè¿™æ ·å³å¯ï¼š<code>&lt;addr&gt;</code> <code>code</code></p>\n<h2><span id=\"å¤šè¡Œæˆ–è€…ä¸€æ®µä»£ç \">å¤šè¡Œæˆ–è€…ä¸€æ®µä»£ç </span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<pre><code><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fancyAlert</span>(<span class=\"params\">arg</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(arg) &#123;</span><br><span class=\"line\">    $.facebox(&#123;<span class=\"attr\">div</span>:<span class=\"string\">'#foo'</span>&#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></code></pre><p><code>CMD + Shift + K</code> å¯æ’å…¥Markdownè¯­æ³•ã€‚<br>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fancyAlert</span>(<span class=\"params\">arg</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(arg) &#123;</span><br><span class=\"line\">    $.facebox(&#123;<span class=\"attr\">div</span>:<span class=\"string\">'#foo'</span>&#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"é¡ºåºå›¾æˆ–æµç¨‹å›¾\">é¡ºåºå›¾æˆ–æµç¨‹å›¾</span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<pre><code><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">å¼ ä¸‰-&gt;æå››: å˜¿ï¼Œå°å››å„¿, å†™åšå®¢äº†æ²¡?</span><br><span class=\"line\">Note right of æå››: æå››æ„£äº†ä¸€ä¸‹ï¼Œè¯´ï¼š</span><br><span class=\"line\">æå››--&gt;å¼ ä¸‰: å¿™å¾—åè¡€ï¼Œå“ªæœ‰æ—¶é—´å†™ã€‚</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">st&#x3D;&gt;start: å¼€å§‹</span><br><span class=\"line\">e&#x3D;&gt;end: ç»“æŸ</span><br><span class=\"line\">op&#x3D;&gt;operation: æˆ‘çš„æ“ä½œ</span><br><span class=\"line\">cond&#x3D;&gt;condition: ç¡®è®¤ï¼Ÿ</span><br><span class=\"line\"></span><br><span class=\"line\">st-&gt;op-&gt;cond</span><br><span class=\"line\">cond(yes)-&gt;e</span><br><span class=\"line\">cond(no)-&gt;op</span><br></pre></td></tr></table></figure></code></pre><p>æ•ˆæœå¦‚ä¸‹ï¼ˆ <code>Preferences</code> - <code>Themes</code> - <code>Enable sequence &amp; flow chart</code> æ‰ä¼šçœ‹åˆ°æ•ˆæœ ï¼‰ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">å¼ ä¸‰-&gt;æå››: å˜¿ï¼Œå°å››å„¿, å†™åšå®¢äº†æ²¡?</span><br><span class=\"line\">Note right of æå››: æå››æ„£äº†ä¸€ä¸‹ï¼Œè¯´ï¼š</span><br><span class=\"line\">æå››--&gt;å¼ ä¸‰: å¿™å¾—åè¡€ï¼Œå“ªæœ‰æ—¶é—´å†™ã€‚</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">st&#x3D;&gt;start: å¼€å§‹</span><br><span class=\"line\">e&#x3D;&gt;end: ç»“æŸ</span><br><span class=\"line\">op&#x3D;&gt;operation: æˆ‘çš„æ“ä½œ</span><br><span class=\"line\">cond&#x3D;&gt;condition: ç¡®è®¤ï¼Ÿ</span><br><span class=\"line\"></span><br><span class=\"line\">st-&gt;op-&gt;cond</span><br><span class=\"line\">cond(yes)-&gt;e</span><br><span class=\"line\">cond(no)-&gt;op</span><br></pre></td></tr></table></figure>\n\n<p>æ›´å¤šè¯·å‚è€ƒï¼š<a href=\"http://bramp.github.io/js-sequence-diagrams/\" target=\"_blank\" rel=\"noopener\">http://bramp.github.io/js-sequence-diagrams/</a>, <a href=\"http://adrai.github.io/flowchart.js/\" target=\"_blank\" rel=\"noopener\">http://adrai.github.io/flowchart.js/</a></p>\n<h2><span id=\"è¡¨æ ¼\">è¡¨æ ¼</span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">ç¬¬ä¸€æ ¼è¡¨å¤´ | ç¬¬äºŒæ ¼è¡¨å¤´</span><br><span class=\"line\">--------- | -------------</span><br><span class=\"line\">å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬ä¸€æ ¼ | å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬ä¸€æ ¼</span><br><span class=\"line\">å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬äºŒæ ¼ å¤šåŠ æ–‡å­— | å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬äºŒæ ¼</span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>ç¬¬ä¸€æ ¼è¡¨å¤´</th>\n<th>ç¬¬äºŒæ ¼è¡¨å¤´</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬ä¸€æ ¼</td>\n<td>å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬ä¸€æ ¼</td>\n</tr>\n<tr>\n<td>å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬äºŒæ ¼ å¤šåŠ æ–‡å­—</td>\n<td>å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬äºŒæ ¼</td>\n</tr>\n</tbody></table>\n<h2><span id=\"åˆ é™¤çº¿\">åˆ é™¤çº¿</span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<p>åŠ åˆ é™¤çº¿åƒè¿™æ ·ç”¨ï¼š <del>åˆ é™¤è¿™äº›</del></p>\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p>åŠ åˆ é™¤çº¿åƒè¿™æ ·ç”¨ï¼š <del>åˆ é™¤è¿™äº›</del></p>\n<h2><span id=\"åˆ†éš”çº¿\">åˆ†éš”çº¿</span></h2><p>ä»¥ä¸‹ä¸‰ç§æ–¹å¼éƒ½å¯ä»¥ç”Ÿæˆåˆ†éš”çº¿ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">***</span><br><span class=\"line\"></span><br><span class=\"line\">*****</span><br><span class=\"line\"></span><br><span class=\"line\">- - -</span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<hr>\n<hr>\n<hr>\n<h2><span id=\"mathjax\">MathJax</span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">å—çº§å…¬å¼ï¼š</span><br><span class=\"line\">$$\tx &#x3D; \\dfrac&#123;-b \\pm \\sqrt&#123;b^2 - 4ac&#125;&#125;&#123;2a&#125; $$</span><br><span class=\"line\"></span><br><span class=\"line\">\\\\[ \\frac&#123;1&#125;&#123;\\Bigl(\\sqrt&#123;\\phi \\sqrt&#123;5&#125;&#125;-\\phi\\Bigr) e^&#123;\\frac25 \\pi&#125;&#125; &#x3D;</span><br><span class=\"line\">1+\\frac&#123;e^&#123;-2\\pi&#125;&#125; &#123;1+\\frac&#123;e^&#123;-4\\pi&#125;&#125; &#123;1+\\frac&#123;e^&#123;-6\\pi&#125;&#125;</span><br><span class=\"line\">&#123;1+\\frac&#123;e^&#123;-8\\pi&#125;&#125; &#123;1+\\ldots&#125; &#125; &#125; &#125; \\\\]</span><br><span class=\"line\"></span><br><span class=\"line\">è¡Œå†…å…¬å¼ï¼š $\\Gamma(n) &#x3D; (n-1)!\\quad\\forall n\\in\\mathbb N$</span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼ˆ<code>Preferences</code> - <code>Themes</code> - <code>Enable MathJax</code> æ‰ä¼šçœ‹åˆ°æ•ˆæœï¼‰ï¼š</p>\n<p>å—çº§å…¬å¼ï¼š<br>$$    x = \\dfrac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} $$</p>\n<p>\\[ \\frac{1}{\\Bigl(\\sqrt{\\phi \\sqrt{5}}-\\phi\\Bigr) e^{\\frac25 \\pi}} =<br>1+\\frac{e^{-2\\pi}} {1+\\frac{e^{-4\\pi}} {1+\\frac{e^{-6\\pi}}<br>{1+\\frac{e^{-8\\pi}} {1+\\ldots} } } } \\]</p>\n<p>è¡Œå†…å…¬å¼ï¼š $\\Gamma(n) = (n-1)!\\quad\\forall n\\in\\mathbb N$</p>\n<h2><span id=\"è„šæ³¨footnote\">è„šæ³¨ï¼ˆFootnoteï¼‰</span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">è¿™æ˜¯ä¸€ä¸ªè„šæ³¨ï¼š[^sample_footnote]</span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p>è¿™æ˜¯ä¸€ä¸ªè„šæ³¨ï¼š<a href=\"è¿™é‡Œæ˜¯è„šæ³¨ä¿¡æ¯\">^sample_footnote</a></p>\n<h2><span id=\"æ³¨é‡Šå’Œé˜…è¯»æ›´å¤š\">æ³¨é‡Šå’Œé˜…è¯»æ›´å¤š</span></h2><!-- comment -->\n<!-- more -->\n\n<p>Actions-&gt;Insert Read More Comment <em>æˆ–è€…</em> <code>Command + .</code><br><strong>æ³¨</strong> é˜…è¯»æ›´å¤šçš„åŠŸèƒ½åªç”¨åœ¨ç”Ÿæˆç½‘ç«™æˆ–åšå®¢æ—¶ï¼Œæ’å…¥æ—¶æ³¨æ„è¦åç©ºä¸€è¡Œã€‚</p>\n<h2><span id=\"toc\">TOC</span></h2><p>Markdown è¯­æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">[TOC]</span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p>[TOC]</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["å·¥å…·æŸ¥è¯¢"],"tags":["markdown"]},{"title":"npm-scripts","url":"/Blog/npm-scripts/","content":"<p><a href=\"https://www.ruanyifeng.com/blog/2016/10/npm_scripts.html\" target=\"_blank\" rel=\"noopener\">npm scripts ä½¿ç”¨æŒ‡å—</a></p>\n<a id=\"more\"></a>\n\n<h2><span id=\"é€šé…ç¬¦\">é€šé…ç¬¦</span></h2><p>ç”±äº npm è„šæœ¬å°±æ˜¯ Shell è„šæœ¬ï¼Œå› ä¸ºå¯ä»¥ä½¿ç”¨ Shell é€šé…ç¬¦ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint *.js\"</span></span><br><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **/*.js\"</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ*è¡¨ç¤ºä»»æ„æ–‡ä»¶åï¼Œ**è¡¨ç¤ºä»»æ„ä¸€å±‚å­ç›®å½•ã€‚</p>\n<p>å¦‚æœè¦å°†é€šé…ç¬¦ä¼ å…¥åŸå§‹å‘½ä»¤ï¼Œé˜²æ­¢è¢« Shell è½¬ä¹‰ï¼Œè¦å°†æ˜Ÿå·è½¬ä¹‰ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"tap test/\\*.js\"</span></span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"ä¼ å‚\">ä¼ å‚</span></h2><p>å‘ npm è„šæœ¬ä¼ å…¥å‚æ•°ï¼Œè¦ä½¿ç”¨<code>--</code>æ ‡æ˜ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span></span><br></pre></td></tr></table></figure>\n\n<p>å‘ä¸Šé¢çš„ npm run lint å‘½ä»¤ä¼ å…¥å‚æ•°ï¼Œå¿…é¡»å†™æˆä¸‹é¢è¿™æ ·ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ npm run lint --  --reporter checkstyle &gt; checkstyle.xml</span><br></pre></td></tr></table></figure>\n\n<p>ä¹Ÿå¯ä»¥åœ¨ package.json é‡Œé¢å†å°è£…ä¸€ä¸ªå‘½ä»¤ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"lint:checkstyle\"</span>: <span class=\"string\">\"npm run lint -- --reporter checkstyle &gt; checkstyle.xml\"</span></span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"æ‰§è¡Œé¡ºåº\">æ‰§è¡Œé¡ºåº</span></h2><p>å¦‚æœ npm è„šæœ¬é‡Œé¢éœ€è¦æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆéœ€è¦æ˜ç¡®å®ƒä»¬çš„æ‰§è¡Œé¡ºåºã€‚<br>å¦‚æœæ˜¯å¹¶è¡Œæ‰§è¡Œï¼ˆå³åŒæ—¶çš„å¹³è¡Œæ‰§è¡Œï¼‰ï¼Œå¯ä»¥ä½¿ç”¨&amp;ç¬¦å·ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm run script1.js &amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœæ˜¯ç»§å‘æ‰§è¡Œï¼ˆå³åªæœ‰å‰ä¸€ä¸ªä»»åŠ¡æˆåŠŸï¼Œæ‰æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨&amp;&amp;ç¬¦å·ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ npm run script1.js &amp;&amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸¤ä¸ªç¬¦å·æ˜¯ Bash çš„åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ node çš„ä»»åŠ¡ç®¡ç†æ¨¡å—ï¼šscript-runnerã€npm-run-allã€redrunã€‚</p>\n<h2><span id=\"é»˜è®¤å€¼\">é»˜è®¤å€¼</span></h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œnpm è„šæœ¬ç”±ç”¨æˆ·æä¾›ã€‚ä½†æ˜¯ï¼Œnpm å¯¹ä¸¤ä¸ªè„šæœ¬æä¾›äº†é»˜è®¤å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸¤ä¸ªè„šæœ¬ä¸ç”¨å®šä¹‰ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"start\"</span>: <span class=\"string\">\"node server.js\"</span>ï¼Œ</span><br><span class=\"line\"><span class=\"string\">\"install\"</span>: <span class=\"string\">\"node-gyp rebuild\"</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œnpm run start çš„é»˜è®¤å€¼æ˜¯ node server.jsï¼Œå‰ææ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰ server.js è¿™ä¸ªè„šæœ¬ï¼›npm run install çš„é»˜è®¤å€¼æ˜¯ node-gyp rebuildï¼Œå‰ææ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰ binding.gyp æ–‡ä»¶ã€‚</p>\n<h2><span id=\"é’©å­\">é’©å­</span></h2><p>npm è„šæœ¬æœ‰ <strong><code>pre</code></strong>å’Œ <strong><code>post</code></strong> ä¸¤ä¸ªé’©å­ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ<code>build</code> è„šæœ¬å‘½ä»¤çš„é’©å­å°±æ˜¯ <code>prebuild</code> å’Œ <code>postbuild</code>ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"echo I run before the build script\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"postbuild\"</span>: <span class=\"string\">\"echo I run after the build script\"</span></span><br></pre></td></tr></table></figure>\n\n<p>ç”¨æˆ·æ‰§è¡Œ npm run build çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æŒ‰ç…§ä¸‹é¢çš„é¡ºåºæ‰§è¡Œã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm run prebuild &amp;&amp; npm run build &amp;&amp; npm run postbuild</span><br></pre></td></tr></table></figure>\n\n<p>å› æ­¤ï¼Œå¯ä»¥åœ¨è¿™ä¸¤ä¸ªé’©å­é‡Œé¢ï¼Œå®Œæˆä¸€äº›å‡†å¤‡å·¥ä½œå’Œæ¸…ç†å·¥ä½œã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"clean\"</span>: <span class=\"string\">\"rimraf ./dist &amp;&amp; mkdir dist\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"npm run clean\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span></span><br></pre></td></tr></table></figure>\n\n<p>npm é»˜è®¤æä¾›ä¸‹é¢è¿™äº›é’©å­ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">prepublishï¼Œpostpublish</span><br><span class=\"line\">preinstallï¼Œpostinstall</span><br><span class=\"line\">preuninstallï¼Œpostuninstall</span><br><span class=\"line\">preversionï¼Œpostversion</span><br><span class=\"line\">pretestï¼Œposttest</span><br><span class=\"line\">prestopï¼Œpoststop</span><br><span class=\"line\">prestartï¼Œpoststart</span><br><span class=\"line\">prerestartï¼Œpostrestart</span><br></pre></td></tr></table></figure>\n\n<p>npm startã€npm stop å’Œ npm restart éƒ½æ¯”è¾ƒå¥½ç†è§£ï¼Œè€Œ npm restart æ˜¯ä¸€ä¸ªå¤åˆå‘½ä»¤ï¼Œå®é™…ä¸Šä¼šæ‰§è¡Œä¸‰ä¸ªè„šæœ¬å‘½ä»¤ï¼šstopã€restartã€startã€‚å…·ä½“çš„æ‰§è¡Œé¡ºåºå¦‚ä¸‹ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">prerestart</span><br><span class=\"line\">prestop</span><br><span class=\"line\">stop</span><br><span class=\"line\">poststop</span><br><span class=\"line\">restart</span><br><span class=\"line\">prestart</span><br><span class=\"line\">start</span><br><span class=\"line\">poststart</span><br><span class=\"line\">postrestart</span><br></pre></td></tr></table></figure>\n\n<p>è€Œå‘åŒ…çš„ç”Ÿå‘½å‘¨æœŸæ›´ä¸ºå¤æ‚ï¼Œå½“æ‰§è¡Œ <code>npm publish</code>ï¼Œå°†è‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹è„šæœ¬ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">prepublishOnly; <span class=\"comment\">// æœ€é‡è¦çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸã€‚</span></span><br><span class=\"line\">prepack;</span><br><span class=\"line\">prepare; <span class=\"comment\">//npm install ä¹‹åè‡ªåŠ¨æ‰§è¡Œ,npm publish ä¹‹å‰è‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class=\"line\">postpack;</span><br><span class=\"line\">publish;</span><br><span class=\"line\">postpublish;</span><br></pre></td></tr></table></figure>\n\n<p>å½“ç„¶ä½ æ— éœ€å®Œå…¨è®°ä½æ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¦‚æœä½ éœ€è¦åœ¨å‘åŒ…ä¹‹å‰è‡ªåŠ¨åšä¸€äº›äº‹æƒ…ï¼Œå¦‚æµ‹è¯•ã€æ„å»ºç­‰ï¼Œè¯·åœ¨ <code>prepulishOnly</code> ä¸­å®Œæˆã€‚</p>\n<h2><span id=\"å˜é‡\">å˜é‡</span></h2><p>npm è„šæœ¬æœ‰ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå°±æ˜¯å¯ä»¥ä½¿ç”¨ npm çš„å†…éƒ¨å˜é‡ã€‚<br>é¦–å…ˆï¼Œé€šè¿‡<code>npm_package_</code>å‰ç¼€ï¼Œnpm è„šæœ¬å¯ä»¥æ‹¿åˆ° package.json é‡Œé¢çš„å­—æ®µã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; view.js</span><br><span class=\"line\">console.log(process.env.npm_package_name); &#x2F;&#x2F; foo</span><br><span class=\"line\">console.log(process.env.npm_package_version); &#x2F;&#x2F; 1.2.5</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># env å‘½ä»¤å¯ä»¥åˆ—å‡ºæ‰€æœ‰ç¯å¢ƒå˜é‡ã€‚</span></span><br><span class=\"line\"><span class=\"string\">\"env\"</span>: <span class=\"string\">\"env\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># é€šè¿‡npm_package_å‰ç¼€ï¼Œnpm è„šæœ¬å¯ä»¥æ‹¿åˆ°package.jsoné‡Œé¢çš„å­—æ®µ</span></span><br><span class=\"line\">console.log(process.env.npm_package_name); // foo</span><br><span class=\"line\">console.log(process.env.npm_package_version); // 1.2.5</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># npm è„šæœ¬è¿˜å¯ä»¥é€šè¿‡npm_config_å‰ç¼€ï¼Œæ‹¿åˆ° npm çš„é…ç½®å˜é‡</span></span><br><span class=\"line\"><span class=\"string\">\"view\"</span>: <span class=\"string\">\"echo <span class=\"variable\">$npm_config_tag</span>\"</span>,</span><br></pre></td></tr></table></figure>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front"],"tags":["npm"]},{"title":"package.json ä¸­ npm ä¾èµ–åŒ…ç‰ˆæœ¬å‰çš„ç¬¦å·çš„æ„ä¹‰","url":"/Blog/package/","content":"<p>ç‰ˆæœ¬çš„æ ¼å¼</p>\n<blockquote>\n<p><code>major.minor.patch</code></p>\n</blockquote>\n<p>ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è¡¥ç‰ˆæœ¬å·</p>\n<a id=\"more\"></a>\n\n<p><code>patch</code>ï¼šä¿®å¤ bugï¼Œå…¼å®¹è€ç‰ˆæœ¬</p>\n<p><code>minor</code>ï¼šæ–°å¢åŠŸèƒ½ï¼Œå…¼å®¹è€ç‰ˆæœ¬</p>\n<p><code>major</code>ï¼šæ–°çš„æ¶æ„è°ƒæ•´ï¼Œä¸å…¼å®¹è€ç‰ˆæœ¬</p>\n<hr>\n<blockquote>\n<p><code>version</code></p>\n</blockquote>\n<p>å¿…é¡»åŒ¹é…æŸä¸ªç‰ˆæœ¬</p>\n<p>å¦‚ï¼š1.1.2ï¼Œè¡¨ç¤ºå¿…é¡»ä¾èµ– 1.1.2 ç‰ˆ</p>\n<blockquote>\n<p><code>&gt;version</code></p>\n</blockquote>\n<p>å¿…é¡»å¤§äºæŸä¸ªç‰ˆæœ¬</p>\n<p>å¦‚ï¼š&gt;1.1.2ï¼Œè¡¨ç¤ºå¿…é¡»å¤§äº 1.1.2 ç‰ˆ</p>\n<blockquote>\n<p><code>&gt;=version</code></p>\n</blockquote>\n<p>å¯å¤§äºæˆ–ç­‰äºæŸä¸ªç‰ˆæœ¬</p>\n<p>å¦‚ï¼š&gt;=1.1.2ï¼Œè¡¨ç¤ºå¯ä»¥ç­‰äº 1.1.2ï¼Œä¹Ÿå¯ä»¥å¤§äº 1.1.2 ç‰ˆæœ¬</p>\n<blockquote>\n<p><code>&lt;version</code></p>\n</blockquote>\n<p>å¿…é¡»å°äºæŸä¸ªç‰ˆæœ¬</p>\n<p>å¦‚ï¼š&lt;1.1.2ï¼Œè¡¨ç¤ºå¿…é¡»å°äº 1.1.2 ç‰ˆæœ¬</p>\n<blockquote>\n<p><code>&lt;=version</code></p>\n</blockquote>\n<p>å¯ä»¥å°äºæˆ–ç­‰äºæŸä¸ªç‰ˆæœ¬</p>\n<p>å¦‚ï¼š&lt;=1.1.2ï¼Œè¡¨ç¤ºå¯ä»¥ç­‰äº 1.1.2ï¼Œä¹Ÿå¯ä»¥å°äº 1.1.2 ç‰ˆæœ¬</p>\n<blockquote>\n<p><code>~version</code></p>\n</blockquote>\n<p>å¤§æ¦‚åŒ¹é…æŸä¸ªç‰ˆæœ¬</p>\n<p>å¦‚æœ minor ç‰ˆæœ¬å·æŒ‡å®šäº†ï¼Œé‚£ä¹ˆ minor ç‰ˆæœ¬å·ä¸å˜ï¼Œè€Œ patch ç‰ˆæœ¬å·ä»»æ„</p>\n<p>å¦‚æœ minor å’Œ patch ç‰ˆæœ¬å·æœªæŒ‡å®šï¼Œé‚£ä¹ˆ minor å’Œ patch ç‰ˆæœ¬å·ä»»æ„</p>\n<p>å¦‚ï¼š~1.1.2ï¼Œè¡¨ç¤º&gt;=1.1.2 &lt;1.2.0ï¼Œå¯ä»¥æ˜¯ 1.1.2ï¼Œ1.1.3ï¼Œ1.1.4ï¼Œâ€¦..ï¼Œ1.1.n</p>\n<p>å¦‚ï¼š~1.1ï¼Œè¡¨ç¤º&gt;=1.1.0 &lt;1.2.0ï¼Œå¯ä»¥æ˜¯åŒä¸Š</p>\n<p>å¦‚ï¼š~1ï¼Œè¡¨ç¤º&gt;=1.0.0 &lt;2.0.0ï¼Œå¯ä»¥æ˜¯ 1.0.0ï¼Œ1.0.1ï¼Œ1.0.2ï¼Œâ€¦..ï¼Œ1.0.nï¼Œ1.1.nï¼Œ1.2.nï¼Œâ€¦..ï¼Œ1.n.n</p>\n<blockquote>\n<p><code>^version</code></p>\n</blockquote>\n<p>å…¼å®¹æŸä¸ªç‰ˆæœ¬</p>\n<p>ç‰ˆæœ¬å·ä¸­æœ€å·¦è¾¹çš„é 0 æ•°å­—çš„å³ä¾§å¯ä»¥ä»»æ„</p>\n<p>å¦‚æœç¼ºå°‘æŸä¸ªç‰ˆæœ¬å·ï¼Œåˆ™è¿™ä¸ªç‰ˆæœ¬å·çš„ä½ç½®å¯ä»¥ä»»æ„</p>\n<p>å¦‚ï¼š^1.1.2 ï¼Œè¡¨ç¤º&gt;=1.1.2 &lt;2.0.0ï¼Œå¯ä»¥æ˜¯ 1.1.2ï¼Œ1.1.3ï¼Œâ€¦..ï¼Œ1.1.nï¼Œ1.2.nï¼Œâ€¦..ï¼Œ1.n.n</p>\n<p>å¦‚ï¼š^0.2.3 ï¼Œè¡¨ç¤º&gt;=0.2.3 &lt;0.3.0ï¼Œå¯ä»¥æ˜¯ 0.2.3ï¼Œ0.2.4ï¼Œâ€¦..ï¼Œ0.2.n</p>\n<p>å¦‚ï¼š^0.0ï¼Œè¡¨ç¤º &gt;=0.0.0 &lt;0.1.0ï¼Œå¯ä»¥æ˜¯ 0.0.0ï¼Œ0.0.1ï¼Œâ€¦..ï¼Œ0.0.n</p>\n<blockquote>\n<p><code>x-range</code></p>\n</blockquote>\n<p>x çš„ä½ç½®è¡¨ç¤ºä»»æ„ç‰ˆæœ¬</p>\n<p>å¦‚ï¼š1.2.xï¼Œè¡¨ç¤ºå¯ä»¥ 1.2.0ï¼Œ1.2.1ï¼Œâ€¦..ï¼Œ1.2.n</p>\n<blockquote>\n<p><code>*-range</code></p>\n</blockquote>\n<p>ä»»æ„ç‰ˆæœ¬ï¼Œâ€â€ä¹Ÿè¡¨ç¤ºä»»æ„ç‰ˆæœ¬</p>\n<p>å¦‚ï¼š*ï¼Œè¡¨ç¤º&gt;=0.0.0 çš„ä»»æ„ç‰ˆæœ¬</p>\n<blockquote>\n<p><code>version1 - version2</code></p>\n</blockquote>\n<p>å¤§äºç­‰äº version1ï¼Œå°äºç­‰äº version2</p>\n<p>å¦‚ï¼š1.1.2 - 1.3.1ï¼Œè¡¨ç¤ºåŒ…æ‹¬ 1.1.2 å’Œ 1.3.1 ä»¥åŠä»–ä»¬ä»¶çš„ä»»æ„ç‰ˆæœ¬</p>\n<blockquote>\n<p><code>range1 || range2</code></p>\n</blockquote>\n<p>æ»¡è¶³ range1 æˆ–è€…æ»¡è¶³ range2ï¼Œå¯ä»¥å¤šä¸ªèŒƒå›´</p>\n<p>å¦‚ï¼š&lt;1.0.0 || &gt;=2.3.1 &lt;2.4.5 || &gt;=2.5.2 &lt;3.0.0ï¼Œè¡¨ç¤ºæ»¡è¶³è¿™ 3 ä¸ªèŒƒå›´çš„ç‰ˆæœ¬éƒ½å¯ä»¥</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front"],"tags":["npm","Node"]},{"title":"package.jsoné…ç½®é¡¹","url":"/Blog/package-json%E9%85%8D%E7%BD%AE%E9%A1%B9/","content":"<blockquote>\n<p><a href=\"https://docs.npmjs.com/cli/v8/configuring-npm/package-json\" target=\"_blank\" rel=\"noopener\"> _<code>npmjs</code> _</a></p>\n</blockquote>\n<img src=\"/Blog/package-json%E9%85%8D%E7%BD%AE%E9%A1%B9/pkg.png\" class>\n\n<a id=\"more\"></a>\n\n<details><summary><b>ğŸ‘‹ PlantUML</b></summary>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">@startmindmap</span><br><span class=\"line\">* package.json</span><br><span class=\"line\"></span><br><span class=\"line\">left side</span><br><span class=\"line\"></span><br><span class=\"line\"> * å¿…é¡»å±æ€§</span><br><span class=\"line\">  * name</span><br><span class=\"line\">   *_ åç§°</span><br><span class=\"line\">  * version</span><br><span class=\"line\">   *_ ç‰ˆæœ¬å·</span><br><span class=\"line\"></span><br><span class=\"line\"> * æè¿°å±æ€§</span><br><span class=\"line\">  * description</span><br><span class=\"line\">   *_ æè¿°ä¿¡æ¯</span><br><span class=\"line\">  * keywords</span><br><span class=\"line\">   *_ å…³é”®è¯</span><br><span class=\"line\">  * author</span><br><span class=\"line\">   *_ ä½œè€…</span><br><span class=\"line\">  * contributors</span><br><span class=\"line\">   *_ è´¡çŒ®è€…</span><br><span class=\"line\">  * homepage</span><br><span class=\"line\">   *_ ä¸»é¡µ</span><br><span class=\"line\">  * repository</span><br><span class=\"line\">   *_ ä»“åº“</span><br><span class=\"line\">  * bugs</span><br><span class=\"line\">   *_ Bugåé¦ˆåœ°å€</span><br><span class=\"line\"></span><br><span class=\"line\"> * ä¾èµ–é…ç½®</span><br><span class=\"line\">  * dependencies</span><br><span class=\"line\">   *_ ç”Ÿäº§ç¯å¢ƒä¾èµ–</span><br><span class=\"line\">  * devDependencies</span><br><span class=\"line\">   *_ å¼€å‘ç¯å¢ƒä¾èµ–</span><br><span class=\"line\">  * peerDependencies</span><br><span class=\"line\">   *_ å…¼å®¹ä¾èµ–</span><br><span class=\"line\">  * optionalDependencies</span><br><span class=\"line\">   *_ ä¸é˜»æ–­å®‰è£…ä¾èµ–</span><br><span class=\"line\">  * bundledDependencies</span><br><span class=\"line\">   *_ æ‰“åŒ…ä¾èµ–</span><br><span class=\"line\">  * engines</span><br><span class=\"line\">   *_ ç‰ˆæœ¬è¦æ±‚</span><br><span class=\"line\"></span><br><span class=\"line\"> * è„šæœ¬é…ç½®</span><br><span class=\"line\">  * scripts</span><br><span class=\"line\">  * config</span><br><span class=\"line\"></span><br><span class=\"line\">right side</span><br><span class=\"line\"></span><br><span class=\"line\"> * æ–‡ä»¶&amp;ç›®å½•</span><br><span class=\"line\">  * main</span><br><span class=\"line\">   *_ ç¨‹åºå…¥å£</span><br><span class=\"line\">  * browser</span><br><span class=\"line\">   *_ ç¨‹åºå…¥å£</span><br><span class=\"line\">  * module</span><br><span class=\"line\">   *_ ç¨‹åºå…¥å£</span><br><span class=\"line\">  * bin</span><br><span class=\"line\">   *_ å‘½ä»¤è¡Œå·¥å…·å…¥å£</span><br><span class=\"line\">  * files</span><br><span class=\"line\">   *_ å‘å¸ƒæ–‡ä»¶é…ç½®</span><br><span class=\"line\">  * man</span><br><span class=\"line\">   *_ manæ–‡æ¡£</span><br><span class=\"line\">  * directories</span><br><span class=\"line\">   *_ é¡¹ç›®ç›®å½•</span><br><span class=\"line\"></span><br><span class=\"line\"> * å‘å¸ƒé…ç½®</span><br><span class=\"line\">  * private</span><br><span class=\"line\">   *_ é™åˆ¶å‘å¸ƒ</span><br><span class=\"line\">  * preferGlobal</span><br><span class=\"line\">   *_ è­¦å‘Šæœ¬åœ°å®‰è£…</span><br><span class=\"line\">  * publishConfig</span><br><span class=\"line\">   *_ é™åˆ¶å‘å¸ƒä»“åº“</span><br><span class=\"line\">   *_ é™åˆ¶å‘å¸ƒç‰ˆæœ¬</span><br><span class=\"line\">  * os</span><br><span class=\"line\">   *_ é™åˆ¶ç”¨æˆ·å®‰è£…ç³»ç»Ÿ</span><br><span class=\"line\">  * cpu</span><br><span class=\"line\">   *_ é™åˆ¶ç”¨æˆ·å®‰è£…cpu</span><br><span class=\"line\">  * license</span><br><span class=\"line\">   *_ å¼€å‘åè®®</span><br><span class=\"line\"></span><br><span class=\"line\"> * ç¬¬ä¸‰æ–¹é…ç½®</span><br><span class=\"line\">  * typings</span><br><span class=\"line\">  * eslintConfig</span><br><span class=\"line\">  * babel</span><br><span class=\"line\">  * unpkg</span><br><span class=\"line\">  * lint-staged</span><br><span class=\"line\">  * gitHooks</span><br><span class=\"line\">  * browserslist</span><br><span class=\"line\">  * sideEffects</span><br><span class=\"line\">   *_ webpack tree shaking</span><br><span class=\"line\"></span><br><span class=\"line\">@endmindmap</span><br></pre></td></tr></table></figure>\n\n</details>\n\n<hr>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"> //å¦‚æœ private ä¸º <span class=\"literal\">true</span>ï¼Œnpm ä¼šæ‹’ç»å‘å¸ƒã€‚</span><br><span class=\"line\"> <span class=\"string\">\"private\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"> //åˆ†åˆ«æŒ‡å®šç”Ÿäº§ç¯å¢ƒä¾èµ–å’Œå¼€å‘ä¾èµ–</span><br><span class=\"line\">  <span class=\"string\">\"dependencies\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"antd\"</span>: <span class=\"string\">\"^2.11.1\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"classnames\"</span>: <span class=\"string\">\"^2.2.5\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">\"devDependencies\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"axios\"</span>: <span class=\"string\">\"^0.15.3\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"babel-eslint\"</span>: <span class=\"string\">\"^6.1.2\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">//binåˆ¶ä½œå‘½ä»¤è¡Œå·¥å…·</span><br><span class=\"line\">  <span class=\"string\">\"bin\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"dk-cli\"</span>: <span class=\"string\">\"./bin/dk-cli.js\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">//scriptç”¨äºé…ç½®ä¸€äº›è„šæœ¬ï¼Œå¦‚npm run start</span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"start\"</span>: <span class=\"string\">\"node index.js\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">//enginesè®°å½•å½“å‰é¡¹ç›®ä¾èµ– node å’Œ npm çš„ç‰ˆæœ¬å·</span><br><span class=\"line\">  <span class=\"string\">\"engines\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"node\"</span>: <span class=\"string\">\"&gt;=6.9.0\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"npm\"</span>: <span class=\"string\">\"&gt;=3.10.10\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">//publishConfigå†³å®šäº†æˆ‘ä»¬å‘å¸ƒåŒ…å‘å¸ƒåˆ°å“ªé‡Œå»ï¼Œæ­¤æ—¶å‘å¸ƒåŒ…å°±ä¸æ˜¯å¾€ www.npmjs.com/ äº†</span><br><span class=\"line\">  <span class=\"string\">\"publishConfig\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"registry\"</span>: <span class=\"string\">\"http://gong/\"</span></span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","tool"],"tags":["npm"]},{"title":"plantuml","url":"/Blog/plantuml/","content":"<p>PlantUML æ˜¯ä¸€ä¸ªå¯ä»¥å¿«é€Ÿç¼–å†™çš„ç»„ä»¶ã€‚ç»˜åˆ¶å›¾è¡¨ã€‚</p>\n<ul>\n<li>(<a href=\"https://plantuml.com\" target=\"_blank\" rel=\"noopener\">https://plantuml.com</a>)</li>\n<li><a href=\"https://plantuml.com/zh/guide\" target=\"_blank\" rel=\"noopener\">æ–‡æ¡£</a></li>\n</ul>\n<a id=\"more\"></a>\n\n<hr>\n<h2><span id=\"vscodemarkdownuml\">VSCode+Markdown+UML</span></h2><blockquote>\n<p>æ’ä»¶</p>\n</blockquote>\n<ul>\n<li><p><strong>PlantUML</strong><br>å°†æ–‡ä»¶åä»¥ <code>*.pu</code>, <code>*.puml</code>åç¼€ç»“å°¾ï¼Œå³å¯ä½¿ç”¨ PlantUML è¯­æ³•ç”»å›¾ï¼Œä½¿ç”¨å¿«æ·é”® <code>Alt+D</code> ç¼–è¯‘é¢„è§ˆã€‚</p>\n<hr>\n</li>\n<li><p><strong>Copy Markdown as HTML</strong><br>åŠŸèƒ½åŒæ’ä»¶å</p>\n</li>\n<li><p><strong>Markdown All in One</strong><br>ä¸º Markdown æ–‡ä»¶çš„ç¼–è¾‘æä¾›å„ç§å¿«æ·é”®ï¼ˆå¦‚åŠ ç²—ã€æ’å…¥è¡¨æ ¼ï¼‰</p>\n</li>\n<li><p><strong>Markdown Extended</strong><br>Markdown æ‰©å±•è¯­æ³•ï¼ˆæ¯”å¦‚ infoã€dangerï¼‰</p>\n</li>\n<li><p><strong>Markdown Preview Enhanced</strong><br>å¢å¼ºçš„ markdown é¢„è§ˆï¼Œä¸è£…è¿™ä¸ªå¾ˆå¤š markdown æ•ˆæœä¸èƒ½æ­£å¸¸é¢„è§ˆ</p>\n</li>\n<li><p><strong>Markdown Preview Mermaid Support</strong><br>æ”¯æŒ Mermaidï¼Œå®æµ‹åœ¨ VSCode å’Œ Typora ä¸­åªæ”¯æŒæµç¨‹å›¾/åºåˆ—å›¾/ç”˜ç‰¹å›¾/ç®€å•ç±»å›¾ï¼ˆæ— æ³•æè¿°ç±»é—´å…³ç³»ï¼‰</p>\n</li>\n</ul>\n<hr>\n<img src=\"/Blog/plantuml/demo.png\" class>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">@startuml</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">header Page Header</span><br><span class=\"line\">footer Page %page% of %lastpage%</span><br><span class=\"line\"></span><br><span class=\"line\">title æ—¶åºå›¾</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber</span><br><span class=\"line\"></span><br><span class=\"line\">actor Foo1</span><br><span class=\"line\">boundary Foo2</span><br><span class=\"line\">control Foo3</span><br><span class=\"line\">entity Foo4</span><br><span class=\"line\">database Foo5</span><br><span class=\"line\">collections Foo6</span><br><span class=\"line\"></span><br><span class=\"line\">actor Bob #red</span><br><span class=\"line\">&#39; The only difference between actor</span><br><span class=\"line\">&#39;and participant is the drawing</span><br><span class=\"line\">participant Alice</span><br><span class=\"line\">participant &quot;I have a really\\nlong name&quot; as L #99FF99</span><br><span class=\"line\">&#x2F;&#39; You can also declare:</span><br><span class=\"line\">   participant L as &quot;I have a really\\nlong name&quot;  #99FF99</span><br><span class=\"line\">  &#39;&#x2F;</span><br><span class=\"line\">Foo1 -&gt; Foo2 : To boundary</span><br><span class=\"line\">Foo1 -&gt; Foo3 : To control</span><br><span class=\"line\">Foo1 -&gt; Foo4 : To entity</span><br><span class=\"line\">Foo1 -&gt; Foo5 : To database</span><br><span class=\"line\">Foo1 -&gt; Foo6 : To collections</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber 60 10</span><br><span class=\"line\"></span><br><span class=\"line\">Alice-&gt;Bob: Authentication</span><br><span class=\"line\">Bob-&gt;Alice: Authentication</span><br><span class=\"line\">Bob-&gt;L: Log transaction</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber 40 10 &quot;&lt;font color&#x3D;red&gt;&lt;b&gt;Msg 0  &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Bob -&gt;x Alice: authentication</span><br><span class=\"line\">Bob -&gt; Alice</span><br><span class=\"line\">Bob -&gt;&gt; Alice</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber 15 &quot;&lt;b&gt;(&lt;u&gt;##&lt;&#x2F;u&gt;)&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Bob -\\ Alice</span><br><span class=\"line\">Bob \\\\- Alice</span><br><span class=\"line\">Bob &#x2F;&#x2F;-- Alice</span><br><span class=\"line\">Bob -&gt;o Alice</span><br><span class=\"line\">Bob o\\\\-- Alice</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber 15</span><br><span class=\"line\"></span><br><span class=\"line\">Bob &lt;-&gt; Alice</span><br><span class=\"line\">Bob &lt;-&gt;o Alice</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber &quot;&lt;b&gt;[000]&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Bob -[#red]&gt; Alice : hello</span><br><span class=\"line\">Alice -[#0000FF]-&gt;Bob : ok</span><br><span class=\"line\"></span><br><span class=\"line\">note right of L: afterEmit</span><br><span class=\"line\">note over L, Log #FFAAAA: This is displayed\\n over Bob and Alice.</span><br><span class=\"line\">hnote over L : idle</span><br><span class=\"line\">rnote over L</span><br><span class=\"line\"> &quot;r&quot; as rectangle</span><br><span class=\"line\"> &quot;h&quot; as hexagon</span><br><span class=\"line\">endrnote</span><br><span class=\"line\"></span><br><span class=\"line\">note left of Alice #aqua</span><br><span class=\"line\">This is displayed</span><br><span class=\"line\">left of Alice.</span><br><span class=\"line\">end note</span><br><span class=\"line\"></span><br><span class=\"line\">@enduml</span><br></pre></td></tr></table></figure>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["å·¥å…·æŸ¥è¯¢"],"tags":["tool","puml"]},{"title":"CSSå®ç°å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·ï¼ˆâ€¦ï¼‰","url":"/Blog/text-overflow/","content":"<p>å¦‚æœå®ç°å•è¡Œæ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœç•¥å·åŒå­¦ä»¬åº”è¯¥éƒ½çŸ¥é“ç”¨ <code>text-overflow:ellipsis</code> å±æ€§æ¥ï¼Œå½“ç„¶è¿˜éœ€è¦åŠ å®½åº¦ <code>width</code> å±æ¥å…¼å®¹éƒ¨åˆ†æµè§ˆã€‚</p>\n<a id=\"more\"></a>\n\n<p><strong>å®ç°æ–¹æ³•ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">overflow: hidden;</span><br><span class=\"line\">text-overflow:ellipsis;</span><br><span class=\"line\">white-space: nowrap;</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ•ˆæœå¦‚å›¾ï¼š</strong></p>\n<img src=\"/Blog/text-overflow/one-line.jpg\" class>\n\n<p>ä½†æ˜¯è¿™ä¸ªå±æ€§åªæ”¯æŒå•è¡Œæ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœç•¥å·ï¼Œå¦‚æœæˆ‘ä»¬è¦å®ç°å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·å‘¢ã€‚<br>æ¥ä¸‹æ¥é‡ç‚¹è¯´ä¸€è¯´å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·ï¼Œå¦‚ä¸‹ã€‚</p>\n<p><strong>å®ç°æ–¹æ³•ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">display: -webkit-box;</span><br><span class=\"line\">-webkit-box-orient: vertical;</span><br><span class=\"line\">-webkit-line-clamp: <span class=\"number\">3</span>;</span><br><span class=\"line\">overflow: hidden;</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ•ˆæœå¦‚å›¾ï¼š</strong></p>\n<img src=\"/Blog/text-overflow/muti-line.jpg\" class>\n\n<p><strong>é€‚ç”¨èŒƒå›´ï¼š</strong><br>å› ä½¿ç”¨äº† <code>WebKit</code> çš„ <code>CSS</code> æ‰©å±•å±æ€§ï¼Œè¯¥æ–¹æ³•é€‚ç”¨äº <code>WebKit</code> æµè§ˆå™¨åŠç§»åŠ¨ç«¯ï¼›<br><em>æ³¨ï¼š</em></p>\n<ul>\n<li><code>-webkit-line-clamp</code> ç”¨æ¥é™åˆ¶åœ¨ä¸€ä¸ªå—å…ƒç´ æ˜¾ç¤ºçš„æ–‡æœ¬çš„è¡Œæ•°ã€‚ ä¸ºäº†å®ç°è¯¥æ•ˆæœï¼Œå®ƒéœ€è¦ç»„åˆå…¶ä»–çš„ <code>WebKit</code> å±æ€§ã€‚å¸¸è§ç»“åˆå±æ€§ï¼š</li>\n<li><code>display: -webkit-box</code>; å¿…é¡»ç»“åˆçš„å±æ€§ ï¼Œå°†å¯¹è±¡ä½œä¸ºå¼¹æ€§ä¼¸ç¼©ç›’å­æ¨¡å‹æ˜¾ç¤º ã€‚</li>\n<li><code>-webkit-box-orient</code> å¿…é¡»ç»“åˆçš„å±æ€§ ï¼Œè®¾ç½®æˆ–æ£€ç´¢ä¼¸ç¼©ç›’å¯¹è±¡çš„å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ ã€‚</li>\n</ul>\n<p><strong>å®ç°æ–¹æ³•ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">p&#123;</span><br><span class=\"line\">\tposition: relative; line-height: <span class=\"number\">20</span>px; max-height: <span class=\"number\">40</span>px;overflow: hidden;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">p::after&#123;</span><br><span class=\"line\">\tcontent: <span class=\"string\">\"...\"</span>; position: absolute; bottom: <span class=\"number\">0</span>; right: <span class=\"number\">0</span>; padding-left: <span class=\"number\">40</span>px;</span><br><span class=\"line\">\tbackground: -webkit-linear-gradient(left, transparent, #fff 55%);</span><br><span class=\"line\">\tbackground: -o-linear-gradient(right, transparent, #fff 55%);</span><br><span class=\"line\">\tbackground: -moz-linear-gradient(right, transparent, #fff 55%);</span><br><span class=\"line\">\tbackground: linear-gradient(to right, transparent, #fff 55%);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ•ˆæœå¦‚å›¾ï¼š</strong></p>\n<img src=\"/Blog/text-overflow/muti-line-2.jpg\" class>\n\n<p><strong>é€‚ç”¨èŒƒå›´ï¼š</strong><br>è¯¥æ–¹æ³•é€‚ç”¨èŒƒå›´å¹¿ï¼Œä½†æ–‡å­—æœªè¶…å‡ºè¡Œçš„æƒ…å†µä¸‹ä¹Ÿä¼šå‡ºç°çœç•¥å·,å¯ç»“åˆ <code>js</code> ä¼˜åŒ–è¯¥æ–¹æ³•ã€‚<br><em>æ³¨ï¼š</em></p>\n<ul>\n<li>å°† <code>height</code> è®¾ç½®ä¸º <code>line-height</code> çš„æ•´æ•°å€ï¼Œé˜²æ­¢è¶…å‡ºçš„æ–‡å­—éœ²å‡ºã€‚</li>\n<li>ç»™ <code>p::after</code> æ·»åŠ æ¸å˜èƒŒæ™¯å¯é¿å…æ–‡å­—åªæ˜¾ç¤ºä¸€åŠã€‚</li>\n<li>ç”±äº <code>ie6-7</code> ä¸æ˜¾ç¤º <code>content</code> å†…å®¹ï¼Œæ‰€ä»¥è¦æ·»åŠ æ ‡ç­¾å…¼å®¹ <code>ie6-7</code>ï¼ˆå¦‚ï¼š<code>&lt;span&gt;â€¦&lt;span/&gt;</code>ï¼‰ï¼›å…¼å®¹ ie8 éœ€è¦å°†<code>::after</code> æ›¿æ¢æˆ<code>:after</code>ã€‚</li>\n</ul>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","css"],"tags":["css"]},{"title":"TTSï¼ˆText To Speahï¼‰","url":"/Blog/tts/","content":"<p>åœ¨é¡¹ç›®ä¸­éœ€è¦å¯¹ ajax è¯·æ±‚è¿”å›çš„æ¶ˆæ¯è¿›è¡Œè¯­éŸ³æ’­æŠ¥ï¼Œstr ä¸ºéœ€è¦æ’­æŠ¥çš„ä¿¡æ¯ï¼ˆé€‚åº”äºé”™è¯¯ä¿¡æ¯è¯­éŸ³æç¤ºç­‰åœºæ™¯ï¼‰:</p>\n<a id=\"more\"></a>\n\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¯­éŸ³æ’­æŠ¥</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">voiceAnnouncements</span>(<span class=\"params\">str</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ç™¾åº¦è¯­éŸ³åˆæˆï¼šæˆ–è€…ä½¿ç”¨æ–°ç‰ˆåœ°å€https://tsn.baidu.com/text2audio</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> url =</span><br><span class=\"line\">    <span class=\"string\">\"http://tts.baidu.com/text2audio?lan=zh&amp;ie=UTF-8&amp;spd=5&amp;text=\"</span> +</span><br><span class=\"line\">    <span class=\"built_in\">encodeURI</span>(str);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> n = <span class=\"keyword\">new</span> Audio(url);</span><br><span class=\"line\">  n.src = url;</span><br><span class=\"line\">  n.play();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">voiceAnnouncements(<span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">ç§‹åå±±ä¸Šè·¯äººç¨€ï¼Œå¸¸æœ‰è½¦æ‰‹è¾ƒé«˜ä½ï¼›</span></span><br><span class=\"line\"><span class=\"string\">å¦‚ä»Šè½¦é“ä¾æ—§åœ¨ï¼Œä¸è§å½“å¹´è€å¸æœºã€‚</span></span><br><span class=\"line\"><span class=\"string\">å¸æœºè½¦æŠ€ä»Šå°šå¥½ï¼Œå‰ç«¯ç¾¤é‡Œä¸å¯‚å¯¥ï¼›</span></span><br><span class=\"line\"><span class=\"string\">å‘å¤©å†å€Ÿäº”ç™¾å¹´ï¼Œèª“è¨€å„è¡Œé¢†é£éªšã€‚</span></span><br><span class=\"line\"><span class=\"string\">`</span>);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å‚æ•°è§£é‡Šï¼š<ul>\n<li>lanï¼šå›ºå®šå€¼ zhã€‚è¯­è¨€é€‰æ‹©,ç›®å‰åªæœ‰ä¸­è‹±æ–‡æ··åˆæ¨¡å¼ï¼Œå¡«å†™å›ºå®šå€¼ zh</li>\n<li>ie:ç¼–ç æ–¹å¼</li>\n<li>spdï¼šè¯­é€Ÿï¼Œå–å€¼ 0-9ï¼Œé»˜è®¤ä¸º 5 ä¸­è¯­é€Ÿ</li>\n<li>textï¼šåˆæˆçš„æ–‡æœ¬ï¼Œä½¿ç”¨ UTF-8 ç¼–ç ã€‚å°äº 512 ä¸ªä¸­æ–‡å­—æˆ–è€…è‹±æ–‡æ•°å­—ã€‚ï¼ˆæ–‡æœ¬åœ¨ç™¾åº¦æœåŠ¡å™¨å†…è½¬æ¢ä¸º GBK åï¼Œé•¿åº¦å¿…é¡»å°äº 1024 å­—èŠ‚ï¼‰</li>\n</ul>\n</li>\n<li>React Native Text-To-Speech library for Android and iOS</li>\n<li>ç”¨è¯­éŸ³æ§åˆ¶è‡ªå·±çš„ç½‘ç«™ annyangï¼šA tiny JavaScript Speech Recognition library that lets your users control your site with voice commands.annyang has no dependencies, weighs just 2 KB, and is free to use and modify under the MIT licenseã€‚</li>\n</ul>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Fun"],"tags":["js"]},{"title":"keyboard-shortcuts-macos","url":"/Blog/vscode/","content":"<!-- [keyboard-shortcuts-macos](keyboard-shortcuts-macos.pdf) -->\n\n<h2><span id=\"download\">Download</span></h2><a href=\"/Blog/vscode/keyboard-shortcuts-macos.pdf\" title=\"keyboard-shortcuts-macos.pdf\">keyboard-shortcuts-macos.pdf</a>\n\n<a id=\"more\"></a>\n\n<!-- ![keyboard-shortcuts-macos](keyboard-shortcuts-macos.png) -->\n\n<img src=\"/Blog/vscode/keyboard-shortcuts-macos.png\" class title=\"keyboard-shortcuts-macos\">\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["å·¥å…·æŸ¥è¯¢"],"tags":["tool","vscode"]},{"title":"docker-1","url":"/Blog/docker-1/","content":"<h1><span id=\"åŸºæœ¬æ¦‚å¿µ\">åŸºæœ¬æ¦‚å¿µ</span></h1><p><code>Docker</code> åŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ</p>\n<ul>\n<li>é•œåƒï¼ˆ<code>Image</code>ï¼‰</li>\n<li>å®¹å™¨ï¼ˆ<code>Container</code>ï¼‰</li>\n<li>ä»“åº“ï¼ˆ<code>Repository</code>ï¼‰</li>\n</ul>\n<a id=\"more\"></a>\n\n<h2><span id=\"ä»“åº“ç›¸å…³\">ä»“åº“ç›¸å…³</span></h2><blockquote>\n<p>ä»“åº“ï¼ˆRepositoryï¼‰ã€æ³¨å†ŒæœåŠ¡å™¨ï¼ˆRegistryï¼‰ã€æ³¨å†Œç´¢å¼•ï¼ˆIndexï¼‰ æœ‰ä½•å…³ç³»ï¼Ÿ</p>\n</blockquote>\n<p>é¦–å…ˆï¼Œä»“åº“æ˜¯å­˜æ”¾ä¸€ç»„å…³è”é•œåƒçš„é›†åˆï¼Œæ¯”å¦‚åŒä¸€ä¸ªåº”ç”¨çš„ä¸åŒç‰ˆæœ¬çš„é•œåƒã€‚<br>æ³¨å†ŒæœåŠ¡å™¨æ˜¯å­˜æ”¾å®é™…çš„é•œåƒæ–‡ä»¶çš„åœ°æ–¹ã€‚æ³¨å†Œç´¢å¼•åˆ™è´Ÿè´£ç»´æŠ¤ç”¨æˆ·çš„è´¦å·ã€æƒé™ã€æœç´¢ã€æ ‡ç­¾ç­‰çš„ç®¡ç†ã€‚å› æ­¤ï¼Œæ³¨å†ŒæœåŠ¡å™¨åˆ©ç”¨æ³¨å†Œç´¢å¼•æ¥å®ç°è®¤è¯ç­‰ç®¡ç†ã€‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#ä½¿ç”¨docker pså‘½ä»¤è·å–å®¹å™¨çš„ID ã€‚</span></span><br><span class=\"line\"> docker ps</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä½¿ç”¨docker stopå‘½ä»¤åœæ­¢å®¹å™¨ã€‚</span></span><br><span class=\"line\"><span class=\"comment\"># Swap out &lt;the-container-id&gt; with the ID from docker ps</span></span><br><span class=\"line\"> docker stop &lt;the-container-id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å®¹å™¨åœæ­¢åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹docker rmå‘½ä»¤å°†å…¶åˆ é™¤ã€‚</span></span><br><span class=\"line\"> docker rm &lt;the-container-id&gt;</span><br></pre></td></tr></table></figure>\n\n<p>Docker é•œåƒï¼ˆImageï¼‰ï¼Œå°±ç›¸å½“äºæ˜¯ä¸€ä¸ª root æ–‡ä»¶ç³»ç»Ÿã€‚åˆ†å±‚å­˜å‚¨</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker image</span><br><span class=\"line\">docker container</span><br></pre></td></tr></table></figure>\n\n<p>Docker é•œåƒ æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒ ä¸åŒ…å« ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚</p>\n<p>é•œåƒï¼ˆImageï¼‰å’Œå®¹å™¨ï¼ˆContainerï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ ç±» å’Œ å®ä¾‹ ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚</p>\n<p>å®¹å™¨çš„å®è´¨æ˜¯è¿›ç¨‹ï¼Œä½†ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„ å‘½åç©ºé—´ã€‚</p>\n<p>æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤ï¼Œä½¿ç”¨æ•°æ®å·åï¼Œå®¹å™¨åˆ é™¤æˆ–è€…é‡æ–°è¿è¡Œä¹‹åï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚</p>\n<hr>\n<h2><span id=\"æ•°æ®å·volume\">æ•°æ®å·ï¼ˆVolumeï¼‰</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker volume</span><br></pre></td></tr></table></figure>\n\n<p>æ•°æ®å· æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼š</p>\n<ul>\n<li>æ•°æ®å· å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨</li>\n<li>å¯¹ æ•°æ®å· çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆ</li>\n<li>å¯¹ æ•°æ®å· çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒ</li>\n<li>æ•°æ®å· é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤</li>\n</ul>\n<h3><span id=\"æŒ‚è½½ä¸€ä¸ªä¸»æœºç›®å½•ä½œä¸ºæ•°æ®å·\">æŒ‚è½½ä¸€ä¸ªä¸»æœºç›®å½•ä½œä¸ºæ•°æ®å·</span></h3><p>ä½¿ç”¨ â€“mount æ ‡è®°å¯ä»¥æŒ‡å®šæŒ‚è½½ä¸€ä¸ªæœ¬åœ°ä¸»æœºçš„ç›®å½•åˆ°å®¹å™¨ä¸­å»ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ docker run -d -P --name web --mount type&#x3D;bind,source&#x3D;&#x2F;src&#x2F;webapp,target&#x3D;&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html nginx</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"ä½¿ç”¨ç½‘ç»œ\">ä½¿ç”¨ç½‘ç»œ</span></h2><p>Docker å…è®¸é€šè¿‡å¤–éƒ¨è®¿é—®å®¹å™¨æˆ–å®¹å™¨äº’è”çš„æ–¹å¼æ¥æä¾›ç½‘ç»œæœåŠ¡ã€‚</p>\n<p>å®¹å™¨ä¸­å¯ä»¥è¿è¡Œä¸€äº›ç½‘ç»œåº”ç”¨ï¼Œè¦è®©å¤–éƒ¨ä¹Ÿå¯ä»¥è®¿é—®è¿™äº›åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡ -P æˆ– -p å‚æ•°æ¥æŒ‡å®šç«¯å£æ˜ å°„ã€‚<br>å½“ä½¿ç”¨ -P æ ‡è®°æ—¶ï¼ŒDocker ä¼šéšæœºæ˜ å°„ä¸€ä¸ªç«¯å£åˆ°å†…éƒ¨å®¹å™¨å¼€æ”¾çš„ç½‘ç»œç«¯å£ã€‚</p>\n<h2><span id=\"docker-compose\">Docker Compose</span></h2><p>Compose é¡¹ç›®æ˜¯ Docker å®˜æ–¹çš„å¼€æºé¡¹ç›®ï¼Œè´Ÿè´£å®ç°å¯¹ Docker å®¹å™¨é›†ç¾¤çš„å¿«é€Ÿç¼–æ’ã€‚ä»åŠŸèƒ½ä¸Šçœ‹ï¼Œè·Ÿ OpenStack ä¸­çš„ Heat ååˆ†ç±»ä¼¼ã€‚</p>\n<p>å®ƒå…è®¸ç”¨æˆ·é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„ docker-compose.yml æ¨¡æ¿æ–‡ä»¶ï¼ˆYAML æ ¼å¼ï¼‰æ¥å®šä¹‰ä¸€ç»„ç›¸å…³è”çš„åº”ç”¨å®¹å™¨ä¸ºä¸€ä¸ªé¡¹ç›®ï¼ˆprojectï¼‰ã€‚<br>Compose ä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼š</p>\n<ul>\n<li>æœåŠ¡ (service)ï¼šä¸€ä¸ªåº”ç”¨çš„å®¹å™¨ï¼Œå®é™…ä¸Šå¯ä»¥åŒ…æ‹¬è‹¥å¹²è¿è¡Œç›¸åŒé•œåƒçš„å®¹å™¨å®ä¾‹ã€‚</li>\n<li>é¡¹ç›® (project)ï¼šç”±ä¸€ç»„å…³è”çš„åº”ç”¨å®¹å™¨ç»„æˆçš„ä¸€ä¸ªå®Œæ•´ä¸šåŠ¡å•å…ƒï¼Œåœ¨ docker-compose.yml æ–‡ä»¶ä¸­å®šä¹‰ã€‚</li>\n</ul>\n<p>Compose çš„é»˜è®¤ç®¡ç†å¯¹è±¡æ˜¯é¡¹ç›®ï¼Œé€šè¿‡å­å‘½ä»¤å¯¹é¡¹ç›®ä¸­çš„ä¸€ç»„å®¹å™¨è¿›è¡Œä¾¿æ·åœ°ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</p>\n<h3><span id=\"compose-æ¨¡æ¿æ–‡ä»¶\">Compose æ¨¡æ¿æ–‡ä»¶</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">version: <span class=\"string\">\"3\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">services:</span><br><span class=\"line\">  webapp:</span><br><span class=\"line\">    image: examples/web</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - <span class=\"string\">\"80:80\"</span></span><br><span class=\"line\">    volumes:</span><br><span class=\"line\">      - <span class=\"string\">\"/data\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">  web:</span><br><span class=\"line\">    build: .</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>image</strong> æŒ‡å®šé•œåƒ</li>\n<li><strong>build</strong> æŒ‡å®š Dockerfile æ‰€åœ¨æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼ˆå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œæˆ–è€…ç›¸å¯¹ docker-compose.yml æ–‡ä»¶çš„è·¯å¾„ï¼‰ã€‚ Compose å°†ä¼šåˆ©ç”¨å®ƒè‡ªåŠ¨æ„å»ºè¿™ä¸ªé•œåƒï¼Œç„¶åä½¿ç”¨è¿™ä¸ªé•œåƒã€‚åœ¨ Dockerfile ä¸­è®¾ç½®çš„é€‰é¡¹(ä¾‹å¦‚ï¼šCMD, EXPOSE, VOLUME, ENV ç­‰) å°†ä¼šè‡ªåŠ¨è¢«è·å–ï¼Œæ— éœ€åœ¨ docker-compose.yml ä¸­é‡å¤è®¾ç½®ã€‚<ul>\n<li><strong>context</strong> æŒ‡å®š Dockerfile æ‰€åœ¨æ–‡ä»¶å¤¹çš„è·¯å¾„</li>\n<li><strong>dockerfile</strong> æŒ‡ä»¤æŒ‡å®š Dockerfile æ–‡ä»¶åã€‚</li>\n<li><strong>arg</strong> æŒ‡ä»¤æŒ‡å®šæ„å»ºé•œåƒæ—¶çš„å˜é‡ã€‚</li>\n<li><strong>cache_from</strong> æŒ‡å®šæ„å»ºé•œåƒçš„ç¼“å­˜</li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"swarm\">swarm</span></h2><table>\n<thead>\n<tr>\n<th>Command</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker swarm ca</td>\n<td>Display and rotate the root CA</td>\n</tr>\n<tr>\n<td>docker swarm init</td>\n<td>Initialize a swarm</td>\n</tr>\n<tr>\n<td>docker swarm join</td>\n<td>Join a swarm as a node and/or manager</td>\n</tr>\n<tr>\n<td>docker swarm join-token</td>\n<td>Manage join tokens</td>\n</tr>\n<tr>\n<td>docker swarm leave</td>\n<td>Leave the swarm</td>\n</tr>\n<tr>\n<td>docker swarm unlock</td>\n<td>Unlock swarm</td>\n</tr>\n<tr>\n<td>docker swarm unlock-key</td>\n<td>Manage the unlock key</td>\n</tr>\n<tr>\n<td>docker swarm update</td>\n<td>Update the swarm</td>\n</tr>\n</tbody></table>\n<p>è¿è¡Œ Docker çš„ä¸»æœºå¯ä»¥ä¸»åŠ¨åˆå§‹åŒ–ä¸€ä¸ª Swarm é›†ç¾¤æˆ–è€…åŠ å…¥ä¸€ä¸ªå·²å­˜åœ¨çš„ Swarm é›†ç¾¤ï¼Œè¿™æ ·è¿™ä¸ªè¿è¡Œ Docker çš„ä¸»æœºå°±æˆä¸ºä¸€ä¸ª Swarm é›†ç¾¤çš„èŠ‚ç‚¹ (node) ã€‚</p>\n<p>èŠ‚ç‚¹åˆ†ä¸ºç®¡ç† (manager) èŠ‚ç‚¹å’Œå·¥ä½œ (worker) èŠ‚ç‚¹ã€‚</p>\n<p>ç®¡ç†èŠ‚ç‚¹ç”¨äº Swarm é›†ç¾¤çš„ç®¡ç†ï¼Œdocker swarm å‘½ä»¤åŸºæœ¬åªèƒ½åœ¨ç®¡ç†èŠ‚ç‚¹æ‰§è¡Œï¼ˆèŠ‚ç‚¹é€€å‡ºé›†ç¾¤å‘½ä»¤ docker swarm leave å¯ä»¥åœ¨å·¥ä½œèŠ‚ç‚¹æ‰§è¡Œï¼‰ã€‚ä¸€ä¸ª Swarm é›†ç¾¤å¯ä»¥æœ‰å¤šä¸ªç®¡ç†èŠ‚ç‚¹ï¼Œä½†åªæœ‰ä¸€ä¸ªç®¡ç†èŠ‚ç‚¹å¯ä»¥æˆä¸º leaderï¼Œleader é€šè¿‡ raft åè®®å®ç°ã€‚</p>\n<p>å·¥ä½œèŠ‚ç‚¹æ˜¯ä»»åŠ¡æ‰§è¡ŒèŠ‚ç‚¹ï¼Œç®¡ç†èŠ‚ç‚¹å°†æœåŠ¡ (service) ä¸‹å‘è‡³å·¥ä½œèŠ‚ç‚¹æ‰§è¡Œã€‚ç®¡ç†èŠ‚ç‚¹é»˜è®¤ä¹Ÿä½œä¸ºå·¥ä½œèŠ‚ç‚¹ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®è®©æœåŠ¡åªè¿è¡Œåœ¨ç®¡ç†èŠ‚ç‚¹ã€‚</p>\n<p>æ¥è‡ª Docker å®˜ç½‘çš„è¿™å¼ å›¾ç‰‡å½¢è±¡çš„å±•ç¤ºäº†é›†ç¾¤ä¸­ç®¡ç†èŠ‚ç‚¹ä¸å·¥ä½œèŠ‚ç‚¹çš„å…³ç³»ã€‚</p>\n<img src=\"/Blog/docker-1/swarm-diagram.png\" class title=\"swarm-diagram\">\n\n<h3><span id=\"æœåŠ¡å’Œä»»åŠ¡\">æœåŠ¡å’Œä»»åŠ¡</span></h3><p>ä»»åŠ¡ ï¼ˆTaskï¼‰æ˜¯ Swarm ä¸­çš„æœ€å°çš„è°ƒåº¦å•ä½ï¼Œç›®å‰æ¥è¯´å°±æ˜¯ä¸€ä¸ªå•ä¸€çš„å®¹å™¨ã€‚</p>\n<p>æœåŠ¡ ï¼ˆServicesï¼‰ æ˜¯æŒ‡ä¸€ç»„ä»»åŠ¡çš„é›†åˆï¼ŒæœåŠ¡å®šä¹‰äº†ä»»åŠ¡çš„å±æ€§ã€‚æœåŠ¡æœ‰ä¸¤ç§æ¨¡å¼ï¼š</p>\n<ul>\n<li>replicated services æŒ‰ç…§ä¸€å®šè§„åˆ™åœ¨å„ä¸ªå·¥ä½œèŠ‚ç‚¹ä¸Šè¿è¡ŒæŒ‡å®šä¸ªæ•°çš„ä»»åŠ¡ã€‚</li>\n<li>global services æ¯ä¸ªå·¥ä½œèŠ‚ç‚¹ä¸Šè¿è¡Œä¸€ä¸ªä»»åŠ¡</li>\n</ul>\n<p>ä¸¤ç§æ¨¡å¼é€šè¿‡ docker service create çš„ â€“mode å‚æ•°æŒ‡å®šã€‚<br>æ¥è‡ª Docker å®˜ç½‘çš„è¿™å¼ å›¾ç‰‡å½¢è±¡çš„å±•ç¤ºäº†å®¹å™¨ã€ä»»åŠ¡ã€æœåŠ¡çš„å…³ç³»ã€‚</p>\n<img src=\"/Blog/docker-1/services-diagram.png\" class title=\"services-diagram\">\n\n\n<h2><span id=\"æ„å»ºç¼“å­˜\">æ„å»ºç¼“å­˜</span></h2><p>åœ¨é•œåƒçš„æ„å»ºè¿‡ç¨‹ä¸­ï¼ŒDocker ä¼šéå† Dockerfile æ–‡ä»¶ä¸­çš„æŒ‡ä»¤ï¼Œç„¶åæŒ‰é¡ºåºæ‰§è¡Œã€‚åœ¨æ‰§è¡Œæ¯æ¡æŒ‡ä»¤ä¹‹å‰ï¼ŒDocker éƒ½ä¼šåœ¨ç¼“å­˜ä¸­æŸ¥æ‰¾æ˜¯å¦å·²ç»å­˜åœ¨å¯é‡ç”¨çš„é•œåƒï¼Œå¦‚æœæœ‰å°±ä½¿ç”¨ç°å­˜çš„é•œåƒï¼Œä¸å†é‡å¤åˆ›å»ºã€‚å¦‚æœä½ ä¸æƒ³åœ¨æ„å»ºè¿‡ç¨‹ä¸­ä½¿ç”¨ç¼“å­˜ï¼Œä½ å¯ä»¥åœ¨ docker build å‘½ä»¤ä¸­ä½¿ç”¨ â€“no-cache=true é€‰é¡¹ã€‚<br>ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³åœ¨æ„å»ºçš„è¿‡ç¨‹ä¸­ä½¿ç”¨ç¼“å­˜ï¼Œä½ å¾—æ˜ç™½ä»€ä¹ˆæ—¶å€™ä¼šï¼Œä»€ä¹ˆæ—¶å€™ä¸ä¼šæ‰¾åˆ°åŒ¹é…çš„é•œåƒï¼Œéµå¾ªçš„åŸºæœ¬è§„åˆ™å¦‚ä¸‹ï¼š<br>ä»ä¸€ä¸ªåŸºç¡€é•œåƒå¼€å§‹ï¼ˆFROM æŒ‡ä»¤æŒ‡å®šï¼‰ï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤å°†å’Œè¯¥åŸºç¡€é•œåƒçš„æ‰€æœ‰å­é•œåƒè¿›è¡ŒåŒ¹é…ï¼Œæ£€æŸ¥è¿™äº›å­é•œåƒè¢«åˆ›å»ºæ—¶ä½¿ç”¨çš„æŒ‡ä»¤æ˜¯å¦å’Œè¢«æ£€æŸ¥çš„æŒ‡ä»¤å®Œå…¨ä¸€æ ·ã€‚å¦‚æœä¸æ˜¯ï¼Œåˆ™ç¼“å­˜å¤±æ•ˆã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåªéœ€è¦ç®€å•åœ°å¯¹æ¯” Dockerfile ä¸­çš„æŒ‡ä»¤å’Œå­é•œåƒã€‚ç„¶è€Œï¼Œæœ‰äº›æŒ‡ä»¤éœ€è¦æ›´å¤šçš„æ£€æŸ¥å’Œè§£é‡Šã€‚å¯¹äº ADD å’Œ COPY æŒ‡ä»¤ï¼Œé•œåƒä¸­å¯¹åº”æ–‡ä»¶çš„å†…å®¹ä¹Ÿä¼šè¢«æ£€æŸ¥ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½ä¼šè®¡ç®—å‡ºä¸€ä¸ªæ ¡éªŒå’Œã€‚æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´å’Œæœ€åè®¿é—®æ—¶é—´ä¸ä¼šçº³å…¥æ ¡éªŒã€‚åœ¨ç¼“å­˜çš„æŸ¥æ‰¾è¿‡ç¨‹ä¸­ï¼Œä¼šå°†è¿™äº›æ ¡éªŒå’Œå’Œå·²å­˜åœ¨é•œåƒä¸­çš„æ–‡ä»¶æ ¡éªŒå’Œè¿›è¡Œå¯¹æ¯”ã€‚å¦‚æœæ–‡ä»¶æœ‰ä»»ä½•æ”¹å˜ï¼Œæ¯”å¦‚å†…å®¹å’Œå…ƒæ•°æ®ï¼Œåˆ™ç¼“å­˜å¤±æ•ˆã€‚é™¤äº† ADD å’Œ COPY æŒ‡ä»¤ï¼Œç¼“å­˜åŒ¹é…è¿‡ç¨‹ä¸ä¼šæŸ¥çœ‹ä¸´æ—¶å®¹å™¨ä¸­çš„æ–‡ä»¶æ¥å†³å®šç¼“å­˜æ˜¯å¦åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œå½“æ‰§è¡Œå®Œ RUN apt-get -y update æŒ‡ä»¤åï¼Œå®¹å™¨ä¸­ä¸€äº›æ–‡ä»¶è¢«æ›´æ–°ï¼Œä½† Docker ä¸ä¼šæ£€æŸ¥è¿™äº›æ–‡ä»¶ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåªæœ‰æŒ‡ä»¤å­—ç¬¦ä¸²æœ¬èº«è¢«ç”¨æ¥åŒ¹é…ç¼“å­˜ã€‚<br>ä¸€æ—¦ç¼“å­˜å¤±æ•ˆï¼Œæ‰€æœ‰åç»­çš„ Dockerfile æŒ‡ä»¤éƒ½å°†äº§ç”Ÿæ–°çš„é•œåƒï¼Œç¼“å­˜ä¸ä¼šè¢«ä½¿ç”¨ã€‚</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Docker"],"tags":["docker"]},{"title":"eslint prettierè§„åˆ™é…ç½®è¯´æ˜","url":"/Blog/eslint-rules/","content":"<blockquote>\n<p><a href=\"https://cn.eslint.org/docs/rules/\" target=\"_blank\" rel=\"noopener\">ESLint Rules</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://prettier.io/docs/en/options.html\" target=\"_blank\" rel=\"noopener\">Prettier Options</a></p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1><span id=\"eslint\"><code>eslint</code></span></h1><figure class=\"highlight\"><table><tr><td class=\"code\"><pre><span class=\"line\">\"no-alert\": 0,//ç¦æ­¢ä½¿ç”¨alert confirm prompt</span><br><span class=\"line\">\"no-array-constructor\": 2,//ç¦æ­¢ä½¿ç”¨æ•°ç»„æ„é€ å™¨</span><br><span class=\"line\">\"no-bitwise\": 0,//ç¦æ­¢ä½¿ç”¨æŒ‰ä½è¿ç®—ç¬¦</span><br><span class=\"line\">\"no-caller\": 1,//ç¦æ­¢ä½¿ç”¨arguments.calleræˆ–arguments.callee</span><br><span class=\"line\">\"no-catch-shadow\": 2,//ç¦æ­¢catchå­å¥å‚æ•°ä¸å¤–éƒ¨ä½œç”¨åŸŸå˜é‡åŒå</span><br><span class=\"line\">\"no-class-assign\": 2,//ç¦æ­¢ç»™ç±»èµ‹å€¼</span><br><span class=\"line\">\"no-cond-assign\": 2,//ç¦æ­¢åœ¨æ¡ä»¶è¡¨è¾¾å¼ä¸­ä½¿ç”¨èµ‹å€¼è¯­å¥</span><br><span class=\"line\">\"no-console\": 2,//ç¦æ­¢ä½¿ç”¨console</span><br><span class=\"line\">\"no-const-assign\": 2,//ç¦æ­¢ä¿®æ”¹constå£°æ˜çš„å˜é‡</span><br><span class=\"line\">\"no-constant-condition\": 2,//ç¦æ­¢åœ¨æ¡ä»¶ä¸­ä½¿ç”¨å¸¸é‡è¡¨è¾¾å¼ if(true) if(1)</span><br><span class=\"line\">\"no-continue\": 0,//ç¦æ­¢ä½¿ç”¨continue</span><br><span class=\"line\">\"no-control-regex\": 2,//ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ§åˆ¶å­—ç¬¦</span><br><span class=\"line\">\"no-debugger\": 2,//ç¦æ­¢ä½¿ç”¨debugger</span><br><span class=\"line\">\"no-delete-var\": 2,//ä¸èƒ½å¯¹varå£°æ˜çš„å˜é‡ä½¿ç”¨deleteæ“ä½œç¬¦</span><br><span class=\"line\">\"no-div-regex\": 1,//ä¸èƒ½ä½¿ç”¨çœ‹èµ·æ¥åƒé™¤æ³•çš„æ­£åˆ™è¡¨è¾¾å¼/=foo/</span><br><span class=\"line\">\"no-dupe-keys\": 2,//åœ¨åˆ›å»ºå¯¹è±¡å­—é¢é‡æ—¶ä¸å…è®¸é”®é‡å¤ &#123;a:1,a:1&#125;</span><br><span class=\"line\">\"no-dupe-args\": 2,//å‡½æ•°å‚æ•°ä¸èƒ½é‡å¤</span><br><span class=\"line\">\"no-duplicate-case\": 2,//switchä¸­çš„caseæ ‡ç­¾ä¸èƒ½é‡å¤</span><br><span class=\"line\">\"no-else-return\": 2,//å¦‚æœifè¯­å¥é‡Œé¢æœ‰return,åé¢ä¸èƒ½è·Ÿelseè¯­å¥</span><br><span class=\"line\">\"no-empty\": 2,//å—è¯­å¥ä¸­çš„å†…å®¹ä¸èƒ½ä¸ºç©º</span><br><span class=\"line\">\"no-empty-character-class\": 2,//æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„[]å†…å®¹ä¸èƒ½ä¸ºç©º</span><br><span class=\"line\">\"no-empty-label\": 2,//ç¦æ­¢ä½¿ç”¨ç©ºlabel</span><br><span class=\"line\">\"no-eq-null\": 2,//ç¦æ­¢å¯¹nullä½¿ç”¨==æˆ–!=è¿ç®—ç¬¦</span><br><span class=\"line\">\"no-eval\": 1,//ç¦æ­¢ä½¿ç”¨eval</span><br><span class=\"line\">\"no-ex-assign\": 2,//ç¦æ­¢ç»™catchè¯­å¥ä¸­çš„å¼‚å¸¸å‚æ•°èµ‹å€¼</span><br><span class=\"line\">\"no-extend-native\": 2,//ç¦æ­¢æ‰©å±•nativeå¯¹è±¡</span><br><span class=\"line\">\"no-extra-bind\": 2,//ç¦æ­¢ä¸å¿…è¦çš„å‡½æ•°ç»‘å®š</span><br><span class=\"line\">\"no-extra-boolean-cast\": 2,//ç¦æ­¢ä¸å¿…è¦çš„boolè½¬æ¢</span><br><span class=\"line\">\"no-extra-parens\": 2,//ç¦æ­¢éå¿…è¦çš„æ‹¬å·</span><br><span class=\"line\">\"no-extra-semi\": 2,//ç¦æ­¢å¤šä½™çš„å†’å·</span><br><span class=\"line\">\"no-fallthrough\": 1,//ç¦æ­¢switchç©¿é€</span><br><span class=\"line\">\"no-floating-decimal\": 2,//ç¦æ­¢çœç•¥æµ®ç‚¹æ•°ä¸­çš„0 .5 3.</span><br><span class=\"line\">\"no-func-assign\": 2,//ç¦æ­¢é‡å¤çš„å‡½æ•°å£°æ˜</span><br><span class=\"line\">\"no-implicit-coercion\": 1,//ç¦æ­¢éšå¼è½¬æ¢</span><br><span class=\"line\">\"no-implied-eval\": 2,//ç¦æ­¢ä½¿ç”¨éšå¼eval</span><br><span class=\"line\">\"no-inline-comments\": 0,//ç¦æ­¢è¡Œå†…å¤‡æ³¨</span><br><span class=\"line\">\"no-inner-declarations\": [2, \"functions\"],//ç¦æ­¢åœ¨å—è¯­å¥ä¸­ä½¿ç”¨å£°æ˜ï¼ˆå˜é‡æˆ–å‡½æ•°ï¼‰</span><br><span class=\"line\">\"no-invalid-regexp\": 2,//ç¦æ­¢æ— æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼</span><br><span class=\"line\">\"no-invalid-this\": 2,//ç¦æ­¢æ— æ•ˆçš„thisï¼Œåªèƒ½ç”¨åœ¨æ„é€ å™¨ï¼Œç±»ï¼Œå¯¹è±¡å­—é¢é‡</span><br><span class=\"line\">\"no-irregular-whitespace\": 2,//ä¸èƒ½æœ‰ä¸è§„åˆ™çš„ç©ºæ ¼</span><br><span class=\"line\">\"no-iterator\": 2,//ç¦æ­¢ä½¿ç”¨__iterator__ å±æ€§</span><br><span class=\"line\">\"no-label-var\": 2,//labelåä¸èƒ½ä¸varå£°æ˜çš„å˜é‡åç›¸åŒ</span><br><span class=\"line\">\"no-labels\": 2,//ç¦æ­¢æ ‡ç­¾å£°æ˜</span><br><span class=\"line\">\"no-lone-blocks\": 2,//ç¦æ­¢ä¸å¿…è¦çš„åµŒå¥—å—</span><br><span class=\"line\">\"no-lonely-if\": 2,//ç¦æ­¢elseè¯­å¥å†…åªæœ‰ifè¯­å¥</span><br><span class=\"line\">\"no-loop-func\": 1,//ç¦æ­¢åœ¨å¾ªç¯ä¸­ä½¿ç”¨å‡½æ•°ï¼ˆå¦‚æœæ²¡æœ‰å¼•ç”¨å¤–éƒ¨å˜é‡ä¸å½¢æˆé—­åŒ…å°±å¯ä»¥ï¼‰</span><br><span class=\"line\">\"no-mixed-requires\": [0, false],//å£°æ˜æ—¶ä¸èƒ½æ··ç”¨å£°æ˜ç±»å‹</span><br><span class=\"line\">\"no-mixed-spaces-and-tabs\": [2, false],//ç¦æ­¢æ··ç”¨tabå’Œç©ºæ ¼</span><br><span class=\"line\">\"linebreak-style\": [0, \"windows\"],//æ¢è¡Œé£æ ¼</span><br><span class=\"line\">\"no-multi-spaces\": 1,//ä¸èƒ½ç”¨å¤šä½™çš„ç©ºæ ¼</span><br><span class=\"line\">\"no-multi-str\": 2,//å­—ç¬¦ä¸²ä¸èƒ½ç”¨\\æ¢è¡Œ</span><br><span class=\"line\">\"no-multiple-empty-lines\": [1, &#123;\"max\": 2&#125;],//ç©ºè¡Œæœ€å¤šä¸èƒ½è¶…è¿‡2è¡Œ</span><br><span class=\"line\">\"no-native-reassign\": 2,//ä¸èƒ½é‡å†™nativeå¯¹è±¡</span><br><span class=\"line\">\"no-negated-in-lhs\": 2,//in æ“ä½œç¬¦çš„å·¦è¾¹ä¸èƒ½æœ‰!</span><br><span class=\"line\">\"no-nested-ternary\": 0,//ç¦æ­¢ä½¿ç”¨åµŒå¥—çš„ä¸‰ç›®è¿ç®—</span><br><span class=\"line\">\"no-new\": 1,//ç¦æ­¢åœ¨ä½¿ç”¨newæ„é€ ä¸€ä¸ªå®ä¾‹åä¸èµ‹å€¼</span><br><span class=\"line\">\"no-new-func\": 1,//ç¦æ­¢ä½¿ç”¨new Function</span><br><span class=\"line\">\"no-new-object\": 2,//ç¦æ­¢ä½¿ç”¨new Object()</span><br><span class=\"line\">\"no-new-require\": 2,//ç¦æ­¢ä½¿ç”¨new require</span><br><span class=\"line\">\"no-new-wrappers\": 2,//ç¦æ­¢ä½¿ç”¨newåˆ›å»ºåŒ…è£…å®ä¾‹ï¼Œnew String new Boolean new Number</span><br><span class=\"line\">\"no-obj-calls\": 2,//ä¸èƒ½è°ƒç”¨å†…ç½®çš„å…¨å±€å¯¹è±¡ï¼Œæ¯”å¦‚Math() JSON()</span><br><span class=\"line\">\"no-octal\": 2,//ç¦æ­¢ä½¿ç”¨å…«è¿›åˆ¶æ•°å­—</span><br><span class=\"line\">\"no-octal-escape\": 2,//ç¦æ­¢ä½¿ç”¨å…«è¿›åˆ¶è½¬ä¹‰åºåˆ—</span><br><span class=\"line\">\"no-param-reassign\": 2,//ç¦æ­¢ç»™å‚æ•°é‡æ–°èµ‹å€¼</span><br><span class=\"line\">\"no-path-concat\": 0,//nodeä¸­ä¸èƒ½ä½¿ç”¨__dirnameæˆ–__filenameåšè·¯å¾„æ‹¼æ¥</span><br><span class=\"line\">\"no-plusplus\": 0,//ç¦æ­¢ä½¿ç”¨++ï¼Œ--</span><br><span class=\"line\">\"no-process-env\": 0,//ç¦æ­¢ä½¿ç”¨process.env</span><br><span class=\"line\">\"no-process-exit\": 0,//ç¦æ­¢ä½¿ç”¨process.exit()</span><br><span class=\"line\">\"no-proto\": 2,//ç¦æ­¢ä½¿ç”¨__proto__å±æ€§</span><br><span class=\"line\">\"no-redeclare\": 2,//ç¦æ­¢é‡å¤å£°æ˜å˜é‡</span><br><span class=\"line\">\"no-regex-spaces\": 2,//ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ä¸­ä½¿ç”¨å¤šä¸ªç©ºæ ¼ /foo bar/</span><br><span class=\"line\">\"no-restricted-modules\": 0,//å¦‚æœç¦ç”¨äº†æŒ‡å®šæ¨¡å—ï¼Œä½¿ç”¨å°±ä¼šæŠ¥é”™</span><br><span class=\"line\">\"no-return-assign\": 1,//return è¯­å¥ä¸­ä¸èƒ½æœ‰èµ‹å€¼è¡¨è¾¾å¼</span><br><span class=\"line\">\"no-script-url\": 0,//ç¦æ­¢ä½¿ç”¨javascript:void(0)</span><br><span class=\"line\">\"no-self-compare\": 2,//ä¸èƒ½æ¯”è¾ƒè‡ªèº«</span><br><span class=\"line\">\"no-sequences\": 0,//ç¦æ­¢ä½¿ç”¨é€—å·è¿ç®—ç¬¦</span><br><span class=\"line\">\"no-shadow\": 2,//å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„å˜é‡ä¸èƒ½ä¸å®ƒæ‰€åŒ…å«çš„ä½œç”¨åŸŸä¸­çš„å˜é‡æˆ–å‚æ•°åŒå</span><br><span class=\"line\">\"no-shadow-restricted-names\": 2,//ä¸¥æ ¼æ¨¡å¼ä¸­è§„å®šçš„é™åˆ¶æ ‡è¯†ç¬¦ä¸èƒ½ä½œä¸ºå£°æ˜æ—¶çš„å˜é‡åä½¿ç”¨</span><br><span class=\"line\">\"no-spaced-func\": 2,//å‡½æ•°è°ƒç”¨æ—¶ å‡½æ•°åä¸()ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼</span><br><span class=\"line\">\"no-sparse-arrays\": 2,//ç¦æ­¢ç¨€ç–æ•°ç»„ï¼Œ [1,,2]</span><br><span class=\"line\">\"no-sync\": 0,//nodejs ç¦æ­¢åŒæ­¥æ–¹æ³•</span><br><span class=\"line\">\"no-ternary\": 0,//ç¦æ­¢ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦</span><br><span class=\"line\">\"no-trailing-spaces\": 1,//ä¸€è¡Œç»“æŸåé¢ä¸è¦æœ‰ç©ºæ ¼</span><br><span class=\"line\">\"no-this-before-super\": 0,//åœ¨è°ƒç”¨super()ä¹‹å‰ä¸èƒ½ä½¿ç”¨thisæˆ–super</span><br><span class=\"line\">\"no-throw-literal\": 2,//ç¦æ­¢æŠ›å‡ºå­—é¢é‡é”™è¯¯ throw \"error\";</span><br><span class=\"line\">\"no-undef\": 1,//ä¸èƒ½æœ‰æœªå®šä¹‰çš„å˜é‡</span><br><span class=\"line\">\"no-undef-init\": 2,//å˜é‡åˆå§‹åŒ–æ—¶ä¸èƒ½ç›´æ¥ç»™å®ƒèµ‹å€¼ä¸ºundefined</span><br><span class=\"line\">\"no-undefined\": 2,//ä¸èƒ½ä½¿ç”¨undefined</span><br><span class=\"line\">\"no-unexpected-multiline\": 2,//é¿å…å¤šè¡Œè¡¨è¾¾å¼</span><br><span class=\"line\">\"no-underscore-dangle\": 1,//æ ‡è¯†ç¬¦ä¸èƒ½ä»¥_å¼€å¤´æˆ–ç»“å°¾</span><br><span class=\"line\">\"no-unneeded-ternary\": 2,//ç¦æ­¢ä¸å¿…è¦çš„åµŒå¥— var isYes = answer === 1 ? true : false;</span><br><span class=\"line\">\"no-unreachable\": 2,//ä¸èƒ½æœ‰æ— æ³•æ‰§è¡Œçš„ä»£ç </span><br><span class=\"line\">\"no-unused-expressions\": 2,//ç¦æ­¢æ— ç”¨çš„è¡¨è¾¾å¼</span><br><span class=\"line\">\"no-unused-vars\": [2, &#123;\"vars\": \"all\", \"args\": \"after-used\"&#125;],//ä¸èƒ½æœ‰å£°æ˜åæœªè¢«ä½¿ç”¨çš„å˜é‡æˆ–å‚æ•°</span><br><span class=\"line\">\"no-use-before-define\": 2,//æœªå®šä¹‰å‰ä¸èƒ½ä½¿ç”¨</span><br><span class=\"line\">\"no-useless-call\": 2,//ç¦æ­¢ä¸å¿…è¦çš„callå’Œapply</span><br><span class=\"line\">\"no-void\": 2,//ç¦ç”¨voidæ“ä½œç¬¦</span><br><span class=\"line\">\"no-var\": 0,//ç¦ç”¨varï¼Œç”¨letå’Œconstä»£æ›¿</span><br><span class=\"line\">\"no-warning-comments\": [1, &#123; \"terms\": [\"todo\", \"fixme\", \"xxx\"], \"location\": \"start\" &#125;],//ä¸èƒ½æœ‰è­¦å‘Šå¤‡æ³¨</span><br><span class=\"line\">\"no-with\": 2,//ç¦ç”¨with</span><br><span class=\"line\"></span><br><span class=\"line\">\"array-bracket-spacing\": [2, \"never\"],//æ˜¯å¦å…è®¸éç©ºæ•°ç»„é‡Œé¢æœ‰å¤šä½™çš„ç©ºæ ¼</span><br><span class=\"line\">\"arrow-parens\": 0,//ç®­å¤´å‡½æ•°ç”¨å°æ‹¬å·æ‹¬èµ·æ¥</span><br><span class=\"line\">\"arrow-spacing\": 0,//=&gt;çš„å‰/åæ‹¬å·</span><br><span class=\"line\">\"accessor-pairs\": 0,//åœ¨å¯¹è±¡ä¸­ä½¿ç”¨getter/setter</span><br><span class=\"line\">\"block-scoped-var\": 0,//å—è¯­å¥ä¸­ä½¿ç”¨var</span><br><span class=\"line\">\"brace-style\": [1, \"1tbs\"],//å¤§æ‹¬å·é£æ ¼</span><br><span class=\"line\">\"callback-return\": 1,//é¿å…å¤šæ¬¡è°ƒç”¨å›è°ƒä»€ä¹ˆçš„</span><br><span class=\"line\">\"camelcase\": 2,//å¼ºåˆ¶é©¼å³°æ³•å‘½å</span><br><span class=\"line\">\"comma-dangle\": [2, \"never\"],//å¯¹è±¡å­—é¢é‡é¡¹å°¾ä¸èƒ½æœ‰é€—å·</span><br><span class=\"line\">\"comma-spacing\": 0,//é€—å·å‰åçš„ç©ºæ ¼</span><br><span class=\"line\">\"comma-style\": [2, \"last\"],//é€—å·é£æ ¼ï¼Œæ¢è¡Œæ—¶åœ¨è¡Œé¦–è¿˜æ˜¯è¡Œå°¾</span><br><span class=\"line\">\"complexity\": [0, 11],//å¾ªç¯å¤æ‚åº¦</span><br><span class=\"line\">\"computed-property-spacing\": [0, \"never\"],//æ˜¯å¦å…è®¸è®¡ç®—åçš„é”®åä»€ä¹ˆçš„</span><br><span class=\"line\">\"consistent-return\": 0,//return åé¢æ˜¯å¦å…è®¸çœç•¥</span><br><span class=\"line\">\"consistent-this\": [2, \"that\"],//thisåˆ«å</span><br><span class=\"line\">\"constructor-super\": 0,//éæ´¾ç”Ÿç±»ä¸èƒ½è°ƒç”¨superï¼Œæ´¾ç”Ÿç±»å¿…é¡»è°ƒç”¨super</span><br><span class=\"line\">\"curly\": [2, \"all\"],//å¿…é¡»ä½¿ç”¨ if()&#123;&#125; ä¸­çš„&#123;&#125;</span><br><span class=\"line\">\"default-case\": 2,//switchè¯­å¥æœ€åå¿…é¡»æœ‰default</span><br><span class=\"line\">\"dot-location\": 0,//å¯¹è±¡è®¿é—®ç¬¦çš„ä½ç½®ï¼Œæ¢è¡Œçš„æ—¶å€™åœ¨è¡Œé¦–è¿˜æ˜¯è¡Œå°¾</span><br><span class=\"line\">\"dot-notation\": [0, &#123; \"allowKeywords\": true &#125;],//é¿å…ä¸å¿…è¦çš„æ–¹æ‹¬å·</span><br><span class=\"line\">\"eol-last\": 0,//æ–‡ä»¶ä»¥å•ä¸€çš„æ¢è¡Œç¬¦ç»“æŸ</span><br><span class=\"line\">\"eqeqeq\": 2,//å¿…é¡»ä½¿ç”¨å…¨ç­‰</span><br><span class=\"line\">\"func-names\": 0,//å‡½æ•°è¡¨è¾¾å¼å¿…é¡»æœ‰åå­—</span><br><span class=\"line\">\"func-style\": [0, \"declaration\"],//å‡½æ•°é£æ ¼ï¼Œè§„å®šåªèƒ½ä½¿ç”¨å‡½æ•°å£°æ˜/å‡½æ•°è¡¨è¾¾å¼</span><br><span class=\"line\">\"generator-star-spacing\": 0,//ç”Ÿæˆå™¨å‡½æ•°*çš„å‰åç©ºæ ¼</span><br><span class=\"line\">\"guard-for-in\": 0,//for inå¾ªç¯è¦ç”¨ifè¯­å¥è¿‡æ»¤</span><br><span class=\"line\">\"handle-callback-err\": 0,//nodejs å¤„ç†é”™è¯¯</span><br><span class=\"line\">\"id-length\": 0,//å˜é‡åé•¿åº¦</span><br><span class=\"line\">\"indent\": [2, 4],//ç¼©è¿›é£æ ¼</span><br><span class=\"line\">\"init-declarations\": 0,//å£°æ˜æ—¶å¿…é¡»èµ‹åˆå€¼</span><br><span class=\"line\">\"key-spacing\": [0, &#123; \"beforeColon\": false, \"afterColon\": true &#125;],//å¯¹è±¡å­—é¢é‡ä¸­å†’å·çš„å‰åç©ºæ ¼</span><br><span class=\"line\">\"lines-around-comment\": 0,//è¡Œå‰/è¡Œåå¤‡æ³¨</span><br><span class=\"line\">\"max-depth\": [0, 4],//åµŒå¥—å—æ·±åº¦</span><br><span class=\"line\">\"max-len\": [0, 80, 4],//å­—ç¬¦ä¸²æœ€å¤§é•¿åº¦</span><br><span class=\"line\">\"max-nested-callbacks\": [0, 2],//å›è°ƒåµŒå¥—æ·±åº¦</span><br><span class=\"line\">\"max-params\": [0, 3],//å‡½æ•°æœ€å¤šåªèƒ½æœ‰3ä¸ªå‚æ•°</span><br><span class=\"line\">\"max-statements\": [0, 10],//å‡½æ•°å†…æœ€å¤šæœ‰å‡ ä¸ªå£°æ˜</span><br><span class=\"line\">\"new-cap\": 2,//å‡½æ•°åé¦–è¡Œå¤§å†™å¿…é¡»ä½¿ç”¨newæ–¹å¼è°ƒç”¨ï¼Œé¦–è¡Œå°å†™å¿…é¡»ç”¨ä¸å¸¦newæ–¹å¼è°ƒç”¨</span><br><span class=\"line\">\"new-parens\": 2,//newæ—¶å¿…é¡»åŠ å°æ‹¬å·</span><br><span class=\"line\">\"newline-after-var\": 2,//å˜é‡å£°æ˜åæ˜¯å¦éœ€è¦ç©ºä¸€è¡Œ</span><br><span class=\"line\">\"object-curly-spacing\": [0, \"never\"],//å¤§æ‹¬å·å†…æ˜¯å¦å…è®¸ä¸å¿…è¦çš„ç©ºæ ¼</span><br><span class=\"line\">\"object-shorthand\": 0,//å¼ºåˆ¶å¯¹è±¡å­—é¢é‡ç¼©å†™è¯­æ³•</span><br><span class=\"line\">\"one-var\": 1,//è¿ç»­å£°æ˜</span><br><span class=\"line\">\"operator-assignment\": [0, \"always\"],//èµ‹å€¼è¿ç®—ç¬¦ += -=ä»€ä¹ˆçš„</span><br><span class=\"line\">\"operator-linebreak\": [2, \"after\"],//æ¢è¡Œæ—¶è¿ç®—ç¬¦åœ¨è¡Œå°¾è¿˜æ˜¯è¡Œé¦–</span><br><span class=\"line\">\"padded-blocks\": 0,//å—è¯­å¥å†…è¡Œé¦–è¡Œå°¾æ˜¯å¦è¦ç©ºè¡Œ</span><br><span class=\"line\">\"prefer-const\": 0,//é¦–é€‰const</span><br><span class=\"line\">\"prefer-spread\": 0,//é¦–é€‰å±•å¼€è¿ç®—</span><br><span class=\"line\">\"prefer-reflect\": 0,//é¦–é€‰Reflectçš„æ–¹æ³•</span><br><span class=\"line\">\"quotes\": [1, \"single\"],//å¼•å·ç±»å‹ `` \"\" ''</span><br><span class=\"line\">\"quote-props\":[2, \"always\"],//å¯¹è±¡å­—é¢é‡ä¸­çš„å±æ€§åæ˜¯å¦å¼ºåˆ¶åŒå¼•å·</span><br><span class=\"line\">\"radix\": 2,//parseIntå¿…é¡»æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°</span><br><span class=\"line\">\"id-match\": 0,//å‘½åæ£€æµ‹</span><br><span class=\"line\">\"require-yield\": 0,//ç”Ÿæˆå™¨å‡½æ•°å¿…é¡»æœ‰yield</span><br><span class=\"line\">\"semi\": [2, \"always\"],//è¯­å¥å¼ºåˆ¶åˆ†å·ç»“å°¾</span><br><span class=\"line\">\"semi-spacing\": [0, &#123;\"before\": false, \"after\": true&#125;],//åˆ†å·å‰åç©ºæ ¼</span><br><span class=\"line\">\"sort-vars\": 0,//å˜é‡å£°æ˜æ—¶æ’åº</span><br><span class=\"line\">\"space-after-keywords\": [0, \"always\"],//å…³é”®å­—åé¢æ˜¯å¦è¦ç©ºä¸€æ ¼</span><br><span class=\"line\">\"space-before-blocks\": [0, \"always\"],//ä¸ä»¥æ–°è¡Œå¼€å§‹çš„å—&#123;å‰é¢è¦ä¸è¦æœ‰ç©ºæ ¼</span><br><span class=\"line\">\"space-before-function-paren\": [0, \"always\"],//å‡½æ•°å®šä¹‰æ—¶æ‹¬å·å‰é¢è¦ä¸è¦æœ‰ç©ºæ ¼</span><br><span class=\"line\">\"space-in-parens\": [0, \"never\"],//å°æ‹¬å·é‡Œé¢è¦ä¸è¦æœ‰ç©ºæ ¼</span><br><span class=\"line\">\"space-infix-ops\": 0,//ä¸­ç¼€æ“ä½œç¬¦å‘¨å›´è¦ä¸è¦æœ‰ç©ºæ ¼</span><br><span class=\"line\">\"space-return-throw-case\": 2,//return throw caseåé¢è¦ä¸è¦åŠ ç©ºæ ¼</span><br><span class=\"line\">\"space-unary-ops\": [0, &#123; \"words\": true, \"nonwords\": false &#125;],//ä¸€å…ƒè¿ç®—ç¬¦çš„å‰/åè¦ä¸è¦åŠ ç©ºæ ¼</span><br><span class=\"line\">\"spaced-comment\": 0,//æ³¨é‡Šé£æ ¼è¦ä¸è¦æœ‰ç©ºæ ¼ä»€ä¹ˆçš„</span><br><span class=\"line\">\"strict\": 2,//ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼</span><br><span class=\"line\">\"use-isnan\": 2,//ç¦æ­¢æ¯”è¾ƒæ—¶ä½¿ç”¨NaNï¼Œåªèƒ½ç”¨isNaN()</span><br><span class=\"line\">\"valid-jsdoc\": 0,//jsdocè§„åˆ™</span><br><span class=\"line\">\"valid-typeof\": 2,//å¿…é¡»ä½¿ç”¨åˆæ³•çš„typeofçš„å€¼</span><br><span class=\"line\">\"vars-on-top\": 2,//varå¿…é¡»æ”¾åœ¨ä½œç”¨åŸŸé¡¶éƒ¨</span><br><span class=\"line\">\"wrap-iife\": [2, \"inside\"],//ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼çš„å°æ‹¬å·é£æ ¼</span><br><span class=\"line\">\"wrap-regex\": 0,//æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ç”¨å°æ‹¬å·åŒ…èµ·æ¥</span><br><span class=\"line\">\"yoda\": [2, \"never\"]//ç¦æ­¢å°¤è¾¾æ¡ä»¶</span><br></pre></td></tr></table></figure>\n\n<h1><span id=\"prettier\">Prettier</span></h1><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ä½¿èƒ½æ¯ä¸€ç§è¯­è¨€é»˜è®¤æ ¼å¼åŒ–è§„åˆ™</span></span><br><span class=\"line\">  <span class=\"attr\">\"[html]\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"editor.defaultFormatter\"</span>: <span class=\"string\">\"esbenp.prettier-vscode\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"[css]\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"editor.defaultFormatter\"</span>: <span class=\"string\">\"esbenp.prettier-vscode\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"[less]\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"editor.defaultFormatter\"</span>: <span class=\"string\">\"esbenp.prettier-vscode\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"[javascript]\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"editor.defaultFormatter\"</span>: <span class=\"string\">\"esbenp.prettier-vscode\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*  prettierçš„é…ç½® */</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.printWidth\"</span>: <span class=\"number\">100</span>, <span class=\"comment\">// è¶…è¿‡æœ€å¤§å€¼æ¢è¡Œ</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.tabWidth\"</span>: <span class=\"number\">4</span>, <span class=\"comment\">// ç¼©è¿›å­—èŠ‚æ•°</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.useTabs\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// ç¼©è¿›ä¸ä½¿ç”¨tabï¼Œä½¿ç”¨ç©ºæ ¼</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.semi\"</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å¥å°¾æ·»åŠ åˆ†å·</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.singleQuote\"</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// ä½¿ç”¨å•å¼•å·ä»£æ›¿åŒå¼•å·</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.proseWrap\"</span>: <span class=\"string\">\"preserve\"</span>, <span class=\"comment\">// é»˜è®¤å€¼ã€‚å› ä¸ºä½¿ç”¨äº†ä¸€äº›æŠ˜è¡Œæ•æ„Ÿå‹çš„æ¸²æŸ“å™¨ï¼ˆå¦‚GitHub commentï¼‰è€ŒæŒ‰ç…§markdownæ–‡æœ¬æ ·å¼è¿›è¡ŒæŠ˜è¡Œ</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.arrowParens\"</span>: <span class=\"string\">\"avoid\"</span>, <span class=\"comment\">//  (x) =&gt; &#123;&#125; ç®­å¤´å‡½æ•°å‚æ•°åªæœ‰ä¸€ä¸ªæ—¶æ˜¯å¦è¦æœ‰å°æ‹¬å·ã€‚avoidï¼šçœç•¥æ‹¬å·</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.bracketSpacing\"</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// åœ¨å¯¹è±¡ï¼Œæ•°ç»„æ‹¬å·ä¸æ–‡å­—ä¹‹é—´åŠ ç©ºæ ¼ \"&#123; foo: bar &#125;\"</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.disableLanguages\"</span>: [<span class=\"string\">\"vue\"</span>], <span class=\"comment\">// ä¸æ ¼å¼åŒ–vueæ–‡ä»¶ï¼Œvueæ–‡ä»¶çš„æ ¼å¼åŒ–å•ç‹¬è®¾ç½®</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.endOfLine\"</span>: <span class=\"string\">\"auto\"</span>, <span class=\"comment\">// ç»“å°¾æ˜¯ \\n \\r \\n\\r auto</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.eslintIntegration\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">//ä¸è®©prettierä½¿ç”¨eslintçš„ä»£ç æ ¼å¼è¿›è¡Œæ ¡éªŒ</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.htmlWhitespaceSensitivity\"</span>: <span class=\"string\">\"ignore\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"prettier.ignorePath\"</span>: <span class=\"string\">\".prettierignore\"</span>, <span class=\"comment\">// ä¸ä½¿ç”¨prettieræ ¼å¼åŒ–çš„æ–‡ä»¶å¡«å†™åœ¨é¡¹ç›®çš„.prettierignoreæ–‡ä»¶ä¸­</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.jsxBracketSameLine\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// åœ¨jsxä¸­æŠŠ'&gt;' æ˜¯å¦å•ç‹¬æ”¾ä¸€è¡Œ</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.jsxSingleQuote\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// åœ¨jsxä¸­ä½¿ç”¨å•å¼•å·ä»£æ›¿åŒå¼•å·</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.parser\"</span>: <span class=\"string\">\"babylon\"</span>, <span class=\"comment\">// æ ¼å¼åŒ–çš„è§£æå™¨ï¼Œé»˜è®¤æ˜¯babylon</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.requireConfig\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// Require a 'prettierconfig' to format prettier</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.stylelintIntegration\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">//ä¸è®©prettierä½¿ç”¨stylelintçš„ä»£ç æ ¼å¼è¿›è¡Œæ ¡éªŒ</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.trailingComma\"</span>: <span class=\"string\">\"es5\"</span>, <span class=\"comment\">// åœ¨å¯¹è±¡æˆ–æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ åé¢æ˜¯å¦åŠ é€—å·ï¼ˆåœ¨ES5ä¸­åŠ å°¾é€—å·ï¼‰</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.tslintIntegration\"</span>: <span class=\"literal\">false</span> <span class=\"comment\">// ä¸è®©prettierä½¿ç”¨tslintçš„ä»£ç æ ¼å¼è¿›è¡Œæ ¡éªŒ</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front"],"tags":["eslint"]},{"title":"mobx-state-tree","url":"/Blog/mobx-state-tree/","content":"<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">.model</span><br><span class=\"line\">.views</span><br><span class=\"line\">.volatile</span><br><span class=\"line\">.actions</span><br></pre></td></tr></table></figure>\n\n<a id=\"more\"></a>\n\n<h1><span id=\"mobx-state-tree\">mobx-state-tree</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#model\">model</a><ul>\n<li><a href=\"#modelvolatile\"><code>model.volatile</code></a></li>\n</ul>\n</li>\n<li><a href=\"#types\">types</a><ul>\n<li><a href=\"#å¤æ‚ç±»å‹\">å¤æ‚ç±»å‹</a></li>\n<li><a href=\"#åŸå§‹ç±»å‹\">åŸå§‹ç±»å‹</a></li>\n<li><a href=\"#å®ç”¨ç¨‹åºç±»å‹\">å®ç”¨ç¨‹åºç±»å‹</a><ul>\n<li><a href=\"#typesidentifier\"><code>types.identifier</code></a></li>\n<li><a href=\"#typesrefinement\"><code>types.refinement</code></a></li>\n<li><a href=\"#typesreference\"><code>types.reference</code></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#actions\">actions</a></li>\n</ul>\n<!-- tocstop -->\n\n<hr>\n<p>types.model åˆ›å»ºä¸€ä¸ªå¯é“¾æ¥çš„æ¨¡å‹ç±»å‹ï¼Œå…¶ä¸­æ¯ä¸ªé“¾æ¥çš„æ–¹æ³•éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ç±»å‹ï¼š</p>\n<ul>\n<li><strong><code>named(name)</code></strong> å…‹éš†å½“å‰ç±»å‹ï¼Œä½†æ˜¯ç»™å®ƒä¸€ä¸ªæ–°åç§°</li>\n<li><strong><code>props(props)</code></strong> æ ¹æ®å½“å‰ç±»å‹ç”Ÿæˆä¸€ä¸ªæ–°ç±»å‹ï¼Œå¹¶æ·»åŠ /è¦†ç›–æŒ‡å®šçš„å±æ€§</li>\n<li><strong><code>actions(self =&gt; object literal with actions)</code></strong> æ ¹æ®å½“å‰ç±»å‹ç”Ÿæˆä¸€ç§æ–°ç±»å‹ï¼Œå¹¶æ·»åŠ /è¦†ç›–æŒ‡å®šçš„æ“ä½œ</li>\n<li><strong><code>views(self =&gt; object literal with view functions)</code></strong> æ ¹æ®å½“å‰ç±»å‹ç”Ÿæˆä¸€ç§æ–°ç±»å‹ï¼Œå¹¶æ·»åŠ /è¦†ç›–æŒ‡å®šçš„è§†å›¾å‡½æ•°</li>\n<li><strong><code>preProcessSnapshot(snapshot =&gt; snapshot)</code></strong>å¯ç”¨äºåœ¨å®ä¾‹åŒ–æ–°æ¨¡å‹ä¹‹å‰å¯¹åŸå§‹JSONè¿›è¡Œé¢„å¤„ç†ã€‚è¯·å‚é˜…ç”Ÿå‘½å‘¨æœŸæŒ‚é’©æˆ–å…¶ä»–types.snapshotProcessor</li>\n<li><strong><code>postProcessSnapshot(snapshot =&gt; snapshot)</code></strong>å¯ç”¨äºåœ¨è·å–æ¨¡å‹å¿«ç…§ä¹‹å‰å¯¹åŸå§‹JSONè¿›è¡Œåå¤„ç†ã€‚è¯·å‚é˜…ç”Ÿå‘½å‘¨æœŸæŒ‚é’©æˆ–å…¶ä»–types.snapshotProcessor</li>\n</ul>\n<hr>\n<h1><span id=\"model\">model</span></h1><h2><span id=\"modelvolatile\"><code>model.volatile</code></span></h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Todo = types</span><br><span class=\"line\">    .model(&#123;&#125;)</span><br><span class=\"line\">    .volatile(<span class=\"function\"><span class=\"params\">self</span> =&gt;</span> (&#123;</span><br><span class=\"line\">        localState: <span class=\"number\">3</span></span><br><span class=\"line\">    &#125;))</span><br><span class=\"line\">    .actions(<span class=\"function\"><span class=\"params\">self</span> =&gt;</span> (&#123;</span><br><span class=\"line\">        setX(value) &#123;</span><br><span class=\"line\">            self.localState = value</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;))</span><br></pre></td></tr></table></figure>\n<p>ä»volatileåˆå§‹åŒ–å‡½æ•°è¿”å›çš„å¯¹è±¡å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ï¼Œå¹¶å°†å¯¼è‡´å…·æœ‰ç›¸åŒåç§°çš„å®ä¾‹å±æ€§ã€‚æŒ¥å‘æ€§ç‰¹æ€§å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>\n<ol>\n<li>å¯ä»¥ä»æ¨¡å‹å¤–éƒ¨è¯»å–å®ƒä»¬ï¼ˆå¦‚æœæ‚¨æƒ³è¦éšè—çš„æ˜“å¤±æ€§çŠ¶æ€ï¼Œè¯·å¦‚ä¸Šä¸€èŠ‚ä¸­æ‰€è¿°å°†å…¶ä¿ç•™åœ¨é—­åŒ…ä¸­ï¼Œå¹¶ä¸”ä»…å½“æœªåœ¨è§†å›¾ä¸­ä½¿ç”¨è¯¥çŠ¶æ€æ—¶ï¼Œæ‰è€ƒè™‘ä½¿å…¶ä¸å¯è§‚å¯Ÿï¼‰ã€‚</li>\n<li>æ˜“æŒ¥å‘çš„å±æ€§å°†ä»…å¯è§‚å¯Ÿï¼Œè¯·å‚è§å¯è§‚å¯Ÿçš„å‚è€ƒèµ„æ–™ã€‚åˆ†é…ç»™å®ƒä»¬çš„å€¼å°†ä¿æŒä¸å˜ï¼Œå¹¶ä¸”ä¸ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå¯è§‚å¯Ÿçš„æ·±å±‚ç»“æ„ã€‚</li>\n<li>åƒæ™®é€šå±æ€§ä¸€æ ·ï¼Œåªèƒ½é€šè¿‡æ“ä½œå¯¹å…¶è¿›è¡Œä¿®æ”¹</li>\n<li>æ˜“æŒ¥å‘çš„é“å…·ä¸ä¼šæ˜¾ç¤ºåœ¨å¿«ç…§ä¸­ï¼Œä¹Ÿæ— æ³•é€šè¿‡åº”ç”¨å¿«ç…§è¿›è¡Œæ›´æ–°</li>\n<li>åœ¨å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸä¸­ä¿ç•™äº†æ˜“æŒ¥å‘çš„é“å…·ã€‚å¦è¯·å‚é˜…å¯¹å¸</li>\n<li>æ˜“å¤±æ€§é“å…·çš„æ›´æ”¹ä¸ä¼šæ˜¾ç¤ºåœ¨è¡¥ä¸æˆ–å¿«ç…§æµä¸­</li>\n<li>å½“å‰ä¸æ”¯æŒåœ¨ç”±è¿”å›çš„å¯¹è±¡ä¸­å®šä¹‰getters / setteræ–¹æ³• volatile</li>\n</ol>\n<h1><span id=\"types\">types</span></h1><h2><span id=\"å¤æ‚ç±»å‹\">å¤æ‚ç±»å‹</span></h2><ul>\n<li><strong><code>types.model(properties, actions)</code></strong> å®šä¹‰ä¸€ä¸ªâ€œç±»ä¼¼â€ç±»å‹ï¼Œè¯¥ç±»å…·æœ‰åœ¨å¯¹è±¡ä¸Šæ“ä½œçš„å±æ€§å’Œæ“ä½œã€‚</li>\n<li><strong><code>types.array(type)</code></strong> å£°æ˜æŒ‡å®šç±»å‹çš„æ•°ç»„ã€‚</li>\n<li><strong><code>types.map(type)</code></strong> å£°æ˜æŒ‡å®šç±»å‹çš„æ˜ å°„ã€‚</li>\n</ul>\n<p><strong>è¯·æ³¨æ„ï¼Œç”±äºMST v3types.arrayå’ŒMSTtypes.mapåœ¨types.optionalé»˜è®¤æƒ…å†µä¸‹æ˜¯è‡ªåŠ¨åŒ…è£…çš„ï¼Œå› æ­¤åˆ†åˆ«å°†[]å’Œ{}è®¾ç½®ä¸ºå…¶é»˜è®¤å€¼ã€‚</strong></p>\n<h2><span id=\"åŸå§‹ç±»å‹\">åŸå§‹ç±»å‹</span></h2><ul>\n<li><strong><code>types.string</code></strong></li>\n<li><strong><code>types.number</code></strong></li>\n<li><strong><code>types.integer</code></strong></li>\n<li><strong><code>types.boolean</code></strong></li>\n<li><strong><code>types.Date</code></strong></li>\n<li><strong><code>types.custom</code></strong>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰åŸºæœ¬ç±»å‹ã€‚è¿™å¯¹äºå®šä¹‰è‡ªå·±çš„ç±»å‹å¾ˆæœ‰ç”¨ï¼Œè¿™äº›ç±»å‹å¯ä»¥å°†åºåˆ—åŒ–è¡¨æ ¼ä¸€å¯¹ä¸€æ˜ å°„åˆ°ä¸å¯å˜çš„å¯¹è±¡ï¼ˆå¦‚Decimalæˆ–Dateï¼‰ã€‚</li>\n</ul>\n<h2><span id=\"å®ç”¨ç¨‹åºç±»å‹\">å®ç”¨ç¨‹åºç±»å‹</span></h2><ul>\n<li><strong><code>types.union(options?: { dispatcher?: (snapshot) =&gt; Type, eager?: boolean }, types...)</code></strong>åˆ›å»ºå¤šç§ç±»å‹çš„è”åˆã€‚å¦‚æœæ— æ³•ä»å¿«ç…§ä¸­æ˜ç¡®æ¨æ–­å‡ºæ­£ç¡®çš„ç±»å‹ï¼Œè¯·æä¾›è°ƒåº¦ç¨‹åºåŠŸèƒ½æ¥ç¡®å®šç±»å‹ã€‚å½“eagerflagè®¾ç½®ä¸ºtrueï¼ˆé»˜è®¤ï¼‰æ—¶-å°†ä½¿ç”¨ç¬¬ä¸€ä¸ªåŒ¹é…ç±»å‹ï¼Œå¦‚æœå°†å…¶è®¾ç½®ä¸ºfalseç±»å‹æ£€æŸ¥ï¼Œåˆ™ä»…åœ¨å®Œå…¨åŒ¹é…1ä¸ªç±»å‹æ—¶é€šè¿‡ã€‚</li>\n<li><strong><code>types.optional(type, defaultValue, optionalValues?)</code></strong>å°†å€¼æ ‡è®°ä¸ºå¯é€‰ï¼ˆä¾‹å¦‚åœ¨æ¨¡å‹ä¸­ï¼‰ã€‚å¦‚æœæœªæä¾›å€¼undefinedï¼ˆæˆ–è®¾ç½®ä¸ºä½œä¸ºå¯é€‰optionalValuesæ•°ç»„ä¼ é€’çš„ä»»ä½•åŸå§‹å€¼ï¼‰ï¼ŒdefaultValueåˆ™å°†ä½¿ç”¨å®ƒã€‚å¦‚æœdefaultValueä¸ºå‡½æ•°ï¼Œåˆ™å°†å¯¹å…¶è¿›è¡Œè¯„ä¼°ã€‚åˆ›å»ºæ—¶å¯ç”¨äºç”ŸæˆIDæˆ–æ—¶é—´æˆ³ã€‚</li>\n<li><strong><code>types.literal(value)</code></strong>å¯ç”¨äºåˆ›å»ºæ–‡å­—ç±»å‹ï¼Œå…¶ä¸­å”¯ä¸€å¯èƒ½çš„å€¼å°±æ˜¯è¯¥å€¼ã€‚ä¸unionsç»“åˆä½¿ç”¨æ—¶ï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ã€‚ä¾‹å¦‚temperature: types.union(types.literal(â€œhotâ€), types.literal(â€œcoldâ€))ã€‚</li>\n<li><strong><code>types.enumeration(name?, options: string[])</code></strong>åˆ›å»ºä¸€ä¸ªæšä¸¾ã€‚æ­¤æ–¹æ³•æ˜¯å­—ç¬¦ä¸²æ–‡å­—çš„å¹¶é›†çš„ç®€å†™å½¢å¼ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Typescriptï¼Œå¹¶ä¸”æƒ³åŸºäºå­—ç¬¦ä¸²æšä¸¾ï¼ˆä¾‹å¦‚enum Color { â€¦ }ï¼‰åˆ›å»ºç±»å‹ï¼Œè¯·ä½¿ç”¨types.enumeration<color>(â€œColorâ€, Object.values(Color))ï¼Œå…¶ä¸­â€Colorâ€nameå‚æ•°æ˜¯å¯é€‰çš„ã€‚</color></li>\n<li><strong><code>types.refinement(name?, baseType, (snapshot) =&gt; boolean)</code></strong>åˆ›å»ºæ¯”åŸºæœ¬ç±»å‹æ›´å…·ä½“çš„ç±»å‹ï¼Œä¾‹å¦‚types.refinement(types.string, value =&gt; value.length &gt; 5)ï¼Œåˆ›å»ºåªèƒ½é•¿äº5çš„å­—ç¬¦ä¸²ç±»å‹ã€‚</li>\n<li><strong><code>types.maybe(type)</code></strong>ä½¿ç±»å‹æˆä¸ºå¯é€‰ä¸”å¯ä¸ºnullçš„ç®€å†™å½¢å¼types.optional(types.union(type, types.literal(undefined)), undefined)ã€‚</li>\n<li><strong><code>types.maybeNull(type)</code></strong>ç±»ä¼¼äºmaybeï¼Œä½†ç”¨äºnullè¡¨ç¤ºç¼ºå°‘å€¼ã€‚</li>\n<li><strong><code>types.null</code></strong>çš„ç±»å‹nullã€‚</li>\n<li><strong><code>types.undefined</code></strong>çš„ç±»å‹undefinedã€‚</li>\n<li><strong><code>types.late(() =&gt; type)</code></strong> å¯ä»¥ç”¨äºåˆ›å»ºé€’å½’æˆ–å¾ªç¯ç±»å‹ï¼Œæˆ–è€…ä»¥è¿™æ ·çš„æ–¹å¼åˆ†å¸ƒåœ¨æ–‡ä»¶ä¸Šçš„ç±»å‹ï¼šå¦åˆ™æ–‡ä»¶ä¹‹é—´çš„å¾ªç¯ä¾èµ–å…³ç³»å°†æˆä¸ºä¸€ä¸ªé—®é¢˜ã€‚</li>\n<li><strong><code>types.frozen(subType? | defaultValue?)</code></strong>æ¥å—ä»»ä½•ç±»å‹çš„å¯åºåˆ—åŒ–çš„å€¼ï¼ˆåŸå§‹çš„å’Œå¤æ‚çš„ï¼‰ï¼Œä½†å‡å®šè¯¥å€¼æœ¬èº«æ˜¯ä¸å¯å˜çš„ä¸”å¯åºåˆ—åŒ–çš„ã€‚ frozenå¯ä»¥é€šè¿‡å‡ ç§ä¸åŒçš„æ–¹å¼è°ƒç”¨ï¼š<ul>\n<li><code>types.frozen()</code> -è¡Œä¸ºä¸MST 2ä¸­çš„types.frozenç›¸åŒã€‚</li>\n<li><code>types.frozen(subType)</code>-æä¾›æœ‰æ•ˆçš„MSTç±»å‹ï¼Œç„¶åå†»ç»“å°†æ£€æŸ¥æä¾›çš„æ•°æ®æ˜¯å¦ç¬¦åˆè¯¥ç±»å‹çš„å¿«ç…§ã€‚è¯·æ³¨æ„ï¼Œè¯¥ç±»å‹å®é™…ä¸Šä¸ä¼šå®ä¾‹åŒ–ï¼Œå› æ­¤åªèƒ½ç”¨äºæ£€æŸ¥æ•°æ®çš„å½¢çŠ¶ã€‚å‘SubTypeæ·»åŠ è§†å›¾æˆ–åŠ¨ä½œå°†æ¯«æ— æ„ä¹‰ã€‚</li>\n<li><code>types.frozen(someDefaultValue)</code> -æä¾›åŸå§‹å€¼ï¼Œå¯¹è±¡æˆ–æ•°ç»„ï¼ŒMSTå°†æ ¹æ®è¯¥å¯¹è±¡æ¨æ–­ç±»å‹ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºå­—æ®µçš„é»˜è®¤å€¼</li>\n<li>ï¼ˆæ‰“å­—ç¨¿ï¼‰<code>types.frozen&lt;TypeScriptType&gt;(...)</code>-æä¾›æ‰“å­—ç¨¿ç±»å‹ï¼Œä»¥å¸®åŠ©å¼ºåŠ›é”®å…¥å­—æ®µï¼ˆä»…è®¾è®¡æ—¶ï¼‰</li>\n</ul>\n</li>\n<li><strong><code>types.compose(name?, type1...typeX)</code></strong>ï¼Œé€šè¿‡é‡‡ç”¨ä¸€å †ç°æœ‰ç±»å‹å¹¶å°†å®ƒä»¬ç»„åˆæˆä¸€ä¸ªæ–°æ¨¡å‹æ¥åˆ›å»ºæ–°æ¨¡å‹ç±»å‹ã€‚</li>\n<li><strong><code>types.reference(targetType)</code></strong>åˆ›å»ºä¸€ä¸ªå±æ€§ï¼Œè¯¥å±æ€§å¼•ç”¨targetTypeåŒä¸€æ£µæ ‘ä¸­æŸå¤„ç»™å®šé¡¹çš„å¦ä¸€ä¸ªé¡¹ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§å‚è€ƒã€‚</li>\n<li><strong><code>types.safeReference(targetType)</code></strong>ç±»ä¼¼äºæ ‡å‡†å¼•ç”¨ï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒé»˜è®¤æƒ…å†µä¸‹æ¥å—æœªå®šä¹‰çš„å€¼å¹¶è‡ªåŠ¨å°†å…¶è‡ªèº«è®¾ç½®ä¸ºæœªå®šä¹‰ï¼ˆå½“çˆ¶çº§æ˜¯æ¨¡å‹æ—¶ï¼‰/å½“å…¶æŒ‡å‘çš„å¼•ç”¨è¢«åˆ†ç¦»/é”€æ¯æ—¶ï¼Œå°†è‡ªèº«ä»æ•°ç»„å’Œæ˜ å°„ä¸­ç§»é™¤ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§å‚è€ƒã€‚</li>\n<li><strong><code>types.snapshotProcessor(type, processors, name?)</code></strong>åœ¨åºåˆ—åŒ–ç»™å®šç±»å‹ä¹‹å‰/ä¹‹åè¿è¡Œå¿«ç…§å‰/å¿«ç…§åå¤„ç†å™¨ã€‚ä¾‹å­ï¼š</li>\n</ul>\n<hr>\n<h3><span id=\"typesidentifier\"><code>types.identifier</code></span></h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Todo = types.model(&#123;</span><br><span class=\"line\">  id: types.identifier,</span><br><span class=\"line\">  title: types.string,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> TodoStore = types.model(&#123;</span><br><span class=\"line\">  todos: types.array(Todo),</span><br><span class=\"line\">  selectedTodo: types.reference(Todo),</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// create a store with a normalized snapshot</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> storeInstance = TodoStore.create(&#123;</span><br><span class=\"line\">  todos: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      id: <span class=\"string\">\"47\"</span>,</span><br><span class=\"line\">      title: <span class=\"string\">\"Get coffee\"</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  selectedTodo: <span class=\"string\">\"47\"</span>,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// because `selectedTodo` is declared to be a reference, it returns the actual Todo node with the matching identifier</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(storeInstance.selectedTodo.title);</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"typesrefinement\"><code>types.refinement</code></span></h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Car = types.model(<span class=\"string\">\"Car\"</span>, &#123;</span><br><span class=\"line\">    id: types.refinement(types.identifier, identifier =&gt; identifier.indexOf(<span class=\"string\">\"Car_\"</span>) === <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n\n<h3><span id=\"typesreference\"><code>types.reference</code></span></h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> User = types.model(&#123;</span><br><span class=\"line\">    id: types.identifier,</span><br><span class=\"line\">    name: types.string</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> UserByNameReference = types.maybeNull(</span><br><span class=\"line\">    types.reference(User, &#123;</span><br><span class=\"line\">        <span class=\"comment\">// given an identifier, find the user</span></span><br><span class=\"line\">        <span class=\"keyword\">get</span>(identifier /* string */, parent: any /*Store*/) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> parent.users.find(<span class=\"function\"><span class=\"params\">u</span> =&gt;</span> u.name === identifier) || <span class=\"literal\">null</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// given a user, produce the identifier that should be stored</span></span><br><span class=\"line\">        <span class=\"keyword\">set</span>(value /* User */) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> value.name</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> Store = types.model(&#123;</span><br><span class=\"line\">    users: types.array(User),</span><br><span class=\"line\">    selection: UserByNameReference</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> s = Store.create(&#123;</span><br><span class=\"line\">    users: [&#123; <span class=\"attr\">id</span>: <span class=\"string\">\"1\"</span>, <span class=\"attr\">name</span>: <span class=\"string\">\"Michel\"</span> &#125;, &#123; <span class=\"attr\">id</span>: <span class=\"string\">\"2\"</span>, <span class=\"attr\">name</span>: <span class=\"string\">\"Mattia\"</span> &#125;],</span><br><span class=\"line\">    selection: <span class=\"string\">\"Mattia\"</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h1><span id=\"actions\">actions</span></h1><ul>\n<li>onAction ä¾¦å¬åœ¨æ¨¡å‹æˆ–å…¶ä»»ä½•åä»£ä¸Šè°ƒç”¨çš„ä»»ä½•æ“ä½œã€‚</li>\n<li>addMiddleware å°†æ‹¦æˆªå™¨åŠŸèƒ½æ·»åŠ åˆ°åœ¨å­æ ‘ä¸Šè°ƒç”¨çš„ä»»ä½•æ“ä½œã€‚</li>\n<li>applyAction æ ¹æ®ç»™å®šçš„åŠ¨ä½œæè¿°åœ¨æ¨¡å‹ä¸Šè°ƒç”¨åŠ¨ä½œ</li>\n</ul>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","js"],"tags":["js","mobx"]},{"title":"webpack é…ç½®","url":"/Blog/webpack%E9%85%8D%E7%BD%AE/","content":"<ul>\n<li><a href=\"https://www.webpackjs.com/configuration/\" target=\"_blank\" rel=\"noopener\"><strong><code>webpack</code>ä¸­æ–‡ç½‘</strong></a></li>\n</ul>\n<a id=\"more\"></a>\n\n<hr>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  mode: <span class=\"string\">\"production\"</span>, <span class=\"comment\">// \"production\" | \"development\" | \"none\"</span></span><br><span class=\"line\">  mode: <span class=\"string\">\"production\"</span>, <span class=\"comment\">// enable many optimizations for production builds</span></span><br><span class=\"line\">  mode: <span class=\"string\">\"development\"</span>, <span class=\"comment\">// enabled useful tools for development</span></span><br><span class=\"line\">  mode: <span class=\"string\">\"none\"</span>, <span class=\"comment\">// no defaults</span></span><br><span class=\"line\">  <span class=\"comment\">// Chosen mode tells webpack to use its built-in optimizations accordingly.</span></span><br><span class=\"line\"></span><br><span class=\"line\">  entry: <span class=\"string\">\"./app/entry\"</span>, <span class=\"comment\">// string | object | array</span></span><br><span class=\"line\">  entry: [<span class=\"string\">\"./app/entry1\"</span>, <span class=\"string\">\"./app/entry2\"</span>],</span><br><span class=\"line\">  entry: &#123;</span><br><span class=\"line\">    a: <span class=\"string\">\"./app/entry-a\"</span>,</span><br><span class=\"line\">    b: [<span class=\"string\">\"./app/entry-b1\"</span>, <span class=\"string\">\"./app/entry-b2\"</span>]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// è¿™é‡Œåº”ç”¨ç¨‹åºå¼€å§‹æ‰§è¡Œ</span></span><br><span class=\"line\">  <span class=\"comment\">// webpack å¼€å§‹æ‰“åŒ…</span></span><br><span class=\"line\"></span><br><span class=\"line\">  output: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// webpack å¦‚ä½•è¾“å‡ºç»“æœçš„ç›¸å…³é€‰é¡¹</span></span><br><span class=\"line\"></span><br><span class=\"line\">    path: path.resolve(__dirname, <span class=\"string\">\"dist\"</span>), <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// æ‰€æœ‰è¾“å‡ºæ–‡ä»¶çš„ç›®æ ‡è·¯å¾„</span></span><br><span class=\"line\">    <span class=\"comment\">// å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼ˆä½¿ç”¨ Node.js çš„ path æ¨¡å—ï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">    filename: <span class=\"string\">\"bundle.js\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[name].js\"</span>, <span class=\"comment\">// ç”¨äºå¤šä¸ªå…¥å£ç‚¹(entry point)ï¼ˆå‡ºå£ç‚¹ï¼Ÿï¼‰</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[chunkhash].js\"</span>, <span class=\"comment\">// ç”¨äºé•¿æ•ˆç¼“å­˜</span></span><br><span class=\"line\">    <span class=\"comment\">// ã€Œå…¥å£åˆ†å—(entry chunk)ã€çš„æ–‡ä»¶åæ¨¡æ¿ï¼ˆå‡ºå£åˆ†å—ï¼Ÿï¼‰</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[name].bundle.js\"</span>, <span class=\"comment\">// ä½¿ç”¨å…¥å£åç§°ï¼š</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[id].bundle.js\"</span>, <span class=\"comment\">// ä½¿ç”¨å†…éƒ¨ chunk id</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[name].[hash].bundle.js\"</span>,<span class=\"comment\">// ä½¿ç”¨æ¯æ¬¡æ„å»ºè¿‡ç¨‹ä¸­ï¼Œå”¯ä¸€çš„ hash ç”Ÿæˆ</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[chunkhash].bundle.js\"</span>,<span class=\"comment\">// ä½¿ç”¨åŸºäºæ¯ä¸ª chunk å†…å®¹çš„ hashï¼š</span></span><br><span class=\"line\"></span><br><span class=\"line\">    publicPath: <span class=\"string\">\"/assets/\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    publicPath: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">    publicPath: <span class=\"string\">\"https://cdn.example.com/\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// è¾“å‡ºè§£ææ–‡ä»¶çš„ç›®å½•ï¼Œurl ç›¸å¯¹äº HTML é¡µé¢</span></span><br><span class=\"line\"></span><br><span class=\"line\">    library: <span class=\"string\">\"MyLibrary\"</span>, <span class=\"comment\">// string,</span></span><br><span class=\"line\">    <span class=\"comment\">// å¯¼å‡ºåº“(exported library)çš„åç§°</span></span><br><span class=\"line\"></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"umd\"</span>, <span class=\"comment\">// é€šç”¨æ¨¡å—å®šä¹‰</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"umd2\"</span>, <span class=\"comment\">// é€šç”¨æ¨¡å—å®šä¹‰</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"commonjs2\"</span>, <span class=\"comment\">// exported with module.exports</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"commonjs-module\"</span>, <span class=\"comment\">// ä½¿ç”¨ module.exports å¯¼å‡º</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"commonjs\"</span>, <span class=\"comment\">// ä½œä¸º exports çš„å±æ€§å¯¼å‡º</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"amd\"</span>, <span class=\"comment\">// ä½¿ç”¨ AMD å®šä¹‰æ–¹æ³•æ¥å®šä¹‰</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"this\"</span>, <span class=\"comment\">// åœ¨ this ä¸Šè®¾ç½®å±æ€§</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"var\"</span>, <span class=\"comment\">// å˜é‡å®šä¹‰äºæ ¹ä½œç”¨åŸŸä¸‹</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"assign\"</span>, <span class=\"comment\">// ç›²åˆ†é…(blind assignment)</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"window\"</span>, <span class=\"comment\">// åœ¨ window å¯¹è±¡ä¸Šè®¾ç½®å±æ€§</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"global\"</span>, <span class=\"comment\">// property set to global object</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"jsonp\"</span>, <span class=\"comment\">// jsonp wrapper</span></span><br><span class=\"line\">    <span class=\"comment\">// å¯¼å‡ºåº“(exported library)çš„ç±»å‹</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* é«˜çº§è¾“å‡ºé…ç½®ï¼ˆç‚¹å‡»æ˜¾ç¤ºï¼‰ */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    pathinfo: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">    <span class=\"comment\">// åœ¨ç”Ÿæˆä»£ç æ—¶ï¼Œå¼•å…¥ç›¸å…³çš„æ¨¡å—ã€å¯¼å‡ºã€è¯·æ±‚ç­‰æœ‰å¸®åŠ©çš„è·¯å¾„ä¿¡æ¯ã€‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">    chunkFilename: <span class=\"string\">\"[id].js\"</span>,</span><br><span class=\"line\">    chunkFilename: <span class=\"string\">\"[chunkhash].js\"</span>, <span class=\"comment\">// é•¿æ•ˆç¼“å­˜(/guides/caching)</span></span><br><span class=\"line\">    <span class=\"comment\">// ã€Œé™„åŠ åˆ†å—(additional chunk)ã€çš„æ–‡ä»¶åæ¨¡æ¿</span></span><br><span class=\"line\"></span><br><span class=\"line\">    jsonpFunction: <span class=\"string\">\"myWebpackJsonp\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// ç”¨äºåŠ è½½åˆ†å—çš„ JSONP å‡½æ•°å</span></span><br><span class=\"line\"></span><br><span class=\"line\">    sourceMapFilename: <span class=\"string\">\"[file].map\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    sourceMapFilename: <span class=\"string\">\"sourcemaps/[file].map\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// ã€Œsource map ä½ç½®ã€çš„æ–‡ä»¶åæ¨¡æ¿</span></span><br><span class=\"line\"></span><br><span class=\"line\">    devtoolModuleFilenameTemplate: <span class=\"string\">\"webpack:///[resource-path]\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// ã€Œdevtool ä¸­æ¨¡å—ã€çš„æ–‡ä»¶åæ¨¡æ¿</span></span><br><span class=\"line\"></span><br><span class=\"line\">    devtoolFallbackModuleFilenameTemplate: <span class=\"string\">\"webpack:///[resource-path]?[hash]\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// ã€Œdevtool ä¸­æ¨¡å—ã€çš„æ–‡ä»¶åæ¨¡æ¿ï¼ˆç”¨äºå†²çªï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">    umdNamedDefine: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">    <span class=\"comment\">// åœ¨ UMD åº“ä¸­ä½¿ç”¨å‘½åçš„ AMD æ¨¡å—</span></span><br><span class=\"line\"></span><br><span class=\"line\">    crossOriginLoading: <span class=\"string\">\"use-credentials\"</span>, <span class=\"comment\">// æšä¸¾</span></span><br><span class=\"line\">    crossOriginLoading: <span class=\"string\">\"anonymous\"</span>,</span><br><span class=\"line\">    crossOriginLoading: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// æŒ‡å®šè¿è¡Œæ—¶å¦‚ä½•å‘å‡ºè·¨åŸŸè¯·æ±‚é—®é¢˜</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* ä¸“å®¶çº§è¾“å‡ºé…ç½®ï¼ˆè‡ªè¡Œæ‰¿æ‹…é£é™©ï¼‰ */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    devtoolLineToLine: &#123;</span><br><span class=\"line\">      test: <span class=\"regexp\">/\\.jsx$/</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// ä¸ºè¿™äº›æ¨¡å—ä½¿ç”¨ 1:1 æ˜ å°„ SourceMapsï¼ˆå¿«é€Ÿï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">    hotUpdateMainFilename: <span class=\"string\">\"[hash].hot-update.json\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// ã€ŒHMR æ¸…å•ã€çš„æ–‡ä»¶åæ¨¡æ¿</span></span><br><span class=\"line\"></span><br><span class=\"line\">    hotUpdateChunkFilename: <span class=\"string\">\"[id].[hash].hot-update.js\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// ã€ŒHMR åˆ†å—ã€çš„æ–‡ä»¶åæ¨¡æ¿</span></span><br><span class=\"line\"></span><br><span class=\"line\">    sourcePrefix: <span class=\"string\">\"\\t\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// åŒ…å†…å‰ç½®å¼æ¨¡å—èµ„æºå…·æœ‰æ›´å¥½å¯è¯»æ€§</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// å…³äºæ¨¡å—é…ç½®</span></span><br><span class=\"line\"></span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">      <span class=\"comment\">// æ¨¡å—è§„åˆ™ï¼ˆé…ç½® loaderã€è§£æå™¨ç­‰é€‰é¡¹ï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.jsx?$/</span>,</span><br><span class=\"line\">        include: [</span><br><span class=\"line\">          path.resolve(__dirname, <span class=\"string\">\"app\"</span>)</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        exclude: [</span><br><span class=\"line\">          path.resolve(__dirname, <span class=\"string\">\"app/demo-files\"</span>)</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"comment\">// è¿™é‡Œæ˜¯åŒ¹é…æ¡ä»¶ï¼Œæ¯ä¸ªé€‰é¡¹éƒ½æ¥æ”¶ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æˆ–å­—ç¬¦ä¸²</span></span><br><span class=\"line\">        <span class=\"comment\">// test å’Œ include å…·æœ‰ç›¸åŒçš„ä½œç”¨ï¼Œéƒ½æ˜¯å¿…é¡»åŒ¹é…é€‰é¡¹</span></span><br><span class=\"line\">        <span class=\"comment\">// exclude æ˜¯å¿…ä¸åŒ¹é…é€‰é¡¹ï¼ˆä¼˜å…ˆäº test å’Œ includeï¼‰</span></span><br><span class=\"line\">        <span class=\"comment\">// æœ€ä½³å®è·µï¼š</span></span><br><span class=\"line\">        <span class=\"comment\">// - åªåœ¨ test å’Œ æ–‡ä»¶ååŒ¹é… ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class=\"line\">        <span class=\"comment\">// - åœ¨ include å’Œ exclude ä¸­ä½¿ç”¨ç»å¯¹è·¯å¾„æ•°ç»„</span></span><br><span class=\"line\">        <span class=\"comment\">// - å°½é‡é¿å… excludeï¼Œæ›´å€¾å‘äºä½¿ç”¨ include</span></span><br><span class=\"line\"></span><br><span class=\"line\">        issuer: &#123; test, include, exclude &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// issuer æ¡ä»¶ï¼ˆå¯¼å…¥æºï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">        enforce: <span class=\"string\">\"pre\"</span>,</span><br><span class=\"line\">        enforce: <span class=\"string\">\"post\"</span>,</span><br><span class=\"line\">        <span class=\"comment\">// æ ‡è¯†åº”ç”¨è¿™äº›è§„åˆ™ï¼Œå³ä½¿è§„åˆ™è¦†ç›–ï¼ˆé«˜çº§é€‰é¡¹ï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">        loader: <span class=\"string\">\"babel-loader\"</span>,</span><br><span class=\"line\">        <span class=\"comment\">// åº”è¯¥åº”ç”¨çš„ loaderï¼Œå®ƒç›¸å¯¹ä¸Šä¸‹æ–‡è§£æ</span></span><br><span class=\"line\">        <span class=\"comment\">// ä¸ºäº†æ›´æ¸…æ™°ï¼Œ`-loader` åç¼€åœ¨ webpack 2 ä¸­ä¸å†æ˜¯å¯é€‰çš„</span></span><br><span class=\"line\">        <span class=\"comment\">// æŸ¥çœ‹ webpack 1 å‡çº§æŒ‡å—ã€‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">        options: &#123;</span><br><span class=\"line\">          presets: [<span class=\"string\">\"es2015\"</span>]</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// loader çš„å¯é€‰é¡¹</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.html$/</span>,</span><br><span class=\"line\">        test: <span class=\"string\">\"\\.html$\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">        use: [</span><br><span class=\"line\">          <span class=\"comment\">// åº”ç”¨å¤šä¸ª loader å’Œé€‰é¡¹</span></span><br><span class=\"line\">          <span class=\"string\">\"htmllint-loader\"</span>,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            loader: <span class=\"string\">\"html-loader\"</span>,</span><br><span class=\"line\">            options: &#123;</span><br><span class=\"line\">              <span class=\"comment\">/* ... */</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.less$/</span>,</span><br><span class=\"line\">        loader: <span class=\"string\">\"style-loader!css-loader!less-loader\"</span>,</span><br><span class=\"line\">        <span class=\"comment\">// use: [</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     loader: \"style-loader\",</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#125;,</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     loader: \"css-loader\",</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#125;,</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     loader: \"less-loader\",</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#125;,</span></span><br><span class=\"line\">        <span class=\"comment\">// ],</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">      &#123; <span class=\"attr\">oneOf</span>: [ <span class=\"comment\">/* rules */</span> ] &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// åªä½¿ç”¨è¿™äº›åµŒå¥—è§„åˆ™ä¹‹ä¸€</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#123; <span class=\"attr\">rules</span>: [ <span class=\"comment\">/* rules */</span> ] &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// ä½¿ç”¨æ‰€æœ‰è¿™äº›åµŒå¥—è§„åˆ™ï¼ˆåˆå¹¶å¯ç”¨æ¡ä»¶ï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#123; <span class=\"attr\">resource</span>: &#123; <span class=\"attr\">and</span>: [ <span class=\"comment\">/* æ¡ä»¶ */</span> ] &#125; &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// ä»…å½“æ‰€æœ‰æ¡ä»¶éƒ½åŒ¹é…æ—¶æ‰åŒ¹é…</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#123; <span class=\"attr\">resource</span>: &#123; <span class=\"attr\">or</span>: [ <span class=\"comment\">/* æ¡ä»¶ */</span> ] &#125; &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">resource</span>: [ <span class=\"comment\">/* æ¡ä»¶ */</span> ] &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// ä»»æ„æ¡ä»¶åŒ¹é…æ—¶åŒ¹é…ï¼ˆé»˜è®¤ä¸ºæ•°ç»„ï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#123; <span class=\"attr\">resource</span>: &#123; <span class=\"attr\">not</span>: <span class=\"comment\">/* æ¡ä»¶ */</span> &#125; &#125;</span><br><span class=\"line\">      <span class=\"comment\">// æ¡ä»¶ä¸åŒ¹é…æ—¶åŒ¹é…</span></span><br><span class=\"line\">    ],</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* é«˜çº§æ¨¡å—é…ç½®ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    noParse: [</span><br><span class=\"line\">      /special-library\\.js$/</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"comment\">// ä¸è§£æè¿™é‡Œçš„æ¨¡å—</span></span><br><span class=\"line\"></span><br><span class=\"line\">    unknownContextRequest: <span class=\"string\">\".\"</span>,</span><br><span class=\"line\">    unknownContextRecursive: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    unknownContextRegExp: <span class=\"regexp\">/^\\.\\/.*$/</span>,</span><br><span class=\"line\">    unknownContextCritical: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    exprContextRequest: <span class=\"string\">\".\"</span>,</span><br><span class=\"line\">    exprContextRegExp: <span class=\"regexp\">/^\\.\\/.*$/</span>,</span><br><span class=\"line\">    exprContextRecursive: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    exprContextCritical: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    wrappedContextRegExp: <span class=\"regexp\">/.*/</span>,</span><br><span class=\"line\">    wrappedContextRecursive: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    wrappedContextCritical: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// specifies default behavior for dynamic requests</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  resolve: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// è§£ææ¨¡å—è¯·æ±‚çš„é€‰é¡¹</span></span><br><span class=\"line\">    <span class=\"comment\">// ï¼ˆä¸é€‚ç”¨äºå¯¹ loader è§£æï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">    modules: [</span><br><span class=\"line\">      <span class=\"string\">\"node_modules\"</span>,</span><br><span class=\"line\">      path.resolve(__dirname, <span class=\"string\">\"app\"</span>)</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"comment\">// ç”¨äºæŸ¥æ‰¾æ¨¡å—çš„ç›®å½•</span></span><br><span class=\"line\"></span><br><span class=\"line\">    extensions: [<span class=\"string\">\".js\"</span>, <span class=\"string\">\".json\"</span>, <span class=\"string\">\".jsx\"</span>, <span class=\"string\">\".css\"</span>],</span><br><span class=\"line\">    <span class=\"comment\">// ä½¿ç”¨çš„æ‰©å±•å</span></span><br><span class=\"line\"></span><br><span class=\"line\">    alias: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// æ¨¡å—åˆ«ååˆ—è¡¨</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"string\">\"module\"</span>: <span class=\"string\">\"new-module\"</span>,</span><br><span class=\"line\">      <span class=\"comment\">// èµ·åˆ«åï¼š\"module\" -&gt; \"new-module\" å’Œ \"module/path/file\" -&gt; \"new-module/path/file\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"string\">\"only-module$\"</span>: <span class=\"string\">\"new-module\"</span>,</span><br><span class=\"line\">      <span class=\"comment\">// èµ·åˆ«å \"only-module\" -&gt; \"new-module\"ï¼Œä½†ä¸åŒ¹é… \"only-module/path/file\" -&gt; \"new-module/path/file\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"string\">\"module\"</span>: path.resolve(__dirname, <span class=\"string\">\"app/third/module.js\"</span>),</span><br><span class=\"line\">      <span class=\"comment\">// èµ·åˆ«å \"module\" -&gt; \"./app/third/module.js\" å’Œ \"module/file\" ä¼šå¯¼è‡´é”™è¯¯</span></span><br><span class=\"line\">      <span class=\"comment\">// æ¨¡å—åˆ«åç›¸å¯¹äºå½“å‰ä¸Šä¸‹æ–‡å¯¼å…¥</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">/* å¯ä¾›é€‰æ‹©çš„åˆ«åè¯­æ³•ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span></span><br><span class=\"line\">    alias: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        name: <span class=\"string\">\"module\"</span>,</span><br><span class=\"line\">        <span class=\"comment\">// æ—§çš„è¯·æ±‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">        alias: <span class=\"string\">\"new-module\"</span>,</span><br><span class=\"line\">        <span class=\"comment\">// æ–°çš„è¯·æ±‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">        onlyModule: <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"comment\">// å¦‚æœä¸º trueï¼Œåªæœ‰ \"module\" æ˜¯åˆ«å</span></span><br><span class=\"line\">        <span class=\"comment\">// å¦‚æœä¸º falseï¼Œ\"module/inner/path\" ä¹Ÿæ˜¯åˆ«å</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* é«˜çº§è§£æé€‰é¡¹ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    symlinks: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// éµå¾ªç¬¦å·é“¾æ¥(symlinks)åˆ°æ–°ä½ç½®</span></span><br><span class=\"line\"></span><br><span class=\"line\">    descriptionFiles: [<span class=\"string\">\"package.json\"</span>],</span><br><span class=\"line\">    <span class=\"comment\">// ä» package æè¿°ä¸­è¯»å–çš„æ–‡ä»¶</span></span><br><span class=\"line\"></span><br><span class=\"line\">    mainFields: [<span class=\"string\">\"main\"</span>],</span><br><span class=\"line\">    <span class=\"comment\">// ä»æè¿°æ–‡ä»¶ä¸­è¯»å–çš„å±æ€§</span></span><br><span class=\"line\">    <span class=\"comment\">// å½“è¯·æ±‚æ–‡ä»¶å¤¹æ—¶</span></span><br><span class=\"line\"></span><br><span class=\"line\">    aliasFields: [<span class=\"string\">\"browser\"</span>],</span><br><span class=\"line\">    <span class=\"comment\">// ä»æè¿°æ–‡ä»¶ä¸­è¯»å–çš„å±æ€§</span></span><br><span class=\"line\">    <span class=\"comment\">// ä»¥å¯¹æ­¤ package çš„è¯·æ±‚èµ·åˆ«å</span></span><br><span class=\"line\"></span><br><span class=\"line\">    enforceExtension: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœä¸º trueï¼Œè¯·æ±‚å¿…ä¸åŒ…æ‹¬æ‰©å±•å</span></span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœä¸º falseï¼Œè¯·æ±‚å¯ä»¥åŒ…æ‹¬æ‰©å±•å</span></span><br><span class=\"line\"></span><br><span class=\"line\">    moduleExtensions: [<span class=\"string\">\"-module\"</span>],</span><br><span class=\"line\">    enforceModuleExtension: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// ç±»ä¼¼ extensions/enforceExtensionï¼Œä½†æ˜¯ç”¨æ¨¡å—åæ›¿æ¢æ–‡ä»¶</span></span><br><span class=\"line\"></span><br><span class=\"line\">    unsafeCache: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    unsafeCache: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">// ä¸ºè§£æçš„è¯·æ±‚å¯ç”¨ç¼“å­˜</span></span><br><span class=\"line\">    <span class=\"comment\">// è¿™æ˜¯ä¸å®‰å…¨ï¼Œå› ä¸ºæ–‡ä»¶å¤¹ç»“æ„å¯èƒ½ä¼šæ”¹åŠ¨</span></span><br><span class=\"line\">    <span class=\"comment\">// ä½†æ˜¯æ€§èƒ½æ”¹å–„æ˜¯å¾ˆå¤§çš„</span></span><br><span class=\"line\"></span><br><span class=\"line\">    cachePredicate: <span class=\"function\">(<span class=\"params\">path, request</span>) =&gt;</span> <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// predicate function which selects requests for caching</span></span><br><span class=\"line\"></span><br><span class=\"line\">    plugins: [</span><br><span class=\"line\">      <span class=\"comment\">// ...</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">    <span class=\"comment\">// åº”ç”¨äºè§£æå™¨çš„é™„åŠ æ’ä»¶</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  performance: &#123;</span><br><span class=\"line\">    hints: <span class=\"string\">\"warning\"</span>, <span class=\"comment\">// æšä¸¾</span></span><br><span class=\"line\">    hints: <span class=\"string\">\"error\"</span>, <span class=\"comment\">// æ€§èƒ½æç¤ºä¸­æŠ›å‡ºé”™è¯¯</span></span><br><span class=\"line\">    hints: <span class=\"literal\">false</span>, <span class=\"comment\">// å…³é—­æ€§èƒ½æç¤º</span></span><br><span class=\"line\">    maxAssetSize: <span class=\"number\">200000</span>, <span class=\"comment\">// æ•´æ•°ç±»å‹ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</span></span><br><span class=\"line\">    maxEntrypointSize: <span class=\"number\">400000</span>, <span class=\"comment\">// æ•´æ•°ç±»å‹ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</span></span><br><span class=\"line\">    assetFilter: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">assetFilename</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"comment\">// æä¾›èµ„æºæ–‡ä»¶åçš„æ–­è¨€å‡½æ•°</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> assetFilename.endsWith(<span class=\"string\">'.css'</span>) || assetFilename.endsWith(<span class=\"string\">'.js'</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  devtool: <span class=\"string\">\"source-map\"</span>, <span class=\"comment\">// enum</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"inline-source-map\"</span>, <span class=\"comment\">// åµŒå…¥åˆ°æºæ–‡ä»¶ä¸­</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"eval-source-map\"</span>, <span class=\"comment\">// å°† SourceMap åµŒå…¥åˆ°æ¯ä¸ªæ¨¡å—ä¸­</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"hidden-source-map\"</span>, <span class=\"comment\">// SourceMap ä¸åœ¨æºæ–‡ä»¶ä¸­å¼•ç”¨</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"cheap-source-map\"</span>, <span class=\"comment\">// æ²¡æœ‰æ¨¡å—æ˜ å°„(module mappings)çš„ SourceMap ä½çº§å˜ä½“(cheap-variant)</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"cheap-module-source-map\"</span>, <span class=\"comment\">// æœ‰æ¨¡å—æ˜ å°„(module mappings)çš„ SourceMap ä½çº§å˜ä½“</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"eval\"</span>, <span class=\"comment\">// æ²¡æœ‰æ¨¡å—æ˜ å°„ï¼Œè€Œæ˜¯å‘½åæ¨¡å—ã€‚ä»¥ç‰ºç‰²ç»†èŠ‚è¾¾åˆ°æœ€å¿«ã€‚</span></span><br><span class=\"line\">  <span class=\"comment\">// é€šè¿‡åœ¨æµè§ˆå™¨è°ƒè¯•å·¥å…·(browser devtools)ä¸­æ·»åŠ å…ƒä¿¡æ¯(meta info)å¢å¼ºè°ƒè¯•</span></span><br><span class=\"line\">  <span class=\"comment\">// ç‰ºç‰²äº†æ„å»ºé€Ÿåº¦çš„ `source-map' æ˜¯æœ€è¯¦ç»†çš„ã€‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">  context: __dirname, <span class=\"comment\">// stringï¼ˆç»å¯¹è·¯å¾„ï¼ï¼‰</span></span><br><span class=\"line\">  <span class=\"comment\">// webpack çš„ä¸»ç›®å½•</span></span><br><span class=\"line\">  <span class=\"comment\">// entry å’Œ module.rules.loader é€‰é¡¹</span></span><br><span class=\"line\">  <span class=\"comment\">// ç›¸å¯¹äºæ­¤ç›®å½•è§£æ</span></span><br><span class=\"line\"></span><br><span class=\"line\">  target: <span class=\"string\">\"web\"</span>, <span class=\"comment\">// æšä¸¾</span></span><br><span class=\"line\">  target: <span class=\"string\">\"webworker\"</span>, <span class=\"comment\">// WebWorker</span></span><br><span class=\"line\">  target: <span class=\"string\">\"node\"</span>, <span class=\"comment\">// node.js é€šè¿‡ require</span></span><br><span class=\"line\">  target: <span class=\"string\">\"async-node\"</span>, <span class=\"comment\">// Node.js é€šè¿‡ fs and vm</span></span><br><span class=\"line\">  target: <span class=\"string\">\"node-webkit\"</span>, <span class=\"comment\">// nw.js</span></span><br><span class=\"line\">  target: <span class=\"string\">\"electron-main\"</span>, <span class=\"comment\">// electronï¼Œä¸»è¿›ç¨‹(main process)</span></span><br><span class=\"line\">  target: <span class=\"string\">\"electron-renderer\"</span>, <span class=\"comment\">// electronï¼Œæ¸²æŸ“è¿›ç¨‹(renderer process)</span></span><br><span class=\"line\">  target: <span class=\"function\">(<span class=\"params\">compiler</span>) =&gt;</span> &#123; <span class=\"comment\">/* ... */</span> &#125;, <span class=\"comment\">// è‡ªå®šä¹‰</span></span><br><span class=\"line\">  <span class=\"comment\">// åŒ…(bundle)åº”è¯¥è¿è¡Œçš„ç¯å¢ƒ</span></span><br><span class=\"line\">  <span class=\"comment\">// æ›´æ”¹ å—åŠ è½½è¡Œä¸º(chunk loading behavior) å’Œ å¯ç”¨æ¨¡å—(available module)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  externals: [<span class=\"string\">\"react\"</span>, /^@angular\\<span class=\"comment\">//],</span></span><br><span class=\"line\">  externals: <span class=\"string\">\"react\"</span>, <span class=\"comment\">// stringï¼ˆç²¾ç¡®åŒ¹é…ï¼‰</span></span><br><span class=\"line\">  externals: <span class=\"regexp\">/^[a-z\\-]+($|\\/)/</span>, <span class=\"comment\">// æ­£åˆ™</span></span><br><span class=\"line\">  externals: &#123; <span class=\"comment\">// å¯¹è±¡</span></span><br><span class=\"line\">    angular: <span class=\"string\">\"this angular\"</span>, <span class=\"comment\">// this[\"angular\"]</span></span><br><span class=\"line\">    react: &#123; <span class=\"comment\">// UMD</span></span><br><span class=\"line\">      commonjs: <span class=\"string\">\"react\"</span>,</span><br><span class=\"line\">      commonjs2: <span class=\"string\">\"react\"</span>,</span><br><span class=\"line\">      amd: <span class=\"string\">\"react\"</span>,</span><br><span class=\"line\">      root: <span class=\"string\">\"React\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  externals: <span class=\"function\">(<span class=\"params\">request</span>) =&gt;</span> &#123; <span class=\"comment\">/* ... */</span> <span class=\"keyword\">return</span> <span class=\"string\">\"commonjs \"</span> + request &#125;</span><br><span class=\"line\">  <span class=\"comment\">// ä¸è¦éµå¾ª/æ‰“åŒ…è¿™äº›æ¨¡å—ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶ä»ç¯å¢ƒä¸­è¯·æ±‚ä»–ä»¬</span></span><br><span class=\"line\"></span><br><span class=\"line\">  stats: <span class=\"string\">\"errors-only\"</span>,</span><br><span class=\"line\">  stats: &#123; <span class=\"comment\">//object</span></span><br><span class=\"line\">    assets: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    colors: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    errors: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    errorDetails: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    hash: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// ç²¾ç¡®æ§åˆ¶è¦æ˜¾ç¤ºçš„ bundle ä¿¡æ¯</span></span><br><span class=\"line\"></span><br><span class=\"line\">  devServer: &#123;</span><br><span class=\"line\">    proxy: &#123; <span class=\"comment\">// proxy URLs to backend development server</span></span><br><span class=\"line\">      <span class=\"string\">'/api'</span>: <span class=\"string\">'http://localhost:3000'</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    contentBase: path.join(__dirname, <span class=\"string\">'public'</span>), <span class=\"comment\">// boolean | string | array, static file location</span></span><br><span class=\"line\">    compress: <span class=\"literal\">true</span>, <span class=\"comment\">// enable gzip compression</span></span><br><span class=\"line\">    historyApiFallback: <span class=\"literal\">true</span>, <span class=\"comment\">// true for index.html upon 404, object for multiple paths</span></span><br><span class=\"line\">    hot: <span class=\"literal\">true</span>, <span class=\"comment\">// hot module replacement. Depends on HotModuleReplacementPlugin</span></span><br><span class=\"line\">    https: <span class=\"literal\">false</span>, <span class=\"comment\">// true for self-signed, object for cert authority</span></span><br><span class=\"line\">    noInfo: <span class=\"literal\">true</span>, <span class=\"comment\">// only errors &amp; warns on hot reload</span></span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"comment\">// é™„åŠ æ’ä»¶åˆ—è¡¨</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* é«˜çº§é…ç½®ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span></span><br><span class=\"line\"></span><br><span class=\"line\">  resolveLoader: &#123; <span class=\"comment\">/* ç­‰åŒäº resolve */</span> &#125;</span><br><span class=\"line\">  <span class=\"comment\">// ç‹¬ç«‹è§£æé€‰é¡¹çš„ loader</span></span><br><span class=\"line\"></span><br><span class=\"line\">  parallelism: <span class=\"number\">1</span>, <span class=\"comment\">// number</span></span><br><span class=\"line\">  <span class=\"comment\">// é™åˆ¶å¹¶è¡Œå¤„ç†æ¨¡å—çš„æ•°é‡</span></span><br><span class=\"line\"></span><br><span class=\"line\">  profile: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">  <span class=\"comment\">// æ•è·æ—¶æœºä¿¡æ¯</span></span><br><span class=\"line\"></span><br><span class=\"line\">  bail: <span class=\"literal\">true</span>, <span class=\"comment\">//boolean</span></span><br><span class=\"line\">  <span class=\"comment\">// åœ¨ç¬¬ä¸€ä¸ªé”™è¯¯å‡ºé”™æ—¶æŠ›å‡ºï¼Œè€Œä¸æ˜¯æ— è§†é”™è¯¯ã€‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">  cache: <span class=\"literal\">false</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">  <span class=\"comment\">// ç¦ç”¨/å¯ç”¨ç¼“å­˜</span></span><br><span class=\"line\"></span><br><span class=\"line\">  watch: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">  <span class=\"comment\">// å¯ç”¨è§‚å¯Ÿ</span></span><br><span class=\"line\"></span><br><span class=\"line\">  watchOptions: &#123;</span><br><span class=\"line\">    aggregateTimeout: <span class=\"number\">1000</span>, <span class=\"comment\">// in ms</span></span><br><span class=\"line\">    <span class=\"comment\">// å°†å¤šä¸ªæ›´æ”¹èšåˆåˆ°å•ä¸ªé‡æ„å»º(rebuild)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    poll: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    poll: <span class=\"number\">500</span>, <span class=\"comment\">// é—´éš”å•ä½ ms</span></span><br><span class=\"line\">    <span class=\"comment\">// å¯ç”¨è½®è¯¢è§‚å¯Ÿæ¨¡å¼</span></span><br><span class=\"line\">    <span class=\"comment\">// å¿…é¡»ç”¨åœ¨ä¸é€šçŸ¥æ›´æ”¹çš„æ–‡ä»¶ç³»ç»Ÿä¸­</span></span><br><span class=\"line\">    <span class=\"comment\">// å³ nfs sharesï¼ˆè¯‘è€…æ³¨ï¼šNetwork FileSystemï¼Œæœ€å¤§çš„åŠŸèƒ½å°±æ˜¯å¯ä»¥é€éç¶²è·¯ï¼Œè®“ä¸åŒçš„æ©Ÿå™¨ã€ä¸åŒçš„ä½œæ¥­ç³»çµ±ã€å¯ä»¥å½¼æ­¤åˆ†äº«å€‹åˆ¥çš„æª”æ¡ˆ ( share file )ï¼‰</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  node: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Polyfills and mocks to run Node.js-</span></span><br><span class=\"line\">    <span class=\"comment\">// environment code in non-Node environments.</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">console</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// boolean | \"mock\"</span></span><br><span class=\"line\">    global: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean | \"mock\"</span></span><br><span class=\"line\">    process: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">    __filename: <span class=\"string\">\"mock\"</span>, <span class=\"comment\">// boolean | \"mock\"</span></span><br><span class=\"line\">    __dirname: <span class=\"string\">\"mock\"</span>, <span class=\"comment\">// boolean | \"mock\"</span></span><br><span class=\"line\">    Buffer: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean | \"mock\"</span></span><br><span class=\"line\">    setImmediate: <span class=\"literal\">true</span> <span class=\"comment\">// boolean | \"mock\" | \"empty\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  recordsPath: path.resolve(__dirname, <span class=\"string\">\"build/records.json\"</span>),</span><br><span class=\"line\">  recordsInputPath: path.resolve(__dirname, <span class=\"string\">\"build/records.json\"</span>),</span><br><span class=\"line\">  recordsOutputPath: path.resolve(__dirname, <span class=\"string\">\"build/records.json\"</span>),</span><br><span class=\"line\">  <span class=\"comment\">// TODO</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","tool"],"tags":["webpack"]},{"title":"MobX åŸºç¡€ä»‹ç»","url":"/Blog/mobx-basic/","content":"<hr>\n<ul>\n<li><strong><code>mobx</code></strong>(<a href=\"https://github.com/mobxjs/mobx\" target=\"_blank\" rel=\"noopener\"><code>github</code></a>,<a href=\"https://cn.mobx.js.org/\" target=\"_blank\" rel=\"noopener\"><code>mobx</code>ä¸­æ–‡æ–‡æ¡£</a>)</li>\n<li><strong><code>mobx-state-tree</code></strong>(<a href=\"https://www.npmjs.com/package/mobx-state-tree\" target=\"_blank\" rel=\"noopener\"><code>npm</code></a>,<a href=\"https://github.com/mobxjs/mobx-state-tree\" target=\"_blank\" rel=\"noopener\"><code>github</code></a>,<a href=\"http://mobx-state-tree.js.org/\" target=\"_blank\" rel=\"noopener\"><code>docs</code></a>)</li>\n<li><strong>å®ç”¨å·¥å…·</strong>: <a href=\"https://github.com/mobxjs/mobx-utils\" target=\"_blank\" rel=\"noopener\"><code>mobx-utils</code></a></li>\n<li><a href=\"https://github.com/mobxjs/awesome-mobx#examples\" target=\"_blank\" rel=\"noopener\">åšå®¢ã€è§†é¢‘åŠç›¸å…³é¡¹ç›®</a></li>\n</ul>\n<hr>\n<a id=\"more\"></a>\n\n<p>[TOC]</p>\n<!-- toc -->\n\n<ul>\n<li><a href=\"#æ¦‚å¿µ\">æ¦‚å¿µ</a><ul>\n<li><a href=\"#1-stateçŠ¶æ€\">1. State(çŠ¶æ€)</a></li>\n<li><a href=\"#2-derivationsè¡ç”Ÿ\">2. Derivations(è¡ç”Ÿ)</a></li>\n<li><a href=\"#3-actionsåŠ¨ä½œ\">3. Actions(åŠ¨ä½œ)</a></li>\n</ul>\n</li>\n<li><a href=\"#åŸåˆ™\">åŸåˆ™</a></li>\n<li><a href=\"#å®ä¾‹\">å®ä¾‹</a></li>\n<li><a href=\"#æ ¸å¿ƒ-api\">æ ¸å¿ƒ API</a><ul>\n<li><a href=\"#observable\">observable</a><ul>\n<li><a href=\"#observablevalue\"><code>observable(value)</code></a></li>\n<li><a href=\"#observable-property-value\"><code>@observable property = value</code></a></li>\n<li><a href=\"#observable-property-value\">@observable property = value</a></li>\n<li><a href=\"#observableobjectvalue-decorators-options\"><code>observable.object(value, decorators?, options?)</code></a></li>\n<li><a href=\"#observablearrayvalue-options\"><code>observable.array(value, options?)</code></a></li>\n<li><a href=\"#observablemapvalue-options\"><code>observable.map(value, options?)</code></a></li>\n<li><a href=\"#extendobservable\"><code>extendObservable</code></a></li>\n</ul>\n</li>\n<li><a href=\"#è£…é¥°å™¨decorators\">è£…é¥°å™¨(Decorators)</a><ul>\n<li><a href=\"#decorate\"><code>decorate</code></a></li>\n</ul>\n</li>\n<li><a href=\"#computed-valuesè®¡ç®—å€¼\">Computed values(è®¡ç®—å€¼)</a></li>\n<li><a href=\"#actionsåŠ¨ä½œ\">Actions(åŠ¨ä½œ)</a></li>\n<li><a href=\"#flow\">Flow</a><ul>\n<li><a href=\"#flows-å¯ä»¥æ’¤é”€\">Flows å¯ä»¥æ’¤é”€</a></li>\n<li><a href=\"#flows-æ”¯æŒå¼‚æ­¥è¿­ä»£å™¨\">Flows æ”¯æŒå¼‚æ­¥è¿­ä»£å™¨</a></li>\n</ul>\n</li>\n<li><a href=\"#reactionsååº”-derivationsè¡ç”Ÿ\">Reactions(ååº”) &amp; Derivations(è¡ç”Ÿ)</a><ul>\n<li><a href=\"#observer\">observer</a></li>\n<li><a href=\"#autorun\">autorun</a></li>\n<li><a href=\"#when\">when</a></li>\n<li><a href=\"#options\">options</a></li>\n<li><a href=\"#reaction\">reaction</a></li>\n<li><a href=\"#options-1\">options</a></li>\n<li><a href=\"#onreactionerror\">onReactionError</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h1><span id=\"æ¦‚å¿µ\">æ¦‚å¿µ</span></h1><h2><span id=\"1-stateçŠ¶æ€\">1. State(çŠ¶æ€)</span></h2><p><strong>çŠ¶æ€</strong> æ˜¯é©±åŠ¨åº”ç”¨çš„æ•°æ®ã€‚ é€šå¸¸æœ‰åƒå¾…åŠäº‹é¡¹åˆ—è¡¨è¿™æ ·çš„<strong>é¢†åŸŸç‰¹å®šçŠ¶æ€</strong>ï¼Œè¿˜æœ‰åƒå½“å‰å·²é€‰å…ƒç´ çš„<strong>è§†å›¾çŠ¶æ€</strong>ã€‚ è®°ä½ï¼ŒçŠ¶æ€å°±åƒæ˜¯æœ‰æ•°æ®çš„ <code>excel</code> è¡¨æ ¼ã€‚</p>\n<h2><span id=\"2-derivationsè¡ç”Ÿ\">2. Derivations(è¡ç”Ÿ)</span></h2><p><strong>ä»»ä½•</strong> æºè‡ª<strong>çŠ¶æ€</strong>å¹¶ä¸”ä¸ä¼šå†æœ‰ä»»ä½•è¿›ä¸€æ­¥çš„ç›¸äº’ä½œç”¨çš„ä¸œè¥¿å°±æ˜¯è¡ç”Ÿã€‚ è¡ç”Ÿä»¥å¤šç§å½¢å¼å­˜åœ¨:</p>\n<ul>\n<li><strong>ç”¨æˆ·ç•Œé¢</strong></li>\n<li><strong>è¡ç”Ÿæ•°æ®</strong>ï¼Œæ¯”å¦‚å‰©ä¸‹çš„å¾…åŠäº‹é¡¹çš„æ•°é‡ã€‚</li>\n<li><strong>åç«¯é›†æˆ</strong>ï¼Œæ¯”å¦‚æŠŠå˜åŒ–å‘é€åˆ°æœåŠ¡å™¨ç«¯ã€‚</li>\n</ul>\n<p>MobX åŒºåˆ†äº†ä¸¤ç§ç±»å‹çš„è¡ç”Ÿ:</p>\n<ul>\n<li><p><strong><code>Computed values</code>(è®¡ç®—å€¼)</strong> - å®ƒä»¬æ˜¯æ°¸è¿œå¯ä»¥ä½¿ç”¨çº¯å‡½æ•°(<code>pure function</code>)ä»å½“å‰å¯è§‚å¯ŸçŠ¶æ€ä¸­è¡ç”Ÿå‡ºçš„å€¼ã€‚</p>\n</li>\n<li><p><strong><code>Reactions</code>(ååº”)</strong> - <code>Reactions</code> æ˜¯å½“çŠ¶æ€æ”¹å˜æ—¶éœ€è¦è‡ªåŠ¨å‘ç”Ÿçš„å‰¯ä½œç”¨ã€‚éœ€è¦æœ‰ä¸€ä¸ªæ¡¥æ¢æ¥è¿æ¥å‘½ä»¤å¼ç¼–ç¨‹(<code>imperative programming</code>)å’Œå“åº”å¼ç¼–ç¨‹(<code>reactive programming</code>)ã€‚æˆ–è€…è¯´å¾—æ›´æ˜ç¡®ä¸€äº›ï¼Œå®ƒä»¬æœ€ç»ˆéƒ½éœ€è¦å®ç° <code>I / O</code> æ“ä½œã€‚</p>\n<p><em>åˆšå¼€å§‹ä½¿ç”¨ MobX æ—¶ï¼Œäººä»¬å€¾å‘äºé¢‘ç¹çš„ä½¿ç”¨ reactionsã€‚ é»„é‡‘æ³•åˆ™: å¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ªåŸºäºå½“å‰çŠ¶æ€çš„å€¼æ—¶ï¼Œè¯·ä½¿ç”¨ <strong><code>computed</code></strong>ã€‚</em></p>\n</li>\n</ul>\n<p>å›åˆ° excel è¡¨æ ¼è¿™ä¸ªæ¯”å–»ä¸­æ¥ï¼Œå…¬å¼æ˜¯<strong>è®¡ç®—</strong>å€¼çš„è¡ç”Ÿã€‚ä½†å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œèƒ½çœ‹åˆ°å±å¹•ç»™å‡ºçš„<strong>ååº”</strong>åˆ™éœ€è¦éƒ¨åˆ†é‡ç»˜ GUIã€‚</p>\n<h2><span id=\"3-actionsåŠ¨ä½œ\">3. Actions(åŠ¨ä½œ)</span></h2><p><strong>åŠ¨ä½œ</strong> æ˜¯ä»»ä¸€ä¸€æ®µå¯ä»¥æ”¹å˜çŠ¶æ€çš„ä»£ç ã€‚ç”¨æˆ·äº‹ä»¶ã€åç«¯æ•°æ®æ¨é€ã€é¢„å®šäº‹ä»¶ã€ç­‰ç­‰ã€‚ åŠ¨ä½œç±»ä¼¼äºç”¨æˆ·åœ¨ <code>excel</code> å•å…ƒæ ¼ä¸­è¾“å…¥ä¸€ä¸ªæ–°çš„å€¼ã€‚</p>\n<p>åœ¨ <code>MobX</code> ä¸­å¯ä»¥æ˜¾å¼åœ°å®šä¹‰åŠ¨ä½œï¼Œå®ƒå¯ä»¥å¸®ä½ æŠŠä»£ç ç»„ç»‡çš„æ›´æ¸…æ™°ã€‚ å¦‚æœæ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä½¿ç”¨ <code>MobX</code> çš„è¯ï¼Œ<code>MobX</code> ä¼šå¼ºåˆ¶åªæœ‰åœ¨åŠ¨ä½œä¹‹ä¸­æ‰å¯ä»¥ä¿®æ”¹çŠ¶æ€ã€‚</p>\n<h1><span id=\"åŸåˆ™\">åŸåˆ™</span></h1><p><code>MobX</code> æ”¯æŒå•å‘æ•°æ®æµï¼Œä¹Ÿå°±æ˜¯<strong>åŠ¨ä½œ</strong>æ”¹å˜<strong>çŠ¶æ€</strong>ï¼Œè€ŒçŠ¶æ€çš„æ”¹å˜ä¼šæ›´æ–°æ‰€æœ‰å—å½±å“çš„<strong>è§†å›¾</strong>ã€‚</p>\n<img src=\"/Blog/mobx-basic/action-state-view.png\" class title=\"action-state-view\">\n\n<p>å½“<strong>çŠ¶æ€</strong>æ”¹å˜æ—¶ï¼Œæ‰€æœ‰<strong>è¡ç”Ÿ</strong>éƒ½ä¼šè¿›è¡Œ<strong>åŸå­çº§çš„è‡ªåŠ¨æ›´æ–°</strong>ã€‚å› æ­¤æ°¸è¿œä¸å¯èƒ½è§‚å¯Ÿåˆ°ä¸­é—´å€¼ã€‚</p>\n<p>æ‰€æœ‰<strong>è¡ç”Ÿ</strong>é»˜è®¤éƒ½æ˜¯<strong>åŒæ­¥</strong>æ›´æ–°ã€‚è¿™æ„å‘³ç€ä¾‹å¦‚<strong>åŠ¨ä½œ</strong>å¯ä»¥åœ¨æ”¹å˜<strong>çŠ¶æ€</strong>ä¹‹åç›´æ¥å¯ä»¥å®‰å…¨åœ°æ£€æŸ¥è®¡ç®—å€¼ã€‚</p>\n<p><strong>è®¡ç®—å€¼</strong>æ˜¯<strong>å»¶è¿Ÿ</strong>æ›´æ–°çš„ã€‚ä»»ä½•ä¸åœ¨ä½¿ç”¨çŠ¶æ€çš„è®¡ç®—å€¼å°†ä¸ä¼šæ›´æ–°ï¼Œç›´åˆ°éœ€è¦å®ƒè¿›è¡Œå‰¯ä½œç”¨ï¼ˆ<code>I / O</code>ï¼‰æ“ä½œæ—¶ã€‚ å¦‚æœè§†å›¾ä¸å†ä½¿ç”¨ï¼Œé‚£ä¹ˆå®ƒä¼šè‡ªåŠ¨è¢«åƒåœ¾å›æ”¶ã€‚</p>\n<p>æ‰€æœ‰çš„<strong>è®¡ç®—å€¼</strong>éƒ½åº”è¯¥æ˜¯<strong>çº¯å‡€</strong>çš„ã€‚å®ƒä»¬ä¸åº”è¯¥ç”¨æ¥æ”¹å˜<strong>çŠ¶æ€</strong>ã€‚</p>\n<h1><span id=\"å®ä¾‹\">å®ä¾‹</span></h1><p>ä¸‹é¢çš„ä»£ç æ¸…å•ä¸¾ä¾‹è¯´æ˜äº†ä»¥ä¸Šçš„æ¦‚å¿µå’ŒåŸåˆ™:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; observable, autorun &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"mobx\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> todoStore = observable(&#123;</span><br><span class=\"line\">  <span class=\"comment\">/* ä¸€äº›è§‚å¯Ÿçš„çŠ¶æ€ */</span></span><br><span class=\"line\">  todos: [],</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* æ¨å¯¼å€¼ */</span></span><br><span class=\"line\">  <span class=\"keyword\">get</span> completedCount() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.todos.filter(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span> todo.completed).length;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* è§‚å¯ŸçŠ¶æ€æ”¹å˜çš„å‡½æ•° */</span></span><br><span class=\"line\">autorun(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">    <span class=\"string\">\"Completed %d of %d items\"</span>,</span><br><span class=\"line\">    todoStore.completedCount,</span><br><span class=\"line\">    todoStore.todos.length</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ..ä»¥åŠä¸€äº›æ”¹å˜çŠ¶æ€çš„åŠ¨ä½œ */</span></span><br><span class=\"line\">todoStore.todos[<span class=\"number\">0</span>] = &#123;</span><br><span class=\"line\">  title: <span class=\"string\">\"Take a walk\"</span>,</span><br><span class=\"line\">  completed: <span class=\"literal\">false</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// -&gt; åŒæ­¥æ‰“å° 'Completed 0 of 1 items'</span></span><br><span class=\"line\"></span><br><span class=\"line\">todoStore.todos[<span class=\"number\">0</span>].completed = <span class=\"literal\">true</span>;</span><br><span class=\"line\"><span class=\"comment\">// -&gt; åŒæ­¥æ‰“å° 'Completed 1 of 1 items'</span></span><br></pre></td></tr></table></figure>\n\n<h1><span id=\"æ ¸å¿ƒ-api\">æ ¸å¿ƒ API</span></h1><h2><span id=\"observable\">observable</span></h2><h3><span id=\"observablevalue\"><code>observable(value)</code></span></h3><p>ç”¨æ³•:</p>\n<ul>\n<li><code>observable(value)</code></li>\n<li><code>@observable classProperty = value</code></li>\n</ul>\n<p><code>Observable</code> å€¼å¯ä»¥æ˜¯ <code>JS</code> åŸºæœ¬æ•°æ®ç±»å‹ã€å¼•ç”¨ç±»å‹ã€æ™®é€šå¯¹è±¡ã€ç±»å®ä¾‹ã€æ•°ç»„å’Œæ˜ å°„ã€‚</p>\n<p><strong>æ³¨æ„</strong>: <code>observable(value)</code> æ˜¯ä¸€ä¸ªä¾¿æ·çš„ <code>API</code> ï¼Œæ­¤ <code>API</code> åªæœ‰åœ¨å®ƒå¯ä»¥è¢«åˆ¶ä½œæˆå¯è§‚å¯Ÿçš„æ•°æ®ç»“æ„(æ•°ç»„ã€æ˜ å°„æˆ– <code>observable</code> å¯¹è±¡)æ—¶æ‰ä¼šæˆåŠŸã€‚å¯¹äºæ‰€æœ‰å…¶ä»–å€¼ï¼Œä¸ä¼šæ‰§è¡Œè½¬æ¢ã€‚</p>\n<p>åŒ¹é…ç±»å‹åº”ç”¨äº†ä»¥ä¸‹è½¬æ¢è§„åˆ™ï¼Œä½†å¯ä»¥é€šè¿‡ä½¿ç”¨ è£…é¥°å™¨ è¿›è¡Œå¾®è°ƒã€‚è¯·å‚è§ä¸‹æ–‡ã€‚</p>\n<ol>\n<li><p>å¦‚æœ <code>value</code> æ˜¯ <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" target=\"_blank\" rel=\"noopener\"><code>ES6 Map</code></a> çš„å®ä¾‹: ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ <code>Observable Map</code>ã€‚å¦‚æœä½ ä¸åªå…³æ³¨æŸä¸ªç‰¹å®š entry çš„æ›´æ”¹ï¼Œè€Œä¸”å¯¹æ·»åŠ æˆ–åˆ é™¤å…¶ä»– entry æ—¶ä¹Ÿåšå‡ºååº”çš„è¯ï¼Œé‚£ä¹ˆ <code>Observable map</code> ä¼šéå¸¸æœ‰ç”¨ã€‚</p>\n</li>\n<li><p>å¦‚æœ <code>value</code> æ˜¯æ•°ç»„ï¼Œä¼šè¿”å›ä¸€ä¸ª <code>Observable Array</code>ã€‚</p>\n</li>\n<li><p>å¦‚æœ <code>value</code> æ˜¯æ²¡æœ‰åŸå‹çš„å¯¹è±¡æˆ–å®ƒçš„åŸå‹æ˜¯ <code>Object.prototype</code>ï¼Œé‚£ä¹ˆå¯¹è±¡ä¼šè¢«å…‹éš†å¹¶ä¸”æ‰€æœ‰çš„å±æ€§éƒ½ä¼šè¢«è½¬æ¢æˆå¯è§‚å¯Ÿçš„ã€‚å‚è§ <code>Observable Object</code>ã€‚</p>\n</li>\n<li><p>å¦‚æœ <code>value</code> æ˜¯æœ‰åŸå‹çš„å¯¹è±¡ï¼Œ<code>JavaSript</code> åŸå§‹æ•°æ®ç±»å‹(<em>JavaScript åŸå§‹æ•°æ®ç±»å‹ Undefinedã€Nullã€Booleanã€Number å’Œ Stringã€‚(ç›¸å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹å°‘äº†ä¸ª object)</em>)æˆ–è€…å‡½æ•°ï¼Œå€¼ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚å¦‚æœä½ éœ€è¦ <code>Boxed Observable</code>ï¼Œä½ å¯ä»¥é‡‡ç”¨ä¸‹åˆ—ä»»æ„æ–¹å¼:</p>\n<ul>\n<li>æ˜¾å¼åœ°è°ƒç”¨ <code>observable.box(value)</code></li>\n<li>åœ¨ç±»å®šä¹‰æ—¶ä½¿ç”¨ <code>@observable</code></li>\n<li>è°ƒç”¨ <code>decorate()</code></li>\n<li>åœ¨ç±»ä¸­ä½¿ç”¨ <code>extendObservable()</code> æ¥å¼•å…¥å±æ€§</li>\n</ul>\n</li>\n</ol>\n<p><code>MobX</code> ä¸ä¼šè‡ªåŠ¨å¸¦æœ‰åŸå‹çš„å¯¹è±¡è½¬å˜æˆ <code>observable</code>ï¼Œå› ä¸ºé‚£æ˜¯ <code>observable</code> æ„é€ å‡½æ•°çš„èŒè´£ã€‚åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ <code>extendObservable</code> æˆ–åœ¨ç±»å®šä¹‰æ˜¯ä½¿ç”¨ <code>@observable</code> è¿›è¡Œæ›¿ä»£ã€‚</p>\n<p>ä¹çœ‹ä¹‹ä¸‹ï¼Œè¿™äº›è§„åˆ™å¯èƒ½çœ‹ä¸Šå»å¾ˆå¤æ‚ï¼Œä½†å®é™…ä¸Šå®è·µå½“ä¸­ä½ ä¼šå‘ç°ä»–ä»¬æ˜¯éå¸¸ç›´è§‚çš„ã€‚</p>\n<p>ä¸€äº›å»ºè®®:</p>\n<ul>\n<li>è¦æƒ³ä½¿ç”¨ <code>@observable</code> è£…é¥°å™¨ï¼Œé¦–å…ˆè¦ç¡®ä¿ åœ¨ä½ çš„ç¼–è¯‘å™¨(<code>babel</code> æˆ–è€… <code>typescript</code>)ä¸­ è£…é¥°å™¨æ˜¯å¯ç”¨çš„ã€‚</li>\n<li>é»˜è®¤æƒ…å†µä¸‹å°†ä¸€ä¸ªæ•°æ®ç»“æ„è½¬æ¢æˆå¯è§‚å¯Ÿçš„æ˜¯<strong>æœ‰æ„ŸæŸ“æ€§çš„</strong>ï¼Œè¿™æ„å‘³ç€ <code>observable</code> è¢«è‡ªåŠ¨åº”ç”¨äºæ•°æ®ç»“æ„åŒ…å«çš„ä»»ä½•å€¼ï¼Œæˆ–è€…å°†æ¥ä¼šè¢«è¯¥æ•°æ®ç»“æ„åŒ…å«çš„å€¼ã€‚è¿™ä¸ªè¡Œä¸ºå¯ä»¥é€šè¿‡ä½¿ç”¨ è£…é¥°å™¨ æ¥æ›´æ”¹ã€‚</li>\n<li><em>[<code>MobX 4</code> åŠä»¥ä¸‹ç‰ˆæœ¬]</em> è¦åˆ›å»ºé”®æ˜¯åŠ¨æ€çš„å¯¹è±¡æ—¶æ°¸è¿œéƒ½ä½¿ç”¨ <code>mapsï¼</code>å¯¹è±¡ä¸Šåªæœ‰åˆå§‹åŒ–æ—¶ä¾¿å­˜åœ¨çš„å±æ€§ä¼šè½¬æ¢æˆå¯è§‚å¯Ÿçš„ï¼Œå°½ç®¡æ–°æ·»åŠ çš„å±æ€§å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>extendObservable</code> è½¬æ¢æˆå¯è§‚å¯Ÿçš„ã€‚</li>\n</ul>\n<h3><span id=\"observable-property-value\"><code>@observable property = value</code></span></h3><p><code>observable</code> ä¹Ÿå¯ä»¥ç”¨ä½œå±æ€§çš„è£…é¥°å™¨ã€‚å®ƒéœ€è¦å¯ç”¨è£…é¥°å™¨è€Œä¸”å®ƒæ˜¯ <code>extendObservable(this, { property: value })</code> çš„è¯­æ³•ç³–ã€‚</p>\n<h3><span id=\"observable-property-value\">@observable property = value</span></h3><p>åˆ›å»ºä¸€ä¸ª <code>observable</code> çš„ç›’å­ï¼Œå®ƒç”¨æ¥å­˜å‚¨ <code>value</code> çš„ <code>observable</code> å¼•ç”¨ã€‚ä½¿ç”¨ <code>get()</code> æ–¹æ³•å¯ä»¥å¾—åˆ°ç›’å­ä¸­çš„å½“å‰ <code>value</code>ï¼Œè€Œä½¿ç”¨ <code>set()</code> æ–¹æ³•å¯ä»¥æ›´æ–° <code>valueã€‚</code> è¿™æ˜¯æ‰€æœ‰å…¶å®ƒ <code>observable</code> åˆ›å»ºçš„åŸºç¡€ï¼Œä½†å®é™…ä¸­ä½ å…¶å®å¾ˆå°‘èƒ½ä½¿ç”¨åˆ°å®ƒã€‚</p>\n<p>é€šå¸¸ç›’å­ä¼šè‡ªåŠ¨åœ°å°è¯•æŠŠä»»ä½•è¿˜ä¸æ˜¯ <code>observable</code> çš„æ–°å€¼è½¬æ¢æˆ <code>observable</code> ã€‚ä½¿ç”¨ <code>{deep: false}</code> é€‰é¡¹ä¼šç¦ç”¨è¿™é¡¹è¡Œä¸ºã€‚</p>\n<h3><span id=\"observableobjectvalue-decorators-options\"><code>observable.object(value, decorators?, options?)</code></span></h3><p>ä¸ºæä¾›çš„å¯¹è±¡åˆ›å»ºä¸€ä¸ªå…‹éš†å¹¶å°†å…¶æ‰€æœ‰çš„å±æ€§è½¬æ¢æˆ <code>observable</code> ã€‚ é»˜è®¤æƒ…å†µä¸‹è¿™äº›å±æ€§ä¸­çš„ä»»ä½•å€¼éƒ½ä¼šè½¬æ¢æˆ <code>observableï¼Œä½†å½“ä½¿ç”¨</code> {deep: false} é€‰é¡¹æ—¶åªæœ‰å±æ€§ä¼šè½¬æ¢æˆ <code>observable</code> å¼•ç”¨ï¼Œè€Œå€¼ä¸ä¼šæ”¹å˜(è¿™ä¹Ÿé€‚ç”¨äºå°†æ¥åˆ†é…çš„ä»»ä½•å€¼)ã€‚</p>\n<p><code>observable.object()</code> çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥å¾ˆå¥½åœ°è°ƒæ•´ \b è£…é¥°å™¨ çš„å¯è§‚å¯Ÿæ€§ã€‚</p>\n<h3><span id=\"observablearrayvalue-options\"><code>observable.array(value, options?)</code></span></h3><p>åŸºäºæä¾›çš„å€¼æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>observable</code> æ•°ç»„ã€‚</p>\n<p>å¦‚æœä¸æƒ³æ•°ç»„ä¸­çš„å€¼è½¬æ¢æˆ <code>observable</code> è¯·ä½¿ç”¨ <code>{deep: false}</code>é€‰é¡¹ã€‚</p>\n<h3><span id=\"observablemapvalue-options\"><code>observable.map(value, options?)</code></span></h3><p>åŸºäºæä¾›çš„å€¼æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>observable</code> æ˜ å°„ã€‚å¦‚æœä¸æƒ³æ˜ å°„ä¸­çš„å€¼è½¬æ¢æˆ <code>observable</code> è¯·ä½¿ç”¨ <code>{deep: false}</code> é€‰é¡¹ã€‚ å½“æƒ³åˆ›å»ºåŠ¨æ€çš„é”®é›†åˆå¹¶ä¸”éœ€è¦èƒ½è§‚å¯Ÿåˆ°é”®çš„æ·»åŠ å’Œç§»é™¤æ—¶ï¼Œè¯·ä½¿ç”¨ <code>mapã€‚</code> å› ä¸ºå†…éƒ¨ä½¿ç”¨äº†æˆç†Ÿçš„ <code>ES6 Map</code>ï¼Œä½ å¯ä»¥è‡ªç”±ä½¿ç”¨ä»»ä½•é”®è€Œæ— éœ€å±€é™äºå­—ç¬¦ä¸²ã€‚</p>\n<h3><span id=\"extendobservable\"><code>extendObservable</code></span></h3><p>ç”¨æ³•: <code>extendObservable(target, properties, decorators?, options?)</code></p>\n<p>å¯¹äº <code>propertyMap</code> ä¸­çš„æ¯ä¸ªé”®å€¼å¯¹ï¼Œéƒ½ä¼šä½œä¸ºä¸€ä¸ª(æ–°)çš„ <code>observable</code> å±æ€§å¼•å…¥åˆ° <code>target</code> å¯¹è±¡ä¸­ã€‚ è¿˜å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨æ¥å¼•å…¥ <code>observable</code> å±æ€§ï¼Œè¿™æ ·å°±ä¸éœ€è¦ç”¨è£…é¥°å™¨äº†ã€‚ å¦‚æœ <code>propertyMap</code> çš„æŸä¸ªå€¼æ˜¯ä¸€ä¸ª <code>getter</code> å‡½æ•°ï¼Œé‚£ä¹ˆä¼šå¼•å…¥ä¸€ä¸ª <code>computed</code> å±æ€§ã€‚</p>\n<p>å¦‚æœæ–°çš„å±æ€§ä¸åº”è¯¥å…·å¤‡æ„ŸæŸ“æ€§(å³æ–°åˆ†é…çš„å€¼ä¸åº”è¯¥è‡ªåŠ¨åœ°è½¬æ¢æˆ <code>observable</code>)çš„è¯ï¼Œè¯·ä½¿ç”¨ <code>extendObservable(target, props, decorators?, {deep: false})</code> ã€‚ æ³¨æ„ <code>extendObservable</code> å¢å¼ºäº†ç°æœ‰çš„å¯¹è±¡ï¼Œä¸åƒ <code>observable.object</code> æ˜¯åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</p>\n<h2><span id=\"è£…é¥°å™¨decorators\">è£…é¥°å™¨(Decorators)</span></h2><p>ä½¿ç”¨è£…é¥°å™¨å¯ä»¥å¾ˆå¥½åœ°è°ƒèŠ‚é€šè¿‡ <code>observable</code>ã€ <code>extendObservable</code> å’Œ <code>observable.object</code> å®šä¹‰çš„å±æ€§çš„å¯è§‚å¯Ÿæ€§ã€‚å®ƒä»¬è¿˜å¯ä»¥æ§åˆ¶ç‰¹å®šå±æ€§çš„è‡ªåŠ¨è½¬æ¢è§„åˆ™ã€‚</p>\n<p>å¯ç”¨çš„è£…é¥°å™¨åˆ—è¡¨:</p>\n<ul>\n<li><strong><code>observable.deep</code></strong>: æ‰€æœ‰ <code>observable</code> éƒ½ä½¿ç”¨çš„é»˜è®¤çš„è£…é¥°å™¨ã€‚å®ƒå¯ä»¥æŠŠä»»ä½•æŒ‡å®šçš„ã€éåŸå§‹æ•°æ®ç±»å‹çš„ã€é <code>observable</code> çš„å€¼è½¬æ¢æˆ <code>observableã€‚</code></li>\n<li><strong><code>observable.ref</code></strong>: ç¦ç”¨è‡ªåŠ¨çš„ <code>observable</code> è½¬æ¢ï¼Œåªæ˜¯åˆ›å»ºä¸€ä¸ª observable å¼•ç”¨ã€‚</li>\n<li><strong><code>observable.shallow</code></strong>: åªèƒ½ä¸é›†åˆç»„åˆä½¿ç”¨ã€‚ å°†ä»»ä½•åˆ†é…çš„é›†åˆè½¬æ¢ä¸ºæµ… observable (è€Œä¸æ˜¯æ·± - <code>observable</code>)çš„é›†åˆã€‚ æ¢å¥è¯è¯´, é›†åˆä¸­çš„å€¼å°†ä¸ä¼šè‡ªåŠ¨å˜ä¸º <code>observableã€‚</code></li>\n<li><strong><code>computed</code></strong>: åˆ›å»ºä¸€ä¸ªè¡ç”Ÿå±æ€§, å‚è§ <code>computed</code></li>\n<li><strong><code>action</code></strong>: åˆ›å»ºä¸€ä¸ªåŠ¨ä½œ, å‚è§ <code>action</code></li>\n</ul>\n<p>å¯ä»¥ä½¿ç”¨ <code>@decorator</code>è¯­æ³•æ¥åº”ç”¨è¿™äº›è£…é¥°å™¨:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; observable, action &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"mobx\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TaskStore</span> </span>&#123;</span><br><span class=\"line\">  @observable.shallow tasks = [];</span><br><span class=\"line\">  @action addTask(task) &#123;</span><br><span class=\"line\">    <span class=\"comment\">/* ... */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ–è€…é€šè¿‡ <code>observable.object / observable.extendObservable</code> æˆ– <code>decorate()</code> ä¼ å…¥å±æ€§è£…é¥°å™¨ã€‚ æ³¨æ„ï¼Œè£…é¥°å™¨æ€»æ˜¯â€œé™„ç€â€åœ¨å±æ€§ä¸Šçš„ã€‚ å› æ­¤ï¼Œå³ä½¿åˆ†é…äº†æ–°å€¼ï¼Œå®ƒä»¬ä»å°†ä¿æŒæœ‰æ•ˆã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; observable, action &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"mobx\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> taskStore = observable(</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    tasks: [],</span><br><span class=\"line\">    addTask(task) &#123;</span><br><span class=\"line\">      <span class=\"comment\">/* ... */</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    tasks: observable.shallow,</span><br><span class=\"line\">    addTask: action,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"decorate\"><code>decorate</code></span></h3><p>ç”¨æ³•: <code>decorate(object, decorators)</code></p>\n<p>è¿™æ˜¯å°†å¯è§‚å¯Ÿæ€§è£…é¥°å™¨)åº”ç”¨äºæ™®é€šå¯¹è±¡æˆ–ç±»å®ä¾‹çš„ç®€ä¾¿æ–¹æ³•ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå±æ€§è®¾ç½®ä¸ºæŸäº›è£…é¥°å™¨çš„å¯¹è±¡ã€‚</p>\n<p>å½“æ— æ³•ä½¿ç”¨ <code>@decorator</code> è¯­æ³•æˆ–éœ€è¦å¯¹å¯è§‚å¯Ÿæ€§è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶æ—¶ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TodoList</span> </span>&#123;</span><br><span class=\"line\">  todos = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">get</span> unfinishedTodoCount() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> values(<span class=\"keyword\">this</span>.todos).filter(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span> !todo.finished).length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  addTodo() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> t = <span class=\"keyword\">new</span> Todo();</span><br><span class=\"line\">    t.title = <span class=\"string\">\"Test_\"</span> + <span class=\"built_in\">Math</span>.random();</span><br><span class=\"line\">    <span class=\"keyword\">set</span>(this.todos, t.id, t);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">decorate(TodoList, &#123;</span><br><span class=\"line\">  todos: observable,</span><br><span class=\"line\">  unfinishedTodoCount: computed,</span><br><span class=\"line\">  addTodo: action.bound,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æƒ³è¦åœ¨å•ä¸ªå±æ€§ä¸Šåº”ç”¨å¤šä¸ªè£…é¥°å™¨çš„è¯ï¼Œä½ å¯ä»¥ä¼ å…¥ä¸€ä¸ªè£…é¥°å™¨æ•°ç»„ã€‚å¤šä¸ªè£…é¥°å™¨åº”ç”¨çš„é¡ºåºæ˜¯ä»ä»å³è‡³å·¦ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; decorate, observable &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"mobx\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; serializable, primitive &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"serializr\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> persist <span class=\"keyword\">from</span> <span class=\"string\">\"mobx-persist\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Todo</span> </span>&#123;</span><br><span class=\"line\">  id = <span class=\"built_in\">Math</span>.random();</span><br><span class=\"line\">  title = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">  finished = <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">decorate(Todo, &#123;</span><br><span class=\"line\">  title: [serializable(primitive), persist(<span class=\"string\">\"object\"</span>), observable],</span><br><span class=\"line\">  finished: [serializable(primitive), observable],</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ³¨æ„</strong>: å¹¶éæ‰€æœ‰çš„è£…é¥°å™¨éƒ½å¯ä»¥åœ¨ä¸€èµ·ç»„åˆï¼Œæ­¤åŠŸèƒ½åªä¼šå°½åŠ›è€Œä¸ºã€‚ä¸€äº›è£…é¥°å™¨ä¼šç›´æ¥å½±å“å®ä¾‹ï¼Œå¹¶ä¸”å¯ä»¥â€œéšè—â€å…¶ä»–é‚£äº›åªæ›´æ”¹åŸå‹çš„è£…é¥°å™¨çš„æ•ˆæœã€‚</p>\n<h2><span id=\"computed-valuesè®¡ç®—å€¼\">Computed values(è®¡ç®—å€¼)</span></h2><p>ç”¨æ³•:</p>\n<ul>\n<li><code>computed(() =&gt; expression)</code></li>\n<li><code>computed(() =&gt; expression, (newValue) =&gt; void)</code></li>\n<li><code>computed(() =&gt; expression, options)</code></li>\n<li><code>@computed({equals: compareFn}) get classProperty() { return expression; }</code></li>\n<li><code>@computed get classProperty() { return expression; }</code></li>\n</ul>\n<p>åˆ›å»ºè®¡ç®—å€¼ï¼Œ<code>expression</code> ä¸åº”è¯¥æœ‰ä»»ä½•å‰¯ä½œç”¨è€Œåªæ˜¯è¿”å›ä¸€ä¸ªå€¼ã€‚ å¦‚æœä»»ä½• <code>expression</code> ä¸­ä½¿ç”¨çš„ <code>observable</code> å‘ç”Ÿæ”¹å˜ï¼Œå®ƒéƒ½ä¼šè‡ªåŠ¨åœ°é‡æ–°è®¡ç®—ï¼Œä½†å‰ææ˜¯è®¡ç®—å€¼è¢«æŸäº› <strong><code>reaction</code></strong> ä½¿ç”¨äº†ã€‚</p>\n<p>è¿˜æœ‰å„ç§é€‰é¡¹å¯ä»¥æ§åˆ¶ <code>computed</code> çš„è¡Œä¸ºã€‚åŒ…æ‹¬:</p>\n<ul>\n<li><code>equals: (value, value) =&gt; boolean</code> ç”¨æ¥é‡è½½é»˜è®¤æ£€æµ‹è§„åˆ™çš„æ¯”è¾ƒå‡½æ•°ã€‚ å†…ç½®æ¯”è¾ƒå™¨æœ‰: <code>comparer.identity</code>, <code>comparer.default</code>, <code>comparer.structural</code></li>\n<li><code>requiresReaction: boolean</code> åœ¨é‡æ–°è®¡ç®—è¡ç”Ÿå±æ€§ä¹‹å‰ï¼Œç­‰å¾…è¿½è¸ªçš„ <code>observables</code> å€¼å‘ç”Ÿå˜åŒ–</li>\n<li><code>get: () =&gt; value)</code> é‡è½½è®¡ç®—å±æ€§çš„ <code>getter</code></li>\n<li><code>set: (value) =&gt; void</code> é‡è½½è®¡ç®—å±æ€§çš„ <code>setter</code></li>\n<li><code>keepAlive: boolean</code> è®¾ç½®ä¸º <code>true</code> ä»¥è‡ªåŠ¨ä¿æŒè®¡ç®—å€¼æ´»åŠ¨ï¼Œè€Œä¸æ˜¯åœ¨æ²¡æœ‰è§‚å¯Ÿè€…æ—¶æš‚åœã€‚</li>\n</ul>\n<h2><span id=\"actionsåŠ¨ä½œ\">Actions(åŠ¨ä½œ)</span></h2><p>ä»»ä½•åº”ç”¨éƒ½æœ‰åŠ¨ä½œã€‚åŠ¨ä½œæ˜¯ä»»ä½•ç”¨æ¥ä¿®æ”¹çŠ¶æ€çš„ä¸œè¥¿ã€‚</p>\n<p>ä½¿ç”¨ <code>MobX</code> ä½ å¯ä»¥åœ¨ä»£ç ä¸­æ˜¾å¼åœ°æ ‡è®°å‡ºåŠ¨ä½œæ‰€åœ¨çš„ä½ç½®ã€‚ åŠ¨ä½œå¯ä»¥æœ‰åŠ©äºæ›´å¥½çš„ç»„ç»‡ä»£ç ã€‚ å»ºè®®åœ¨ä»»ä½•æ›´æ”¹ <code>observable</code> æˆ–è€…æœ‰å‰¯ä½œç”¨çš„å‡½æ•°ä¸Šä½¿ç”¨åŠ¨ä½œã€‚ ç»“åˆå¼€å‘è€…å·¥å…·çš„è¯ï¼ŒåŠ¨ä½œè¿˜èƒ½æä¾›éå¸¸æœ‰ç”¨çš„è°ƒè¯•ä¿¡æ¯ã€‚ æ³¨æ„: å½“å¯ç”¨ä¸¥æ ¼æ¨¡å¼æ—¶ï¼Œéœ€è¦å¼ºåˆ¶ä½¿ç”¨ <code>action</code>ï¼Œå‚è§ <code>enforceActionsã€‚</code></p>\n<p>ç”¨æ³•:</p>\n<ul>\n<li><code>action(fn)</code></li>\n<li><code>action(name, fn)</code></li>\n<li><code>@action classMethod</code></li>\n<li><code>@action(name) classMethod</code></li>\n<li><code>@action boundClassMethod = (args) =&gt; { body }</code></li>\n<li><code>@action.bound boundClassMethod(args) { body }</code></li>\n</ul>\n<p>å¯¹äºä¸€æ¬¡æ€§åŠ¨ä½œï¼Œå¯ä»¥ä½¿ç”¨ <code>runInAction(name?, fn)</code> , å®ƒæ˜¯ <code>action(name, fn)()</code> çš„è¯­æ³•ç³–.</p>\n<h2><span id=\"flow\">Flow</span></h2><p>ç”¨æ³•: <code>flow(function* (args) { })</code></p>\n<p><code>flow()</code> æ¥æ”¶ <code>generator</code> å‡½æ•°ä½œä¸ºå®ƒå”¯ä¸€çš„è¾“å…¥</p>\n<p>å½“å¤„ç†<strong>å¼‚æ­¥åŠ¨ä½œ</strong>æ—¶ï¼Œå›è°ƒä¸­æ‰§è¡Œçš„ä»£ç ä¸ä¼šè¢« <code>action</code> åŒ…è£…ã€‚è¿™æ„å‘³ç€ä½ ä¿®æ”¹çš„ <code>observable state</code> æ— æ³•é€šè¿‡ <code>enforceActions</code> æ£€æŸ¥ã€‚ä¿ç•™åŠ¨ä½œè¯­ä¹‰çš„ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ <code>flow</code> æ¥åŒ…è£…å¼‚æ­¥å‡½æ•°ã€‚è¿™å°†ç¡®ä¿æ‰€æœ‰å›è°ƒéƒ½ä¼šè¢« <code>action()</code> åŒ…è£…ã€‚</p>\n<p>æ³¨æ„ï¼Œå¼‚æ­¥å‡½æ•°å¿…é¡»æ˜¯ <code>generator</code> ï¼Œè€Œä¸”åœ¨å†…éƒ¨åªèƒ½ <code>yield promises</code> ã€‚<code>flow</code> ä¼šè¿”å›ä¸€ä¸ª <code>promise</code> ï¼Œéœ€è¦çš„è¯å¯ä»¥ä½¿ç”¨ <code>cancel()</code> è¿›è¡Œæ’¤é”€ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; configure &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"mobx\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¸å…è®¸åœ¨åŠ¨ä½œå¤–éƒ¨ä¿®æ”¹çŠ¶æ€</span></span><br><span class=\"line\">configure(&#123; <span class=\"attr\">enforceActions</span>: <span class=\"literal\">true</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Store</span> </span>&#123;</span><br><span class=\"line\">  @observable githubProjects = [];</span><br><span class=\"line\">  @observable state = <span class=\"string\">\"pending\"</span>; <span class=\"comment\">// \"pending\" / \"done\" / \"error\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">  fetchProjects = flow(<span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">fetchProjects</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// &lt;- æ³¨æ„*å·ï¼Œè¿™æ˜¯ç”Ÿæˆå™¨å‡½æ•°ï¼</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.githubProjects = [];</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.state = <span class=\"string\">\"pending\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> projects = <span class=\"keyword\">yield</span> fetchGithubProjectsSomehow(); <span class=\"comment\">// ç”¨ yield ä»£æ›¿ await</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> filteredProjects = somePreprocessing(projects);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// å¼‚æ­¥ä»£ç è‡ªåŠ¨ä¼šè¢« `action` åŒ…è£…</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.state = <span class=\"string\">\"done\"</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.githubProjects = filteredProjects;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.state = <span class=\"string\">\"error\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æç¤º: æ¨èä¸º <code>generator</code> å‡½æ•°èµ·ä¸ªåç§°ï¼Œæ­¤åç§°å°†å‡ºç°åœ¨å¼€å‘å·¥å…·ä¸­</p>\n<h3><span id=\"flows-å¯ä»¥æ’¤é”€\">Flows å¯ä»¥æ’¤é”€</span></h3><p><code>Flows</code> æ˜¯å¯ä»¥å–æ¶ˆçš„ï¼Œè¿™æ„å‘³ç€è°ƒç”¨è¿”å›çš„ <code>promise</code> çš„ <code>cancel()</code> æ–¹æ³•ã€‚è¿™ä¼šç«‹å³åœæ­¢ <code>generator</code> ï¼Œä½†æ˜¯ <code>finally</code> å­å¥ä»ä¼šè¢«å¤„ç†ã€‚ è¿”å›çš„ <code>promise</code> æœ¬èº«ä¼šä½¿ç”¨ <code>FLOW_CANCELLED</code> è¿›è¡Œ <code>reject</code> ã€‚</p>\n<h3><span id=\"flows-æ”¯æŒå¼‚æ­¥è¿­ä»£å™¨\">Flows æ”¯æŒå¼‚æ­¥è¿­ä»£å™¨</span></h3><p><code>Flows</code> æ”¯æŒå¼‚æ­¥è¿­ä»£å™¨ï¼Œè¿™æ„å‘³ç€å¯ä»¥ä½¿ç”¨å¼‚æ­¥ <code>generators</code> :</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">someNumbers</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1</span>);</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">2</span>);</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">3</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> count = mobx.flow(<span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ä½¿ç”¨ await æ¥å¾ªç¯å¼‚æ­¥è¿­ä»£å™¨</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> <span class=\"keyword\">await</span> (<span class=\"keyword\">const</span> number <span class=\"keyword\">of</span> someNumbers()) &#123;</span><br><span class=\"line\">    total += number;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> total;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> res = <span class=\"keyword\">await</span> count(); <span class=\"comment\">// 6</span></span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"reactionsååº”-amp-derivationsè¡ç”Ÿ\">Reactions(ååº”) &amp; Derivations(è¡ç”Ÿ)</span></h2><p>è®¡ç®—å€¼ æ˜¯è‡ªåŠ¨å“åº”çŠ¶æ€å˜åŒ–çš„å€¼ã€‚ ååº” æ˜¯è‡ªåŠ¨å“åº”çŠ¶æ€å˜åŒ–çš„å‰¯ä½œç”¨ã€‚ ååº”å¯ä»¥ç¡®ä¿å½“ç›¸å…³çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶æŒ‡å®šçš„å‰¯ä½œç”¨(ä¸»è¦æ˜¯ I/O)å¯ä»¥è‡ªåŠ¨åœ°æ‰§è¡Œï¼Œæ¯”å¦‚æ‰“å°æ—¥å¿—ã€ç½‘ç»œè¯·æ±‚ã€ç­‰ç­‰ã€‚ ä½¿ç”¨ååº”æœ€å¸¸è§çš„åœºæ™¯æ˜¯ React ç»„ä»¶çš„ <code>observer</code> è£…é¥°å™¨(å‚è§ä¸‹æ–‡)ã€‚</p>\n<h3><span id=\"observer\">observer</span></h3><p>å¯ä»¥ç”¨ä½œåŒ…è£¹ <code>React</code> ç»„ä»¶çš„é«˜é˜¶ç»„ä»¶ã€‚ åœ¨ç»„ä»¶çš„ <code>render</code> å‡½æ•°ä¸­çš„ä»»ä½•å·²ä½¿ç”¨çš„ <code>observable</code> å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç»„ä»¶éƒ½ä¼šè‡ªåŠ¨é‡æ–°æ¸²æŸ“ã€‚ æ³¨æ„ <code>observer</code> æ˜¯ç”± <code>&quot;mobx-react&quot;</code> åŒ…æä¾›çš„ï¼Œè€Œä¸æ˜¯ <code>mobx</code> æœ¬èº«ã€‚</p>\n<p>ç”¨æ³•:</p>\n<ul>\n<li><code>observer(React.createClass({ ... }))</code></li>\n<li><code>observer((props, context) =&gt; ReactElement)</code></li>\n<li><code>observer(class MyComponent extends React.Component { ... })</code></li>\n<li><code>@observer class MyComponent extends React.Component { ... }</code></li>\n</ul>\n<h3><span id=\"autorun\">autorun</span></h3><p>ç”¨æ³•ï¼š<code>autorun(() =&gt; { sideEffect }, options)</code> ã€‚</p>\n<p><code>autorun</code> è´Ÿè´£è¿è¡Œæ‰€æä¾›çš„ <code>sideEffect</code> å¹¶è¿½è¸ªåœ¨ <code>sideEffect</code> è¿è¡ŒæœŸé—´è®¿é—®è¿‡çš„ <code>observable</code> çš„çŠ¶æ€ã€‚ å°†æ¥å¦‚æœæœ‰å…¶ä¸­ä¸€ä¸ªå·²ä½¿ç”¨çš„ <code>observable</code> å‘ç”Ÿå˜åŒ–ï¼ŒåŒæ ·çš„ <code>sideEffect</code> ä¼šå†è¿è¡Œä¸€éã€‚ <code>autorun</code> è¿”å›ä¸€ä¸ªæ¸…ç†å‡½æ•°ç”¨æ¥å–æ¶ˆå‰¯ä½œç”¨ã€‚</p>\n<p>é€‰é¡¹</p>\n<ul>\n<li><code>name?: string: ç”¨äºè¯†åˆ«å’Œè°ƒè¯•çš„åç§°</code></li>\n<li><code>delay?: number: ä½¿å‰¯ä½œç”¨å»¶è¿Ÿå’Œé˜²æŠ–çš„æ—¶é—´ã€‚é»˜è®¤ä¸º 0</code></li>\n<li><code>onError?: (error) =&gt; void: å¦‚æœ autorun å‡½æ•°æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™è§¦å‘é”™è¯¯å¤„ç†å‡½æ•°</code></li>\n<li><code>scheduler?: (callback) =&gt; void: è®¾ç½®è‡ªå®šä¹‰è°ƒåº¦å™¨ä»¥å†³å®šå¦‚ä½•è°ƒåº¦ autorun å‡½æ•°çš„é‡æ–°è¿è¡Œ</code></li>\n</ul>\n<h3><span id=\"when\">when</span></h3><p>ç”¨æ³•: <code>when(() =&gt; condition, () =&gt; { sideEffect }, options)</code> ã€‚</p>\n<p><code>condition</code> è¡¨è¾¾å¼ä¼šè‡ªåŠ¨å“åº”ä»»ä½•å®ƒæ‰€ä½¿ç”¨çš„ <code>observableã€‚</code> ä¸€æ—¦è¡¨è¾¾å¼è¿”å›çš„æ˜¯çœŸå€¼ï¼Œå‰¯ä½œç”¨å‡½æ•°ä¾¿ä¼šç«‹å³è°ƒç”¨ï¼Œä½†åªä¼šè°ƒç”¨ä¸€æ¬¡ã€‚</p>\n<p>æ³¨æ„: å‰¯ä½œç”¨å‡½æ•° (ç¬¬äºŒä¸ªå‚æ•°) å…¶å®æ˜¯å¯é€‰çš„ã€‚å¦‚æœä¸æä¾›å‰¯ä½œç”¨å‡½æ•°çš„è¯ï¼Œå°†è¿”å›ä¸€ä¸ªå¯å–æ¶ˆçš„ promise (å³å…·æœ‰ <code>cancle()</code> æ–¹æ³•çš„ <code>promise</code>)</p>\n<p><code>when</code> è¿”å›æ¸…ç†å™¨ä»¥å°½æ—©åœ°å–æ¶ˆæ“ä½œã€‚</p>\n<p>å¦‚æœæ²¡æœ‰ç»™ <code>when</code> ä¼ é€’å‰¯ä½œç”¨å‡½æ•°çš„è¯ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªå¯ä»¥ç­‰å¾…æ¡ä»¶ç»“æŸçš„ <code>promise</code> ã€‚</p>\n<h3><span id=\"options\">options</span></h3><ul>\n<li><code>name?: string</code>: ç”¨äºè¯†åˆ«å’Œè°ƒè¯•çš„åç§°</li>\n<li><code>onError?: (error) =&gt; void</code>: å¦‚æœ æ–­è¨€å‡½æ•° æˆ– å‰¯ä½œç”¨å‡½æ•° å‡½æ•°æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™è§¦å‘é”™è¯¯å¤„ç†å‡½æ•°</li>\n<li><code>timeout: number</code> ä»¥æ¯«ç§’ä¸ºå•ä½çš„å»¶è¿Ÿï¼Œä¹‹åå°†è§¦å‘ <code>onError</code> å¤„ç†å‡½æ•°ï¼Œä»¥é€šçŸ¥åœ¨æŒ‡å®šæ—¶é—´å†…æœªæ»¡è¶³æ¡ä»¶</li>\n</ul>\n<h3><span id=\"reaction\">reaction</span></h3><p>ç”¨æ³•: <code>reaction(() =&gt; data, data =&gt; { sideEffect }, options)</code>.</p>\n<p><code>reaction</code> æ˜¯ <code>autorun</code> çš„å˜ç§ï¼Œåœ¨å¦‚ä½•è¿½è¸ª <code>observable</code> æ–¹é¢ç»™äºˆäº†æ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚ å®ƒæ¥æ”¶ä¸¤ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯è¿½è¸ªå¹¶è¿”å›æ•°æ®ï¼Œè¯¥æ•°æ®ç”¨ä½œç¬¬äºŒä¸ªå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å‰¯ä½œç”¨çš„è¾“å…¥ã€‚ ä¸ <code>&#39;autorun&#39;</code> ä¸åŒçš„æ˜¯å‰¯ä½œç”¨èµ·åˆä¸ä¼šè¿è¡Œï¼Œå¹¶ä¸”åœ¨æ‰§è¡Œå‰¯ä½œç”¨æ—¶è®¿é—®çš„ä»»ä½• <code>observable</code> éƒ½ä¸ä¼šè¢«è¿½è¸ªã€‚ å’Œ <code>autorunAsync</code> ä¸€æ ·ï¼Œå‰¯ä½œç”¨æ˜¯å¯ä»¥è¿›è¡Œå‡½æ•°å»æŠ–çš„ã€‚</p>\n<h3><span id=\"options\">options</span></h3><ul>\n<li><code>fireImmediately?: boolean</code>: åœ¨è§¦å‘ å‰¯ä½œç”¨å‡½æ•° ä¹‹å‰ç­‰å¾…å˜åŒ–ã€‚é»˜è®¤ä¸º <code>false</code></li>\n<li><code>delay?: number</code>: ä½¿å‰¯ä½œç”¨å»¶è¿Ÿå’Œé˜²æŠ–çš„æ—¶é—´ã€‚é»˜è®¤ä¸º 0</li>\n<li><code>equals</code>. è‡ªå®šä¹‰ç›¸ç­‰å‡½æ•°æ¥ç¡®å®š expr å‡½æ•°æ˜¯å¦ä¸ä¹‹å‰çš„ç»“æœä¸åŒï¼Œå†å†³å®šæ˜¯å¦è§¦å‘å‰¯ä½œç”¨ã€‚æ¥æ”¶ä¸<code>computed</code> çš„ <code>equals</code> é€‰é¡¹ç›¸åŒçš„é€‰é¡¹</li>\n<li>è¿˜æ¥æ”¶ <code>autorun</code> çš„æ‰€æœ‰é€‰é¡¹</li>\n</ul>\n<h3><span id=\"onreactionerror\">onReactionError</span></h3><p>ç”¨æ³•: <code>onReactionError(handler: (error: any, derivation) =&gt; void)</code></p>\n<p>æ­¤æ–¹æ³•é™„åŠ ä¸€ä¸ªå…¨å±€é”™è¯¯ç›‘å¬å™¨ï¼Œå¯¹äºä» <code>reaction</code> æŠ›å‡ºçš„æ¯ä¸ªé”™è¯¯éƒ½ä¼šè°ƒç”¨è¯¥é”™è¯¯ç›‘å¬å™¨ã€‚ å®ƒå¯ä»¥ç”¨æ¥ç›‘æ§æˆ–è€…æµ‹è¯•ã€‚</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","js"],"tags":["js","mobx"]}]