[{"title":"Hello World","url":"/Blog/hello-world/","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<a id=\"more\"></a>\n\n<h2><span id=\"quick-start\">Quick Start</span></h2><h3><span id=\"create-a-new-post\">Create a new post</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3><span id=\"run-server\">Run server</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3><span id=\"generate-static-files\">Generate static files</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3><span id=\"deploy-to-remote-sites\">Deploy to remote sites</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>"},{"title":"JavaScript位运算符","url":"/Blog/JavaScript%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6/","content":"<p><a href=\"https://www.w3school.com.cn/js/js_bitwise.asp\" target=\"_blank\" rel=\"noopener\">JavaScript 位运算符</a></p>\n<a id=\"more\"></a>\n\n<hr>\n<ul>\n<li><p>使用&amp;运算符判断一个数的奇偶（只需记住 0 和 1 与 1 进行&amp;运算的结果即可）：</p>\n<ul>\n<li>偶数 &amp; 1 = 0</li>\n<li>奇数 &amp; 1 = 1</li>\n</ul>\n</li>\n<li><p>使用~~，&gt;&gt;,&lt;&lt;,&gt;&gt;&gt;,|来取整：</p>\n<ul>\n<li>~~Math.PI：3（按位取反再取反）</li>\n<li>Math.PI&gt;&gt;0，Math.PI&lt;&lt;0，Math.PI&gt;&gt;&gt;0：3（按位左移或者右移 0 位，&gt;&gt;&gt;不可用于负数）</li>\n<li>Math.PI|0：3，按位异或</li>\n</ul>\n</li>\n<li><p>使用&lt;&lt;,&gt;&gt;来计算乘除：</p>\n<ul>\n<li>整数左移 n 位相当于乘 2 的 n 次方；</li>\n<li>右移相当于除以 2 的 n 次方，再向下取整</li>\n</ul>\n</li>\n<li><p>利用^来完成比较两个数是否相等：!(a ^ b)</p>\n</li>\n<li><p>使用^来完成值交换：参考第十五式</p>\n</li>\n<li><p>使用&amp;,&gt;&gt;,|来完成 rgb 值和 16 进制颜色值之间的转换</p>\n<ul>\n<li>16 进制颜色值转 RGB：</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hexToRGB</span>(<span class=\"params\">hex</span>) </span>&#123;</span><br><span class=\"line\">  hex = hex.replace(<span class=\"string\">'#'</span>, <span class=\"string\">'0x'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> r = hex &gt;&gt; <span class=\"number\">16</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> g = (hex &gt;&gt; <span class=\"number\">8</span>) &amp; <span class=\"number\">0xff</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> b = hex &amp; <span class=\"number\">0xff</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">'rgb('</span> + r + <span class=\"string\">','</span> + g + <span class=\"string\">','</span> + b + <span class=\"string\">')'</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">hexToRGB(<span class=\"string\">'#cccccc'</span>); <span class=\"comment\">// rgb(204,204,204)</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>RGB 转 16 进制颜色值：</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">RGBToHex</span>(<span class=\"params\">rgb</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rgbArr = rgb.split(<span class=\"regexp\">/[^\\d]+/</span>);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> color = (rgbArr[<span class=\"number\">1</span>] &lt;&lt; <span class=\"number\">16</span>) | (rgbArr[<span class=\"number\">2</span>] &lt;&lt; <span class=\"number\">8</span>) | rgbArr[<span class=\"number\">3</span>];</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">'#'</span> + color.toString(<span class=\"number\">16</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">RGBToHex(<span class=\"string\">'rgb(204,204,204)'</span>); <span class=\"comment\">// #cccccc</span></span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<hr>\n<iframe src=\"https://www.w3school.com.cn/js/js_bitwise.asp\" width=\"100%\" height=\"100vh\" style=\"min-height: 800px;\">\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script></iframe>","categories":["Front","js"],"tags":["js"]},{"title":"Make 命令","url":"/Blog/Makefile/","content":"<p><a href=\"http://www.ruanyifeng.com/blog/2015/02/make.html\" target=\"_blank\" rel=\"noopener\"><code>Make</code> 命令教程</a></p>\n<p><a href=\"http://www.ruanyifeng.com/blog/2015/03/build-website-with-make.html\" target=\"_blank\" rel=\"noopener\">使用 <code>Make</code> 构建网站</a></p>\n<a id=\"more\"></a>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","tags":["shell","make"]},{"title":"About","url":"/Blog/about/","content":"<ul>\n<li>Nickname: jarze</li>\n<li>Github: <a href=\"https://github.com/jarze\" target=\"_blank\" rel=\"noopener\">@jarze</a></li>\n</ul>\n<a id=\"more\"></a>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>"},{"title":"commander 基本用法","url":"/Blog/commander/","content":"<ul>\n<li><a href=\"https://github.com/tj/commander.js\" target=\"_blank\" rel=\"noopener\">github</a></li>\n<li><a href=\"https://www.npmjs.com/package/commander\" target=\"_blank\" rel=\"noopener\">npm</a></li>\n</ul>\n<h2><span id=\"安装\">安装</span></h2><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install commander --save</span><br></pre></td></tr></table></figure>\n\n<a id=\"more\"></a>\n\n<h2><span id=\"定义\">定义</span></h2><p><code>&lt;&gt;</code>定义必需参数，<code>[]</code>定义可选参数</p>\n<h2><span id=\"示例\">示例</span></h2><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> program = <span class=\"built_in\">require</span>(<span class=\"string\">\"commander\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">program</span><br><span class=\"line\">  .version(<span class=\"string\">\"0.1.0\"</span>)</span><br><span class=\"line\">  .option(<span class=\"string\">\"-C, --chdir &lt;path&gt;\"</span>, <span class=\"string\">\"change the working directory\"</span>)</span><br><span class=\"line\">  .option(<span class=\"string\">\"-c, --config &lt;path&gt;\"</span>, <span class=\"string\">\"set config path. defaults to ./deploy.conf\"</span>)</span><br><span class=\"line\">  .option(<span class=\"string\">\"-T, --no-tests\"</span>, <span class=\"string\">\"ignore test hook\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">program</span><br><span class=\"line\">  .command(<span class=\"string\">\"setup [env]\"</span>)</span><br><span class=\"line\">  .description(<span class=\"string\">\"run setup commands for all envs\"</span>)</span><br><span class=\"line\">  .option(<span class=\"string\">\"-s, --setup_mode [mode]\"</span>, <span class=\"string\">\"Which setup mode to use\"</span>)</span><br><span class=\"line\">  .action(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">env, options</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> mode = options.setup_mode || <span class=\"string\">\"normal\"</span>;</span><br><span class=\"line\">    env = env || <span class=\"string\">\"all\"</span>;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"setup for %s env(s) with %s mode\"</span>, env, mode);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">program</span><br><span class=\"line\">  .command(<span class=\"string\">\"exec &lt;cmd&gt;\"</span>)</span><br><span class=\"line\">  .alias(<span class=\"string\">\"ex\"</span>)</span><br><span class=\"line\">  .description(<span class=\"string\">\"execute the given remote cmd\"</span>)</span><br><span class=\"line\">  .option(<span class=\"string\">\"-e, --exec_mode &lt;mode&gt;\"</span>, <span class=\"string\">\"Which exec mode to use\"</span>)</span><br><span class=\"line\">  .action(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">cmd, options</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'exec \"%s\" using %s mode'</span>, cmd, options.exec_mode);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  .on(<span class=\"string\">\"--help\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Examples:\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"  $ deploy exec sequential\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"  $ deploy exec async\"</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">program.command(<span class=\"string\">\"*\"</span>).action(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">env</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'deploying \"%s\"'</span>, env);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">program.parse(process.argv);</span><br></pre></td></tr></table></figure>\n\n<p>结果：</p>\n<img src=\"/Blog/commander/commander.png\" class>\n\n<h2><span id=\"方法\">方法</span></h2><h3><span id=\"version\">version</span></h3><p>作用：定义命令程序的版本号</p>\n<h3><span id=\"option\">option</span></h3><p>作用：定义命令的选项</p>\n<h3><span id=\"command\">command</span></h3><p>作用：自定义命令</p>\n<h3><span id=\"description\">description</span></h3><p>作用：命令的描述性语句</p>\n<h3><span id=\"action\">action</span></h3><p>作用：定义命令的回调函数</p>\n<h3><span id=\"parse\">parse</span></h3><p>作用：用于解析 process.argv，设置 options 以及触发 commands</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front"],"tags":["js","commander","nodejs"]},{"title":"commitizen规范","url":"/Blog/commitizen%E8%A7%84%E8%8C%83/","content":"<ul>\n<li><a href=\"https://www.npmjs.com/package/commitizen\" target=\"_blank\" rel=\"noopener\">commitizen</a></li>\n<li><a href=\"https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines\" target=\"_blank\" rel=\"noopener\">Angular commit-message-guidelines</a></li>\n<li><a href=\"https://google.github.io/styleguide/jsguide.html\" target=\"_blank\" rel=\"noopener\">Google’s JavaScript Style Guide</a></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class=\"line\">&lt;BLANK LINE&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;BLANK LINE&gt;</span><br><span class=\"line\">&lt;footer&gt;</span><br></pre></td></tr></table></figure>\n\n<a id=\"more\"></a>\n\n\n<h2><span id=\"type\"><code>type</code></span></h2><table>\n<thead>\n<tr>\n<th>规范名</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docs</td>\n<td>仅仅修改了文档，比如 README, CHANGELOG, CONTRIBUTE 等等</td>\n</tr>\n<tr>\n<td>chore</td>\n<td>改变构建流程、或者增加依赖库、工具等</td>\n</tr>\n<tr>\n<td>feat</td>\n<td>新增 feature</td>\n</tr>\n<tr>\n<td>fix</td>\n<td>修复 bug</td>\n</tr>\n<tr>\n<td>merge</td>\n<td>合并分之</td>\n</tr>\n<tr>\n<td>perf</td>\n<td>优化相关，比如提升性能、体验</td>\n</tr>\n<tr>\n<td>refactor</td>\n<td>代码重构，没有加新功能或者修复 bug</td>\n</tr>\n<tr>\n<td>revert</td>\n<td>回滚到上一个版本</td>\n</tr>\n<tr>\n<td>style</td>\n<td>仅仅修改了空格、格式缩进、都好等等，不改变代码逻辑</td>\n</tr>\n<tr>\n<td>test</td>\n<td>测试用例，包括单元测试、集成测试等</td>\n</tr>\n<tr>\n<td>build</td>\n<td>影响构建系统或外部依赖项的更改（示例范围：gulp、broccoli、npm）</td>\n</tr>\n<tr>\n<td>ci</td>\n<td>对我们的 CI 配置文件和脚本的更改（示例范围：Travis、Circle、BrowserStack、SauceLabs）</td>\n</tr>\n</tbody></table>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">docs(changelog): update changelog to beta.5</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#####</span></span><br><span class=\"line\"></span><br><span class=\"line\">fix(release): need to depend on latest rxjs and zone.js</span><br><span class=\"line\"></span><br><span class=\"line\">The version <span class=\"keyword\">in</span> our package.json gets copied to the one we publish, and users need the latest of these.</span><br></pre></td></tr></table></figure>\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","tags":["git"]},{"title":"chrome 开发者工具之 Console","url":"/Blog/console/","content":"<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">java system.out.println(&#39;hello world&#39;)</span><br><span class=\"line\">python print(&#39;hello world&#39;)</span><br><span class=\"line\">js console.log(&#39;hello world&#39;)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><strong><code>F12 或者 Control+Shift+i（PC 平台）/ Alt+Command+i（Mac 平台）打开我们的控制台</code></strong></p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2><span id=\"console-api-介绍\">console <code>API</code> 介绍</span></h2><p><code>JavaScript</code> 原生中默认是没有 <code>Console</code> 对象。是宿主对象提供的，也就是说 <strong><code>console</code> 是浏览器提供的内置对象。</strong><br>用于访问调试控制台, 在不同的浏览器里效果可能不同。<br>IE 低版本没有（当然你装了高版本，然后打开控制台他又能用 <code>console</code> 了）。</p>\n<h3><span id=\"日志级别-api\">日志级别 <code>API</code></span></h3><p>提供了日志级别 <code>api</code>。可以方便我们根据类型，更快的定位需要关注的问题。</p>\n<ul>\n<li><p><code>console.log(&#39;普通-文本&#39;)</code>与 <code>console.dir(&#39;普通-对象&#39;)</code><br>不同之处在于输出 <code>dom</code> 节点对象类型是会有一些差别。</p>\n</li>\n<li><p><code>console.info(&#39;信息&#39;)</code> <code>console.log</code> 的别名，输出信息，部分浏览器会增加一个蓝色标志。</p>\n</li>\n<li><p><code>console.warn(&#39;警告&#39;)</code> 黄色警告标识，也有堆栈信息。</p>\n</li>\n<li><p><code>console.error(&#39;错误&#39;)</code> 输出信息时，在最前面加一个红色的叉，表示出错，同时会显示错误发生的堆栈。</p>\n</li>\n<li><p><code>console.debug(&#39;调试&#39;)</code> 从 <code>Chromium 58</code> 开始，<code>Chromium</code> 浏览器只有勾选了控制台中的 <code>“Verbose”</code> 日志级别才可见。</p>\n</li>\n</ul>\n<p>支持多种写法</p>\n<ul>\n<li><p>多参数</p>\n<ul>\n<li><code>console.log(&#39;auther:&#39;, &#39;lilnong.top&#39;)</code></li>\n</ul>\n</li>\n<li><p><mark><code>占位符格式，支持的占位符有：字符（%s）、整数（%d 或%i）、浮点数（%f）、可展开的 DOM（%o）、列出 DOM 的属性（%O）、根据提供的 css 样式格式化字符串（%c）</code></mark></p>\n<ul>\n<li><p>%s：字符串</p>\n</li>\n<li><p>%d：整数</p>\n</li>\n<li><p>%i：整数</p>\n</li>\n<li><p>%f：浮点数</p>\n</li>\n<li><p>%o：obj 对象（DOM）</p>\n</li>\n<li><p>%O：obj 对象</p>\n</li>\n<li><p>%c：CSS 样式</p>\n<ul>\n<li><p><code>console.log(&#39;auther:%s&#39;, &#39;lilnong.top&#39;)</code></p>\n</li>\n<li><p><code>console.log(&#39;%cauther:%s&#39;, &quot;color: red; font-size: 20px&quot;,&#39;lilnong.top&#39;)</code>;</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><em>更适合封装起来使用。</em></p>\n</li>\n</ul>\n<h3><span id=\"功能性的-api\">功能性的 <code>API</code></span></h3><ul>\n<li><p><code>console.assert(location.protocol==&#39;https:&#39;, &quot;https 防止劫持哦~&quot;)</code> 接受两个参数，第一个参数是表达式，第二个参数是字符串。只有当第一个参数为 <code>false</code>，才会输出第二个参数，否则不会有任何结果。</p>\n</li>\n<li><p><code>console.clear()</code> 清除当前控制台的所有输出。</p>\n</li>\n<li><p><code>console.count(&#39;count&#39;)</code> 提供计数功能。比如说有个排序算法，我们想统计时间复杂度。</p>\n</li>\n<li><p><code>Console.countReset()</code> 我们也可以重置指定标签的计数器值。</p>\n</li>\n<li><p><code>console.group(&#39;第一层&#39;)</code>;<code>console.groupEnd()</code>; 提供将显示的信息分组功能，可以把信息进行折叠和展开。</p>\n</li>\n<li><p><code>console.groupCollapsed(&#39;第一层&#39;)</code>;<code>console.groupEnd()</code>; 同上，不同点是默认是折叠状态</p>\n</li>\n<li><p><code>console.table(arr)</code>; 提供将复合类型的数据转为表格显示。还可以进行排序等操作。</p>\n</li>\n<li><p><code>console.time(&#39;task&#39;);console.timeEnd(&#39;task&#39;)</code>; 提供了统计代码执行用时的功能。不准，波动会比较奇怪，多统计，然后求平均值吧</p>\n</li>\n<li><p><code>console.trace()</code>; 追踪函数的调用过程，也可以理解为把打印堆栈。</p>\n</li>\n</ul>\n<h2><span id=\"console-面板介绍\"><code>Console</code> 面板介绍</span></h2><p>上面介绍了 <code>API</code>。接下来我们介绍一下面板的使用。</p>\n<p>控制的是，级别筛选栏的隐藏与显示。</p>\n<p><code>messages</code> 是所有消息类型<br><code>user messages</code> 是指所有用户日志，浏览器产生的不算。如下，产生的错误就不算</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">document.body.addEventListener(&#39;touchmove&#39;, (e)&#x3D;&gt;e.preventDefault())</span><br><span class=\"line\">&#x2F;&#x2F; VM275:1 [Intervention] Unable to preventDefault inside passive event listener due to target being treated as passive. See https:&#x2F;&#x2F;www.chromestatus.com&#x2F;features&#x2F;5093566007214080</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p><code>errors</code> 是指错误级别的日志</p>\n</li>\n<li><p><code>warning</code> 是指警告级别的日志</p>\n</li>\n<li><p><code>info</code> 是指信息级别的日志</p>\n</li>\n<li><p><code>verbose</code> 是指调试级别的日志</p>\n</li>\n</ul>\n<p>清空当前面板内容。</p>\n<ul>\n<li><blockquote>\n<p>快捷键 <code>ctrl+l</code> 对应的命令是 <code>console.clear()</code>;</p>\n</blockquote>\n</li>\n</ul>\n<p>是指当前的作用域。如果有 iframe 的话，可以切换作用域为对应的 iframe。然后就可以快乐的在控制台调用 iframe 里面的变量了。</p>\n<p>通过关键词过滤日志<br>描述有多少条记录被隐藏<br>设置功能，里面是一些控制开关。</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","tool"],"tags":["js"]},{"title":"css单位","url":"/Blog/css%E5%8D%95%E4%BD%8D/","content":"<h1><span id=\"浏览器支持\">浏览器支持</span></h1><blockquote>\n<p>下表中的数字表示支持该长度单位的最低浏览器版本。</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>长度单位</th>\n<th>Chrome</th>\n<th>IE</th>\n<th>Firefox</th>\n<th>Safari</th>\n<th>Opera</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>em, ex, %, px, cm, mm, in, pt, pc</td>\n<td>1.0</td>\n<td>3.0</td>\n<td>1.0</td>\n<td>1.0</td>\n<td>3.5</td>\n</tr>\n<tr>\n<td>ch</td>\n<td>27.0</td>\n<td>9.0</td>\n<td>1.0</td>\n<td>7.0</td>\n<td>20.0</td>\n</tr>\n<tr>\n<td>rem</td>\n<td>4.0</td>\n<td>9.0</td>\n<td>3.6</td>\n<td>4.1</td>\n<td>11.6</td>\n</tr>\n<tr>\n<td>vh</td>\n<td>, vw</td>\n<td>20.0</td>\n<td>9.0</td>\n<td>19.0</td>\n<td>6.0 20.0</td>\n</tr>\n<tr>\n<td>vmin</td>\n<td>20.0</td>\n<td>9.0*</td>\n<td>19.0</td>\n<td>6.0</td>\n<td>20.0</td>\n</tr>\n<tr>\n<td>vmax</td>\n<td>26.0</td>\n<td>不支持</td>\n<td>19.0</td>\n<td>不支持</td>\n<td>20.0</td>\n</tr>\n</tbody></table>\n<a id=\"more\"></a>\n\n<h1><span id=\"相对长度\">相对长度</span></h1><blockquote>\n<p>相对长度单位指定了一个长度相对于另一个长度的属性。对于不同的设备相对长度更适用。<br>提示: rem 与 em 有什么区别呢？区别在于使用 rem 为元素设定字体大小时，仍然是相对大小，但相对的只是 HTML 根元素。</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>单位</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>em</td>\n<td>它是描述相对于应用在当前元素的字体尺寸，所以它也是相对长度单位。一般浏览器字体大小默认为 16px，则 2em == 32px； 下</td>\n</tr>\n<tr>\n<td>ex</td>\n<td>依赖于英文字母小 x 的高度</td>\n</tr>\n<tr>\n<td>ch</td>\n<td>数字 0</td>\n</tr>\n<tr>\n<td>rem</td>\n<td>rem 是根 em（root 体大小。</td>\n</tr>\n<tr>\n<td>vw</td>\n<td>viewpoint width，视窗宽度，1vw=视窗宽度的 1%</td>\n</tr>\n<tr>\n<td>vh</td>\n<td>viewpoint height，视窗高度，1vh=视窗高度的 1%</td>\n</tr>\n<tr>\n<td>vmin</td>\n<td>vw 和 vh 中较小的那个。</td>\n</tr>\n<tr>\n<td>vmax</td>\n<td>vw 和 vh 中较大的那个。</td>\n</tr>\n<tr>\n<td>%</td>\n<td></td>\n</tr>\n</tbody></table>\n<h1><span id=\"绝对长度\">绝对长度</span></h1><blockquote>\n<p>绝对长度单位是一个固定的值，它反应一个真实的物理尺寸。绝对长度单位视输出介质而定，不依赖于环境（显示器、分辨率、操作系统等）。</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>单位</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>cm</td>\n<td>厘米</td>\n</tr>\n<tr>\n<td>mm</td>\n<td>毫米</td>\n</tr>\n<tr>\n<td>in</td>\n<td>英寸 (1in = 96px = 2.54cm)</td>\n</tr>\n<tr>\n<td>px</td>\n<td>* 像素 (1px = 1/96th of 1in)</td>\n</tr>\n<tr>\n<td>pt</td>\n<td>point，大约 1/72 英寸； (1pt = 1/72in)</td>\n</tr>\n<tr>\n<td>pc</td>\n<td>pica，大约 12pt，1/6 英寸； (1pc = 12 pt)</td>\n</tr>\n</tbody></table>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","css"],"tags":["css"]},{"title":"docker-命令","url":"/Blog/docker-%E5%91%BD%E4%BB%A4/","content":"<hr>\n<h1><span id=\"客户端命令-docker\">客户端命令 - docker</span></h1><hr>\n<h2><span id=\"客户端命令选项\">客户端命令选项</span></h2><ul>\n<li>–config=””：指定客户端配置文件，默认为 ~/.docker；</li>\n<li>-D=true|false：是否使用 debug 模式。默认不开启；</li>\n<li>-H, –host=[]：指定命令对应 Docker 守护进程的监听接口，可以为 unix 套接字 unix:///path/to/socket，文件句柄 fd://socketfd 或 tcp 套接字 tcp://[host[:port]]，默认为 unix:///var/run/docker.sock；</li>\n<li>-l, –log-level=”debug|info|warn|error|fatal”：指定日志输出级别；</li>\n<li>–tls=true|false：是否对 Docker 守护进程启用 TLS 安全机制，默认为否；</li>\n<li>–tlscacert=/.docker/ca.pem：TLS CA 签名的可信证书文件路径；</li>\n<li>–tlscert=/.docker/cert.pem：TLS 可信证书文件路径；</li>\n<li>–tlscert=/.docker/key.pem：TLS 密钥文件路径；</li>\n<li>–tlsverify=true|false：启用 TLS 校验，默认为否。</li>\n</ul>\n<a id=\"more\"></a>\n\n<hr>\n<h2><span id=\"客户端命令\">客户端命令</span></h2><p>可以通过 docker COMMAND –help 来查看这些命令的具体用法。</p>\n<ul>\n<li>attach：依附到一个正在运行的容器中；</li>\n<li>build：从一个 Dockerfile 创建一个镜像；</li>\n<li>commit：从一个容器的修改中创建一个新的镜像；</li>\n<li>cp：在容器和本地宿主系统之间复制文件中；</li>\n<li>create：创建一个新容器，但并不运行它；</li>\n<li>diff：检查一个容器内文件系统的修改，包括修改和增加；</li>\n<li>events：从服务端获取实时的事件；</li>\n<li>exec：在运行的容器内执行命令；</li>\n<li>export：导出容器内容为一个 tar 包；</li>\n<li>history：显示一个镜像的历史信息；</li>\n<li>images：列出存在的镜像；</li>\n<li>import：导入一个文件（典型为 tar 包）路径或目录来创建一个本地镜像；</li>\n<li>info：显示一些相关的系统信息；</li>\n<li>inspect：显示一个容器的具体配置信息；</li>\n<li>kill：关闭一个运行中的容器 (包括进程和所有相关资源)；</li>\n<li>load：从一个 tar 包中加载一个镜像；</li>\n<li>login：注册或登录到一个 Docker 的仓库服务器；</li>\n<li>logout：从 Docker 的仓库服务器登出；</li>\n<li>logs：获取容器的 log 信息；</li>\n<li>network：管理 Docker 的网络，包括查看、创建、删除、挂载、卸载等；</li>\n<li>node：管理 swarm 集群中的节点，包括查看、更新、删除、提升/取消管理节点等；</li>\n<li>pause：暂停一个容器中的所有进程；</li>\n<li>port：查找一个 nat 到一个私有网口的公共口；</li>\n<li>ps：列出主机上的容器；</li>\n<li>pull：从一个 Docker 的仓库服务器下拉一个镜像或仓库；</li>\n<li>push：将一个镜像或者仓库推送到一个 Docker 的注册服务器；</li>\n<li>rename：重命名一个容器；</li>\n<li>restart：重启一个运行中的容器；</li>\n<li>rm：删除给定的若干个容器；</li>\n<li>rmi：删除给定的若干个镜像；</li>\n<li>run：创建一个新容器，并在其中运行给定命令；</li>\n<li>save：保存一个镜像为 tar 包文件；</li>\n<li>search：在 Docker index 中搜索一个镜像；</li>\n<li>service：管理 Docker 所启动的应用服务，包括创建、更新、删除等；</li>\n<li>start：启动一个容器；</li>\n<li>stats：输出（一个或多个）容器的资源使用统计信息；</li>\n<li>stop：终止一个运行中的容器；</li>\n<li>swarm：管理 Docker swarm 集群，包括创建、加入、退出、更新等；</li>\n<li>tag：为一个镜像打标签；</li>\n<li>top：查看一个容器中的正在运行的进程信息；</li>\n<li>unpause：将一个容器内所有的进程从暂停状态中恢复；</li>\n<li>update：更新指定的若干容器的配置信息；</li>\n<li>version：输出 Docker 的版本信息；</li>\n<li>volume：管理 Docker volume，包括查看、创建、删除等；</li>\n<li>wait：阻塞直到一个容器终止，然后输出它的退出符。</li>\n</ul>\n<hr>\n<h2><span id=\"一张图总结-docker-的命令\">一张图总结 Docker 的命令</span></h2><img src=\"/Blog/docker-%E5%91%BD%E4%BB%A4/cmd_logic.png\" class title=\"cmd_logic\">\n\n<hr>\n<h1><span id=\"服务端命令-dockerd\">服务端命令 - dockerd</span></h1><hr>\n<h2><span id=\"dockerd-命令选项\">dockerd 命令选项</span></h2><ul>\n<li>–api-cors-header=””：CORS 头部域，默认不允许 CORS，要允许任意的跨域访问，可以指定为 “*“；</li>\n<li>–authorization-plugin=””：载入认证的插件；</li>\n<li>-b=””：将容器挂载到一个已存在的网桥上。指定为 none 时则禁用容器的网络，与 –bip 选项互斥；</li>\n<li>–bip=””：让动态创建的 docker0 网桥采用给定的 CIDR 地址; 与 -b 选项互斥；</li>\n<li>–cgroup-parent=””：指定 cgroup 的父组，默认 fs cgroup 驱动为 /docker，systemd cgroup 驱动为 system.slice；</li>\n<li>–cluster-store=””：构成集群（如 Swarm）时，集群键值数据库服务地址；</li>\n<li>–cluster-advertise=””：构成集群时，自身的被访问地址，可以为 host:port 或 interface:port；</li>\n<li>–cluster-store-opt=””：构成集群时，键值数据库的配置选项；</li>\n<li>–config-file=”/etc/docker/daemon.json”：daemon 配置文件路径；</li>\n<li>–containerd=””：containerd 文件的路径；</li>\n<li>-D, –debug=true|false：是否使用 Debug 模式。缺省为 false；</li>\n<li>–default-gateway=””：容器的 IPv4 网关地址，必须在网桥的子网段内；</li>\n<li>–default-gateway-v6=””：容器的 IPv6 网关地址；</li>\n<li>–default-ulimit=[]：默认的 ulimit 值；</li>\n<li>–disable-legacy-registry=true|false：是否允许访问旧版本的镜像仓库服务器；</li>\n<li>–dns=””：指定容器使用的 DNS 服务器地址；</li>\n<li>–dns-opt=””：DNS 选项；</li>\n<li>–dns-search=[]：DNS 搜索域；</li>\n<li>–exec-opt=[]：运行时的执行选项；</li>\n<li>–exec-root=””：容器执行状态文件的根路径，默认为 /var/run/docker；</li>\n<li>–fixed-cidr=””：限定分配 IPv4 地址范围；</li>\n<li>–fixed-cidr-v6=””：限定分配 IPv6 地址范围；</li>\n<li>-G, –group=””：分配给 unix 套接字的组，默认为 docker；</li>\n<li>-g, –graph=””：Docker 运行时的根路径，默认为 /var/lib/docker；</li>\n<li>-H, –host=[]：指定命令对应 Docker daemon 的监听接口，可以为 unix 套接字 unix:///path/to/socket，文件句柄 fd://socketfd 或 tcp 套接字 tcp://[host[:port]]，默认为 unix:///var/run/docker.sock；</li>\n<li>–icc=true|false：是否启用容器间以及跟 daemon 所在主机的通信。默认为 true。</li>\n<li>–insecure-registry=[]：允许访问给定的非安全仓库服务；</li>\n<li>–ip=””：绑定容器端口时候的默认 IP 地址。缺省为 0.0.0.0；</li>\n<li>–ip-forward=true|false：是否检查启动在 Docker 主机上的启用 IP 转发服务，默认开启。注意关闭该选项将不对系统转发能力进行任何检查修改；</li>\n<li>–ip-masq=true|false：是否进行地址伪装，用于容器访问外部网络，默认开启；</li>\n<li>–iptables=true|false：是否允许 Docker 添加 iptables 规则。缺省为 true；</li>\n<li>–ipv6=true|false：是否启用 IPv6 支持，默认关闭；</li>\n<li>-l, –log-level=”debug|info|warn|error|fatal”：指定日志输出级别；</li>\n<li>–label=”[]”：添加指定的键值对标注；</li>\n<li>–log-driver=”json-file|syslog|journald|gelf|fluentd|awslogs|splunk|etwlogs|gcplogs|none”：指定日志后端驱动，默认为 json-file；</li>\n<li>–log-opt=[]：日志后端的选项；</li>\n<li>–mtu=VALUE：指定容器网络的 mtu；</li>\n<li>-p=””：指定 daemon 的 PID 文件路径。缺省为 /var/run/docker.pid；</li>\n<li>–raw-logs：输出原始，未加色彩的日志信息；</li>\n<li>–registry-mirror=<scheme>://<host>：指定 docker pull 时使用的注册服务器镜像地址；</host></scheme></li>\n<li>-s, –storage-driver=””：指定使用给定的存储后端；</li>\n<li>–selinux-enabled=true|false：是否启用 SELinux 支持。缺省值为 false。SELinux 目前尚不支持 overlay 存储驱动；</li>\n<li>–storage-opt=[]：驱动后端选项；</li>\n<li>–tls=true|false：是否对 Docker daemon 启用 TLS 安全机制，默认为否；</li>\n<li>–tlscacert=/.docker/ca.pem：TLS CA 签名的可信证书文件路径；</li>\n<li>–tlscert=/.docker/cert.pem：TLS 可信证书文件路径；</li>\n<li>–tlscert=/.docker/key.pem：TLS 密钥文件路径；</li>\n<li>–tlsverify=true|false：启用 TLS 校验，默认为否；</li>\n<li>–userland-proxy=true|false：是否使用用户态代理来实现容器间和出容器的回环通信，默认为 true；</li>\n<li>–userns-remap=default|uid:gid|user:group|user|uid：指定容器的用户命名空间，默认是创建新的 UID 和 GID 映射到容器内进程。</li>\n</ul>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Docker"],"tags":["docker"]},{"title":"es6","url":"/Blog/es6/","content":"<p>ECMAScript 6 入门 (<a href=\"https://es6.ruanyifeng.com/\" target=\"_blank\" rel=\"noopener\">https://es6.ruanyifeng.com/</a>)</p>\n<a id=\"more\"></a>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","js"],"tags":["js","es6"]},{"title":"links","url":"/Blog/links/","content":"<hr>\n<br>\n<br>\n<style>\ndetails { user-select: none; }\ndetails[open] summary {text-shadow: #FC0 1px 0 10px;}\nsummary h1 { display: inline; line-height: 1.5em !important; }\nsummary:focus { outline: none; }\nsummary+* { padding-left: 2em; }\n</style>\n\n<p><a href=\"https://github.com/jarze/Blog/edit/page/source/_posts/links/index.md\" target=\"_blank\" rel=\"noopener\">➲ 去编辑</a></p>\n<hr>\n<details open=\"open\"><summary><h1><span id=\"图片处理\">🤡 图片处理</span></h1></summary>\n\n<ul>\n<li><a href=\"https://docsmall.com/\" target=\"_blank\" rel=\"noopener\"><strong><code>docsmall</code></strong></a> <em>(在线 jpg、png、gif 压缩缩放)</em></li>\n<li><a href=\"https://tinypng.com\" target=\"_blank\" rel=\"noopener\"><strong>TinyPNG</strong></a> <em>(jpg、png 智能压缩)</em></li>\n<li><a href=\"https://zhitu.isux.us\" target=\"_blank\" rel=\"noopener\"><strong>智图</strong></a> <em>(图片压缩在线工具)</em></li>\n<li><a href=\"https://img.top\" target=\"_blank\" rel=\"noopener\"><strong>img.top</strong></a> <em>(智能图片压缩)</em></li>\n<li><a href=\"https://www.soogif.com\" target=\"_blank\" rel=\"noopener\"><strong>soogif</strong></a> <em>(免费动图在线制作工具)</em></li>\n<li><a href=\"https://ezgif.com\" target=\"_blank\" rel=\"noopener\"><strong>ezgif</strong></a> <em>(GIF 全能编辑器)</em></li>\n</ul>\n</details>\n\n<a id=\"more\"></a>\n\n<details open=\"open\"><summary><h1><span id=\"mdx-docs-website\">🤡 MDX、Docs、Website</span></h1></summary>\n\n\n<ul>\n<li><a href=\"https://mdxjs.com/projects\" target=\"_blank\" rel=\"noopener\"><strong>mdx</strong></a> <em>(Markdown for the component era)</em></li>\n<li><a href=\"https://www.docz.site/\" target=\"_blank\" rel=\"noopener\"><strong>docz</strong></a> <em>(Documentation framework)</em></li>\n<li><a href=\"https://charge.js.org/\" target=\"_blank\" rel=\"noopener\"><strong>Charge</strong></a> <em>(An opinionated, zero-config static site generator)</em></li>\n<li><a href=\"https://docusaurus.io/\" target=\"_blank\" rel=\"noopener\"><strong>Docusaurus</strong></a> <em>(Docusaurus was designed from the ground up to be easily installed and used to get your website up and running quickly.)</em></li>\n<li><a href=\"https://docs.gitbook.com/\" target=\"_blank\" rel=\"noopener\"><strong>gitbook</strong></a> <em>(GitBook is a modern documentation platform where teams can document everything from products to internal knowledge-bases and APIs.)</em></li>\n<li><a href=\"https://typedoc.org/\" target=\"_blank\" rel=\"noopener\"><strong>typedoc</strong></a> <em>(A documentation generator for TypeScript projects.)</em></li>\n<li><a href=\"https://docsify.js.org/#/\" target=\"_blank\" rel=\"noopener\"><strong>docsify</strong></a> <em>(A magical documentation site generator.)</em></li>\n<li><a href=\"https://vuepress.vuejs.org/zh/\" target=\"_blank\" rel=\"noopener\"><strong>VuePress</strong></a> <em>(Vue 驱动的静态网站生成器.)</em></li>\n<li><a href=\"https://www.gatsbyjs.com/\" target=\"_blank\" rel=\"noopener\"><strong>Gatsby</strong></a> <em>(Gatsby 4 combines the control and scalability of server-side rendering with the performance of static-site generation, creating a whole new web of possibilites.)</em></li>\n<li><a href=\"https://nextjs.org/\" target=\"_blank\" rel=\"noopener\"><strong>Next.js</strong></a> <em>(The React Framework for Production. Next.js gives you the best developer experience with all the features you need for production: hybrid static &amp; server rendering, TypeScript support, smart bundling, route pre-fetching, and more. No config needed.)</em></li>\n<li><a href=\"https://www.mkdocs.org/\" target=\"_blank\" rel=\"noopener\"><strong>mkdocs</strong></a> <em>(A documentation generator for the Markdown language.)</em></li></ul></details>\n\n\n\n<details open=\"open\"><summary><h1><span id=\"demo\">🤡 DEMO</span></h1></summary>\n\n<ul>\n<li><a href=\"http://www.demosify.com/\" target=\"_blank\" rel=\"noopener\"><strong>demosify</strong></a> <em>(Demo 演示)</em></li>\n</ul>\n</details>\n\n<details open=\"open\"><summary><h1><span id=\"流程图\">🤡 流程图</span></h1></summary>\n\n<ul>\n<li><a href=\"https://draw.io/\" target=\"_blank\" rel=\"noopener\"><strong>draw.io</strong></a><em>(免登录、完全免费、跨平台,还可以使用 vs code 开源插件)</em></li>\n<li><a href=\"https://plantuml.com/\" target=\"_blank\" rel=\"noopener\"><strong>plantuml</strong></a></li>\n</ul>\n</details>\n<br>\n<br>\n<br>\n<br>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["工具查询"],"tags":["link","tool"]},{"title":"Markdown 语法和 MWeb 写作使用说明","url":"/Blog/markdown/","content":"<ul>\n<li><a href=\"https://list.yinxiang.com/markdown/eef42447-db3f-48ee-827b-1bb34c03eb83.php\" target=\"_blank\" rel=\"noopener\">印象笔记 Markdown 入门指南</a></li>\n</ul>\n<hr>\n<h2><span id=\"markdown-的设计哲学\">Markdown 的设计哲学</span></h2><blockquote>\n<p>Markdown 的目標是實現「易讀易寫」。<br>不過最需要強調的便是它的可讀性。一份使用 Markdown 格式撰寫的文件應該可以直接以純文字發佈，並且看起來不會像是由許多標籤或是格式指令所構成。<br>Markdown 的語法有個主要的目的：用來作為一種網路內容的<em>寫作</em>用語言。</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2><span id=\"本文约定\">本文约定</span></h2><p>如果有写 <code>效果如下：</code>， 在 MWeb 编辑状态下只有用 <code>CMD + 4</code> 或 <code>CMD + R</code> 预览才可以看效果。</p>\n<h2><span id=\"标题\">标题</span></h2><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\"># 第一级标题 &#96;&lt;h1&gt;&#96;</span><br><span class=\"line\">## 第二级标题 &#96;&lt;h2&gt;&#96;</span><br><span class=\"line\">###### 第六级标题 &#96;&lt;h6&gt;&#96;</span><br></pre></td></tr></table></figure>\n\n<p>效果如下：</p>\n<h1><span id=\"第一级标题-lth1gt\">第一级标题 <code>&lt;h1&gt;</code></span></h1><h2><span id=\"第二级标题-lth2gt\">第二级标题 <code>&lt;h2&gt;</code></span></h2><h6><span id=\"第六级标题-lth6gt\">第六级标题 <code>&lt;h6&gt;</code></span></h6><h2><span id=\"强调\">强调</span></h2><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">*这些文字会生成&#96;&lt;em&gt;&#96;*</span><br><span class=\"line\">_这些文字会生成&#96;&lt;u&gt;&#96;_</span><br><span class=\"line\"></span><br><span class=\"line\">**这些文字会生成&#96;&lt;strong&gt;&#96;**</span><br><span class=\"line\">__这些文字会生成&#96;&lt;strong&gt;&#96;__</span><br></pre></td></tr></table></figure>\n\n<p>在 MWeb 中的快捷键为： <code>CMD + U</code>、<code>CMD + I</code>、<code>CMD + B</code><br>效果如下：</p>\n<p><em>这些文字会生成<code>&lt;em&gt;</code></em><br><em>这些文字会生成<code>&lt;u&gt;</code></em></p>\n<p><strong>这些文字会生成<code>&lt;strong&gt;</code></strong><br><strong>这些文字会生成<code>&lt;strong&gt;</code></strong></p>\n<h2><span id=\"换行\">换行</span></h2><p>四个及以上空格加回车。<br>如果不想打这么多空格，只要回车就为换行，请勾选：<code>Preferences</code> - <code>Themes</code> - <code>Translate newlines to &lt;br&gt; tags</code></p>\n<h2><span id=\"列表\">列表</span></h2><h3><span id=\"无序列表\">无序列表</span></h3><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">* 项目一 无序列表 &#96;* + 空格键&#96;</span><br><span class=\"line\">* 项目二</span><br><span class=\"line\">* 项目二的子项目一 无序列表 &#96;TAB + * + 空格键&#96;</span><br><span class=\"line\">* 项目二的子项目二</span><br></pre></td></tr></table></figure>\n\n<p>在 MWeb 中的快捷键为： <code>Option + U</code><br>效果如下：</p>\n<ul>\n<li>项目一 无序列表 <code>* + 空格键</code></li>\n<li>项目二</li>\n<li>项目二的子项目一 无序列表 <code>TAB + * + 空格键</code></li>\n<li>项目二的子项目二</li>\n</ul>\n<h3><span id=\"有序列表\">有序列表</span></h3><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">1. 项目一 有序列表 &#96;数字 + . + 空格键&#96;</span><br><span class=\"line\">2. 项目二</span><br><span class=\"line\">3. 项目三</span><br><span class=\"line\">1. 项目三的子项目一 有序列表 &#96;TAB + 数字 + . + 空格键&#96;</span><br><span class=\"line\">2. 项目三的子项目二</span><br></pre></td></tr></table></figure>\n\n<p>效果如下：</p>\n<ol>\n<li>项目一 有序列表 <code>数字 + . + 空格键</code></li>\n<li>项目二</li>\n<li>项目三</li>\n<li>项目三的子项目一 有序列表 <code>TAB + 数字 + . + 空格键</code></li>\n<li>项目三的子项目二</li>\n</ol>\n<h3><span id=\"任务列表task-lists\">任务列表（Task lists）</span></h3><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">- [ ] 任务一 未做任务 &#96;- + 空格 + [ ]&#96;</span><br><span class=\"line\">- [x] 任务二 已做任务 &#96;- + 空格 + [x]&#96;</span><br></pre></td></tr></table></figure>\n\n<p>效果如下：</p>\n<ul>\n<li><input disabled type=\"checkbox\"> 任务一 未做任务 <code>- + 空格 + [ ]</code></li>\n<li><input checked disabled type=\"checkbox\"> 任务二 已做任务 <code>- + 空格 + [x]</code></li>\n</ul>\n<h2><span id=\"图片\">图片</span></h2><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">![GitHub set up](http:&#x2F;&#x2F;zh.mweb.im&#x2F;asset&#x2F;img&#x2F;set-up-git.gif)</span><br><span class=\"line\">格式: ![Alt Text](url)</span><br></pre></td></tr></table></figure>\n\n<p><code>Control + Shift + I</code> 可插入Markdown语法。<br>如果是 MWeb 的文档库中的文档，还可以用拖放图片、<code>CMD + V</code> 粘贴、<code>CMD + Option + I</code> 导入这三种方式来增加图片。<br>效果如下：</p>\n<p><img src=\"http://zh.mweb.im/asset/img/set-up-git.gif\" alt=\"GitHub set up\"></p>\n<p>MWeb 引入的特别的语法来设置图片宽度，方法是在图片描述后加 <code>-w + 图片宽度</code> 即可，比如说要设置上面的图片的宽度为 140，语法如下：</p>\n<p><img src=\"http://zh.mweb.im/asset/img/set-up-git.gif\" alt=\"GitHub set up-w140\"></p>\n<h2><span id=\"链接\">链接</span></h2><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">email &lt;example@example.com&gt;</span><br><span class=\"line\">[GitHub](http:&#x2F;&#x2F;github.com)</span><br><span class=\"line\">自动生成连接  &lt;http:&#x2F;&#x2F;www.github.com&#x2F;&gt;</span><br></pre></td></tr></table></figure>\n\n<p><code>Control + Shift + L</code> 可插入Markdown语法。<br>如果是 MWeb 的文档库中的文档，拖放或<code>CMD + Option + I</code> 导入非图片时，会生成连接。<br>效果如下：</p>\n<p>Email 连接： <a href=\"mailto:&#x65;&#x78;&#x61;&#x6d;&#112;&#108;&#101;&#64;&#101;&#x78;&#x61;&#x6d;&#112;&#108;&#101;&#46;&#99;&#111;&#x6d;\">&#x65;&#x78;&#x61;&#x6d;&#112;&#108;&#101;&#64;&#101;&#x78;&#x61;&#x6d;&#112;&#108;&#101;&#46;&#99;&#111;&#x6d;</a><br><a href=\"http://github.com\" target=\"_blank\" rel=\"noopener\">连接标题Github网站</a><br>自动生成连接像： <a href=\"http://www.github.com/\" target=\"_blank\" rel=\"noopener\">http://www.github.com/</a> 这样</p>\n<h2><span id=\"区块引用\">区块引用</span></h2><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">某某说:</span><br><span class=\"line\">&gt; 第一行引用</span><br><span class=\"line\">&gt; 第二行费用文字</span><br></pre></td></tr></table></figure>\n\n<p><code>CMD + Shift + B</code> 可插入Markdown语法。<br>效果如下：</p>\n<p>某某说:</p>\n<blockquote>\n<p>第一行引用<br>第二行费用文字</p>\n</blockquote>\n<h2><span id=\"行内代码\">行内代码</span></h2><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">像这样即可：&#96;&lt;addr&gt;&#96; &#96;code&#96;</span><br></pre></td></tr></table></figure>\n\n<p><code>CMD + K</code> 可插入Markdown语法。<br>效果如下：</p>\n<p>像这样即可：<code>&lt;addr&gt;</code> <code>code</code></p>\n<h2><span id=\"多行或者一段代码\">多行或者一段代码</span></h2><p>Markdown 语法：</p>\n<pre><code><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fancyAlert</span>(<span class=\"params\">arg</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(arg) &#123;</span><br><span class=\"line\">    $.facebox(&#123;<span class=\"attr\">div</span>:<span class=\"string\">'#foo'</span>&#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></code></pre><p><code>CMD + Shift + K</code> 可插入Markdown语法。<br>效果如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fancyAlert</span>(<span class=\"params\">arg</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(arg) &#123;</span><br><span class=\"line\">    $.facebox(&#123;<span class=\"attr\">div</span>:<span class=\"string\">'#foo'</span>&#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"顺序图或流程图\">顺序图或流程图</span></h2><p>Markdown 语法：</p>\n<pre><code><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">张三-&gt;李四: 嘿，小四儿, 写博客了没?</span><br><span class=\"line\">Note right of 李四: 李四愣了一下，说：</span><br><span class=\"line\">李四--&gt;张三: 忙得吐血，哪有时间写。</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">st&#x3D;&gt;start: 开始</span><br><span class=\"line\">e&#x3D;&gt;end: 结束</span><br><span class=\"line\">op&#x3D;&gt;operation: 我的操作</span><br><span class=\"line\">cond&#x3D;&gt;condition: 确认？</span><br><span class=\"line\"></span><br><span class=\"line\">st-&gt;op-&gt;cond</span><br><span class=\"line\">cond(yes)-&gt;e</span><br><span class=\"line\">cond(no)-&gt;op</span><br></pre></td></tr></table></figure></code></pre><p>效果如下（ <code>Preferences</code> - <code>Themes</code> - <code>Enable sequence &amp; flow chart</code> 才会看到效果 ）：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">张三-&gt;李四: 嘿，小四儿, 写博客了没?</span><br><span class=\"line\">Note right of 李四: 李四愣了一下，说：</span><br><span class=\"line\">李四--&gt;张三: 忙得吐血，哪有时间写。</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">st&#x3D;&gt;start: 开始</span><br><span class=\"line\">e&#x3D;&gt;end: 结束</span><br><span class=\"line\">op&#x3D;&gt;operation: 我的操作</span><br><span class=\"line\">cond&#x3D;&gt;condition: 确认？</span><br><span class=\"line\"></span><br><span class=\"line\">st-&gt;op-&gt;cond</span><br><span class=\"line\">cond(yes)-&gt;e</span><br><span class=\"line\">cond(no)-&gt;op</span><br></pre></td></tr></table></figure>\n\n<p>更多请参考：<a href=\"http://bramp.github.io/js-sequence-diagrams/\" target=\"_blank\" rel=\"noopener\">http://bramp.github.io/js-sequence-diagrams/</a>, <a href=\"http://adrai.github.io/flowchart.js/\" target=\"_blank\" rel=\"noopener\">http://adrai.github.io/flowchart.js/</a></p>\n<h2><span id=\"表格\">表格</span></h2><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">第一格表头 | 第二格表头</span><br><span class=\"line\">--------- | -------------</span><br><span class=\"line\">内容单元格 第一列第一格 | 内容单元格第二列第一格</span><br><span class=\"line\">内容单元格 第一列第二格 多加文字 | 内容单元格第二列第二格</span><br></pre></td></tr></table></figure>\n\n<p>效果如下：</p>\n<table>\n<thead>\n<tr>\n<th>第一格表头</th>\n<th>第二格表头</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>内容单元格 第一列第一格</td>\n<td>内容单元格第二列第一格</td>\n</tr>\n<tr>\n<td>内容单元格 第一列第二格 多加文字</td>\n<td>内容单元格第二列第二格</td>\n</tr>\n</tbody></table>\n<h2><span id=\"删除线\">删除线</span></h2><p>Markdown 语法：</p>\n<p>加删除线像这样用： <del>删除这些</del></p>\n<p>效果如下：</p>\n<p>加删除线像这样用： <del>删除这些</del></p>\n<h2><span id=\"分隔线\">分隔线</span></h2><p>以下三种方式都可以生成分隔线：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">***</span><br><span class=\"line\"></span><br><span class=\"line\">*****</span><br><span class=\"line\"></span><br><span class=\"line\">- - -</span><br></pre></td></tr></table></figure>\n\n<p>效果如下：</p>\n<hr>\n<hr>\n<hr>\n<h2><span id=\"mathjax\">MathJax</span></h2><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">块级公式：</span><br><span class=\"line\">$$\tx &#x3D; \\dfrac&#123;-b \\pm \\sqrt&#123;b^2 - 4ac&#125;&#125;&#123;2a&#125; $$</span><br><span class=\"line\"></span><br><span class=\"line\">\\\\[ \\frac&#123;1&#125;&#123;\\Bigl(\\sqrt&#123;\\phi \\sqrt&#123;5&#125;&#125;-\\phi\\Bigr) e^&#123;\\frac25 \\pi&#125;&#125; &#x3D;</span><br><span class=\"line\">1+\\frac&#123;e^&#123;-2\\pi&#125;&#125; &#123;1+\\frac&#123;e^&#123;-4\\pi&#125;&#125; &#123;1+\\frac&#123;e^&#123;-6\\pi&#125;&#125;</span><br><span class=\"line\">&#123;1+\\frac&#123;e^&#123;-8\\pi&#125;&#125; &#123;1+\\ldots&#125; &#125; &#125; &#125; \\\\]</span><br><span class=\"line\"></span><br><span class=\"line\">行内公式： $\\Gamma(n) &#x3D; (n-1)!\\quad\\forall n\\in\\mathbb N$</span><br></pre></td></tr></table></figure>\n\n<p>效果如下（<code>Preferences</code> - <code>Themes</code> - <code>Enable MathJax</code> 才会看到效果）：</p>\n<p>块级公式：<br>$$    x = \\dfrac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} $$</p>\n<p>\\[ \\frac{1}{\\Bigl(\\sqrt{\\phi \\sqrt{5}}-\\phi\\Bigr) e^{\\frac25 \\pi}} =<br>1+\\frac{e^{-2\\pi}} {1+\\frac{e^{-4\\pi}} {1+\\frac{e^{-6\\pi}}<br>{1+\\frac{e^{-8\\pi}} {1+\\ldots} } } } \\]</p>\n<p>行内公式： $\\Gamma(n) = (n-1)!\\quad\\forall n\\in\\mathbb N$</p>\n<h2><span id=\"脚注footnote\">脚注（Footnote）</span></h2><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">这是一个脚注：[^sample_footnote]</span><br></pre></td></tr></table></figure>\n\n<p>效果如下：</p>\n<p>这是一个脚注：<a href=\"这里是脚注信息\">^sample_footnote</a></p>\n<h2><span id=\"注释和阅读更多\">注释和阅读更多</span></h2><!-- comment -->\n<!-- more -->\n\n<p>Actions-&gt;Insert Read More Comment <em>或者</em> <code>Command + .</code><br><strong>注</strong> 阅读更多的功能只用在生成网站或博客时，插入时注意要后空一行。</p>\n<h2><span id=\"toc\">TOC</span></h2><p>Markdown 语法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">[TOC]</span><br></pre></td></tr></table></figure>\n\n<p>效果如下：</p>\n<p>[TOC]</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["工具查询"],"tags":["markdown"]},{"title":"npm-scripts","url":"/Blog/npm-scripts/","content":"<p><a href=\"https://www.ruanyifeng.com/blog/2016/10/npm_scripts.html\" target=\"_blank\" rel=\"noopener\">npm scripts 使用指南</a></p>\n<a id=\"more\"></a>\n\n<h2><span id=\"通配符\">通配符</span></h2><p>由于 npm 脚本就是 Shell 脚本，因为可以使用 Shell 通配符。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint *.js\"</span></span><br><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **/*.js\"</span></span><br></pre></td></tr></table></figure>\n\n<p>上面代码中，*表示任意文件名，**表示任意一层子目录。</p>\n<p>如果要将通配符传入原始命令，防止被 Shell 转义，要将星号转义。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"tap test/\\*.js\"</span></span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"传参\">传参</span></h2><p>向 npm 脚本传入参数，要使用<code>--</code>标明。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span></span><br></pre></td></tr></table></figure>\n\n<p>向上面的 npm run lint 命令传入参数，必须写成下面这样。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ npm run lint --  --reporter checkstyle &gt; checkstyle.xml</span><br></pre></td></tr></table></figure>\n\n<p>也可以在 package.json 里面再封装一个命令。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"lint:checkstyle\"</span>: <span class=\"string\">\"npm run lint -- --reporter checkstyle &gt; checkstyle.xml\"</span></span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"执行顺序\">执行顺序</span></h2><p>如果 npm 脚本里面需要执行多个任务，那么需要明确它们的执行顺序。<br>如果是并行执行（即同时的平行执行），可以使用&amp;符号。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm run script1.js &amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n\n<p>如果是继发执行（即只有前一个任务成功，才执行下一个任务），可以使用&amp;&amp;符号。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ npm run script1.js &amp;&amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n\n<p>这两个符号是 Bash 的功能。此外，还可以使用 node 的任务管理模块：script-runner、npm-run-all、redrun。</p>\n<h2><span id=\"默认值\">默认值</span></h2><p>一般来说，npm 脚本由用户提供。但是，npm 对两个脚本提供了默认值。也就是说，这两个脚本不用定义，就可以直接使用。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"start\"</span>: <span class=\"string\">\"node server.js\"</span>，</span><br><span class=\"line\"><span class=\"string\">\"install\"</span>: <span class=\"string\">\"node-gyp rebuild\"</span></span><br></pre></td></tr></table></figure>\n\n<p>上面代码中，npm run start 的默认值是 node server.js，前提是项目根目录下有 server.js 这个脚本；npm run install 的默认值是 node-gyp rebuild，前提是项目根目录下有 binding.gyp 文件。</p>\n<h2><span id=\"钩子\">钩子</span></h2><p>npm 脚本有 <strong><code>pre</code></strong>和 <strong><code>post</code></strong> 两个钩子。举例来说，<code>build</code> 脚本命令的钩子就是 <code>prebuild</code> 和 <code>postbuild</code>。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"echo I run before the build script\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"postbuild\"</span>: <span class=\"string\">\"echo I run after the build script\"</span></span><br></pre></td></tr></table></figure>\n\n<p>用户执行 npm run build 的时候，会自动按照下面的顺序执行。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm run prebuild &amp;&amp; npm run build &amp;&amp; npm run postbuild</span><br></pre></td></tr></table></figure>\n\n<p>因此，可以在这两个钩子里面，完成一些准备工作和清理工作。下面是一个例子。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"clean\"</span>: <span class=\"string\">\"rimraf ./dist &amp;&amp; mkdir dist\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"npm run clean\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span></span><br></pre></td></tr></table></figure>\n\n<p>npm 默认提供下面这些钩子。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">prepublish，postpublish</span><br><span class=\"line\">preinstall，postinstall</span><br><span class=\"line\">preuninstall，postuninstall</span><br><span class=\"line\">preversion，postversion</span><br><span class=\"line\">pretest，posttest</span><br><span class=\"line\">prestop，poststop</span><br><span class=\"line\">prestart，poststart</span><br><span class=\"line\">prerestart，postrestart</span><br></pre></td></tr></table></figure>\n\n<p>npm start、npm stop 和 npm restart 都比较好理解，而 npm restart 是一个复合命令，实际上会执行三个脚本命令：stop、restart、start。具体的执行顺序如下。</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">prerestart</span><br><span class=\"line\">prestop</span><br><span class=\"line\">stop</span><br><span class=\"line\">poststop</span><br><span class=\"line\">restart</span><br><span class=\"line\">prestart</span><br><span class=\"line\">start</span><br><span class=\"line\">poststart</span><br><span class=\"line\">postrestart</span><br></pre></td></tr></table></figure>\n\n<p>而发包的生命周期更为复杂，当执行 <code>npm publish</code>，将自动执行以下脚本。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">prepublishOnly; <span class=\"comment\">// 最重要的一个生命周期。</span></span><br><span class=\"line\">prepack;</span><br><span class=\"line\">prepare; <span class=\"comment\">//npm install 之后自动执行,npm publish 之前自动执行</span></span><br><span class=\"line\">postpack;</span><br><span class=\"line\">publish;</span><br><span class=\"line\">postpublish;</span><br></pre></td></tr></table></figure>\n\n<p>当然你无需完全记住所有的生命周期，如果你需要在发包之前自动做一些事情，如测试、构建等，请在 <code>prepulishOnly</code> 中完成。</p>\n<h2><span id=\"变量\">变量</span></h2><p>npm 脚本有一个非常强大的功能，就是可以使用 npm 的内部变量。<br>首先，通过<code>npm_package_</code>前缀，npm 脚本可以拿到 package.json 里面的字段。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; view.js</span><br><span class=\"line\">console.log(process.env.npm_package_name); &#x2F;&#x2F; foo</span><br><span class=\"line\">console.log(process.env.npm_package_version); &#x2F;&#x2F; 1.2.5</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight zsh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># env 命令可以列出所有环境变量。</span></span><br><span class=\"line\"><span class=\"string\">\"env\"</span>: <span class=\"string\">\"env\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 通过npm_package_前缀，npm 脚本可以拿到package.json里面的字段</span></span><br><span class=\"line\">console.log(process.env.npm_package_name); // foo</span><br><span class=\"line\">console.log(process.env.npm_package_version); // 1.2.5</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># npm 脚本还可以通过npm_config_前缀，拿到 npm 的配置变量</span></span><br><span class=\"line\"><span class=\"string\">\"view\"</span>: <span class=\"string\">\"echo <span class=\"variable\">$npm_config_tag</span>\"</span>,</span><br></pre></td></tr></table></figure>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front"],"tags":["npm"]},{"title":"package.json 中 npm 依赖包版本前的符号的意义","url":"/Blog/package/","content":"<p>版本的格式</p>\n<blockquote>\n<p><code>major.minor.patch</code></p>\n</blockquote>\n<p>主版本号.次版本号.修补版本号</p>\n<a id=\"more\"></a>\n\n<p><code>patch</code>：修复 bug，兼容老版本</p>\n<p><code>minor</code>：新增功能，兼容老版本</p>\n<p><code>major</code>：新的架构调整，不兼容老版本</p>\n<hr>\n<blockquote>\n<p><code>version</code></p>\n</blockquote>\n<p>必须匹配某个版本</p>\n<p>如：1.1.2，表示必须依赖 1.1.2 版</p>\n<blockquote>\n<p><code>&gt;version</code></p>\n</blockquote>\n<p>必须大于某个版本</p>\n<p>如：&gt;1.1.2，表示必须大于 1.1.2 版</p>\n<blockquote>\n<p><code>&gt;=version</code></p>\n</blockquote>\n<p>可大于或等于某个版本</p>\n<p>如：&gt;=1.1.2，表示可以等于 1.1.2，也可以大于 1.1.2 版本</p>\n<blockquote>\n<p><code>&lt;version</code></p>\n</blockquote>\n<p>必须小于某个版本</p>\n<p>如：&lt;1.1.2，表示必须小于 1.1.2 版本</p>\n<blockquote>\n<p><code>&lt;=version</code></p>\n</blockquote>\n<p>可以小于或等于某个版本</p>\n<p>如：&lt;=1.1.2，表示可以等于 1.1.2，也可以小于 1.1.2 版本</p>\n<blockquote>\n<p><code>~version</code></p>\n</blockquote>\n<p>大概匹配某个版本</p>\n<p>如果 minor 版本号指定了，那么 minor 版本号不变，而 patch 版本号任意</p>\n<p>如果 minor 和 patch 版本号未指定，那么 minor 和 patch 版本号任意</p>\n<p>如：~1.1.2，表示&gt;=1.1.2 &lt;1.2.0，可以是 1.1.2，1.1.3，1.1.4，…..，1.1.n</p>\n<p>如：~1.1，表示&gt;=1.1.0 &lt;1.2.0，可以是同上</p>\n<p>如：~1，表示&gt;=1.0.0 &lt;2.0.0，可以是 1.0.0，1.0.1，1.0.2，…..，1.0.n，1.1.n，1.2.n，…..，1.n.n</p>\n<blockquote>\n<p><code>^version</code></p>\n</blockquote>\n<p>兼容某个版本</p>\n<p>版本号中最左边的非 0 数字的右侧可以任意</p>\n<p>如果缺少某个版本号，则这个版本号的位置可以任意</p>\n<p>如：^1.1.2 ，表示&gt;=1.1.2 &lt;2.0.0，可以是 1.1.2，1.1.3，…..，1.1.n，1.2.n，…..，1.n.n</p>\n<p>如：^0.2.3 ，表示&gt;=0.2.3 &lt;0.3.0，可以是 0.2.3，0.2.4，…..，0.2.n</p>\n<p>如：^0.0，表示 &gt;=0.0.0 &lt;0.1.0，可以是 0.0.0，0.0.1，…..，0.0.n</p>\n<blockquote>\n<p><code>x-range</code></p>\n</blockquote>\n<p>x 的位置表示任意版本</p>\n<p>如：1.2.x，表示可以 1.2.0，1.2.1，…..，1.2.n</p>\n<blockquote>\n<p><code>*-range</code></p>\n</blockquote>\n<p>任意版本，””也表示任意版本</p>\n<p>如：*，表示&gt;=0.0.0 的任意版本</p>\n<blockquote>\n<p><code>version1 - version2</code></p>\n</blockquote>\n<p>大于等于 version1，小于等于 version2</p>\n<p>如：1.1.2 - 1.3.1，表示包括 1.1.2 和 1.3.1 以及他们件的任意版本</p>\n<blockquote>\n<p><code>range1 || range2</code></p>\n</blockquote>\n<p>满足 range1 或者满足 range2，可以多个范围</p>\n<p>如：&lt;1.0.0 || &gt;=2.3.1 &lt;2.4.5 || &gt;=2.5.2 &lt;3.0.0，表示满足这 3 个范围的版本都可以</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front"],"tags":["npm","Node"]},{"title":"package.json配置项","url":"/Blog/package-json%E9%85%8D%E7%BD%AE%E9%A1%B9/","content":"<blockquote>\n<p><a href=\"https://docs.npmjs.com/cli/v8/configuring-npm/package-json\" target=\"_blank\" rel=\"noopener\"> _<code>npmjs</code> _</a></p>\n</blockquote>\n<img src=\"/Blog/package-json%E9%85%8D%E7%BD%AE%E9%A1%B9/pkg.png\" class>\n\n<a id=\"more\"></a>\n\n<details><summary><b>👋 PlantUML</b></summary>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">@startmindmap</span><br><span class=\"line\">* package.json</span><br><span class=\"line\"></span><br><span class=\"line\">left side</span><br><span class=\"line\"></span><br><span class=\"line\"> * 必须属性</span><br><span class=\"line\">  * name</span><br><span class=\"line\">   *_ 名称</span><br><span class=\"line\">  * version</span><br><span class=\"line\">   *_ 版本号</span><br><span class=\"line\"></span><br><span class=\"line\"> * 描述属性</span><br><span class=\"line\">  * description</span><br><span class=\"line\">   *_ 描述信息</span><br><span class=\"line\">  * keywords</span><br><span class=\"line\">   *_ 关键词</span><br><span class=\"line\">  * author</span><br><span class=\"line\">   *_ 作者</span><br><span class=\"line\">  * contributors</span><br><span class=\"line\">   *_ 贡献者</span><br><span class=\"line\">  * homepage</span><br><span class=\"line\">   *_ 主页</span><br><span class=\"line\">  * repository</span><br><span class=\"line\">   *_ 仓库</span><br><span class=\"line\">  * bugs</span><br><span class=\"line\">   *_ Bug反馈地址</span><br><span class=\"line\"></span><br><span class=\"line\"> * 依赖配置</span><br><span class=\"line\">  * dependencies</span><br><span class=\"line\">   *_ 生产环境依赖</span><br><span class=\"line\">  * devDependencies</span><br><span class=\"line\">   *_ 开发环境依赖</span><br><span class=\"line\">  * peerDependencies</span><br><span class=\"line\">   *_ 兼容依赖</span><br><span class=\"line\">  * optionalDependencies</span><br><span class=\"line\">   *_ 不阻断安装依赖</span><br><span class=\"line\">  * bundledDependencies</span><br><span class=\"line\">   *_ 打包依赖</span><br><span class=\"line\">  * engines</span><br><span class=\"line\">   *_ 版本要求</span><br><span class=\"line\"></span><br><span class=\"line\"> * 脚本配置</span><br><span class=\"line\">  * scripts</span><br><span class=\"line\">  * config</span><br><span class=\"line\"></span><br><span class=\"line\">right side</span><br><span class=\"line\"></span><br><span class=\"line\"> * 文件&amp;目录</span><br><span class=\"line\">  * main</span><br><span class=\"line\">   *_ 程序入口</span><br><span class=\"line\">  * browser</span><br><span class=\"line\">   *_ 程序入口</span><br><span class=\"line\">  * module</span><br><span class=\"line\">   *_ 程序入口</span><br><span class=\"line\">  * bin</span><br><span class=\"line\">   *_ 命令行工具入口</span><br><span class=\"line\">  * files</span><br><span class=\"line\">   *_ 发布文件配置</span><br><span class=\"line\">  * man</span><br><span class=\"line\">   *_ man文档</span><br><span class=\"line\">  * directories</span><br><span class=\"line\">   *_ 项目目录</span><br><span class=\"line\"></span><br><span class=\"line\"> * 发布配置</span><br><span class=\"line\">  * private</span><br><span class=\"line\">   *_ 限制发布</span><br><span class=\"line\">  * preferGlobal</span><br><span class=\"line\">   *_ 警告本地安装</span><br><span class=\"line\">  * publishConfig</span><br><span class=\"line\">   *_ 限制发布仓库</span><br><span class=\"line\">   *_ 限制发布版本</span><br><span class=\"line\">  * os</span><br><span class=\"line\">   *_ 限制用户安装系统</span><br><span class=\"line\">  * cpu</span><br><span class=\"line\">   *_ 限制用户安装cpu</span><br><span class=\"line\">  * license</span><br><span class=\"line\">   *_ 开发协议</span><br><span class=\"line\"></span><br><span class=\"line\"> * 第三方配置</span><br><span class=\"line\">  * typings</span><br><span class=\"line\">  * eslintConfig</span><br><span class=\"line\">  * babel</span><br><span class=\"line\">  * unpkg</span><br><span class=\"line\">  * lint-staged</span><br><span class=\"line\">  * gitHooks</span><br><span class=\"line\">  * browserslist</span><br><span class=\"line\">  * sideEffects</span><br><span class=\"line\">   *_ webpack tree shaking</span><br><span class=\"line\"></span><br><span class=\"line\">@endmindmap</span><br></pre></td></tr></table></figure>\n\n</details>\n\n<hr>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"> //如果 private 为 <span class=\"literal\">true</span>，npm 会拒绝发布。</span><br><span class=\"line\"> <span class=\"string\">\"private\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"> //分别指定生产环境依赖和开发依赖</span><br><span class=\"line\">  <span class=\"string\">\"dependencies\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"antd\"</span>: <span class=\"string\">\"^2.11.1\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"classnames\"</span>: <span class=\"string\">\"^2.2.5\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">\"devDependencies\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"axios\"</span>: <span class=\"string\">\"^0.15.3\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"babel-eslint\"</span>: <span class=\"string\">\"^6.1.2\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">//bin制作命令行工具</span><br><span class=\"line\">  <span class=\"string\">\"bin\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"dk-cli\"</span>: <span class=\"string\">\"./bin/dk-cli.js\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">//script用于配置一些脚本，如npm run start</span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"start\"</span>: <span class=\"string\">\"node index.js\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">//engines记录当前项目依赖 node 和 npm 的版本号</span><br><span class=\"line\">  <span class=\"string\">\"engines\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"node\"</span>: <span class=\"string\">\"&gt;=6.9.0\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"npm\"</span>: <span class=\"string\">\"&gt;=3.10.10\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">//publishConfig决定了我们发布包发布到哪里去，此时发布包就不是往 www.npmjs.com/ 了</span><br><span class=\"line\">  <span class=\"string\">\"publishConfig\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"registry\"</span>: <span class=\"string\">\"http://gong/\"</span></span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","tool"],"tags":["npm"]},{"title":"plantuml","url":"/Blog/plantuml/","content":"<p>PlantUML 是一个可以快速编写的组件。绘制图表。</p>\n<ul>\n<li>(<a href=\"https://plantuml.com\" target=\"_blank\" rel=\"noopener\">https://plantuml.com</a>)</li>\n<li><a href=\"https://plantuml.com/zh/guide\" target=\"_blank\" rel=\"noopener\">文档</a></li>\n</ul>\n<a id=\"more\"></a>\n\n<hr>\n<h2><span id=\"vscodemarkdownuml\">VSCode+Markdown+UML</span></h2><blockquote>\n<p>插件</p>\n</blockquote>\n<ul>\n<li><p><strong>PlantUML</strong><br>将文件名以 <code>*.pu</code>, <code>*.puml</code>后缀结尾，即可使用 PlantUML 语法画图，使用快捷键 <code>Alt+D</code> 编译预览。</p>\n<hr>\n</li>\n<li><p><strong>Copy Markdown as HTML</strong><br>功能同插件名</p>\n</li>\n<li><p><strong>Markdown All in One</strong><br>为 Markdown 文件的编辑提供各种快捷键（如加粗、插入表格）</p>\n</li>\n<li><p><strong>Markdown Extended</strong><br>Markdown 扩展语法（比如 info、danger）</p>\n</li>\n<li><p><strong>Markdown Preview Enhanced</strong><br>增强的 markdown 预览，不装这个很多 markdown 效果不能正常预览</p>\n</li>\n<li><p><strong>Markdown Preview Mermaid Support</strong><br>支持 Mermaid，实测在 VSCode 和 Typora 中只支持流程图/序列图/甘特图/简单类图（无法描述类间关系）</p>\n</li>\n</ul>\n<hr>\n<img src=\"/Blog/plantuml/demo.png\" class>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">@startuml</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">header Page Header</span><br><span class=\"line\">footer Page %page% of %lastpage%</span><br><span class=\"line\"></span><br><span class=\"line\">title 时序图</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber</span><br><span class=\"line\"></span><br><span class=\"line\">actor Foo1</span><br><span class=\"line\">boundary Foo2</span><br><span class=\"line\">control Foo3</span><br><span class=\"line\">entity Foo4</span><br><span class=\"line\">database Foo5</span><br><span class=\"line\">collections Foo6</span><br><span class=\"line\"></span><br><span class=\"line\">actor Bob #red</span><br><span class=\"line\">&#39; The only difference between actor</span><br><span class=\"line\">&#39;and participant is the drawing</span><br><span class=\"line\">participant Alice</span><br><span class=\"line\">participant &quot;I have a really\\nlong name&quot; as L #99FF99</span><br><span class=\"line\">&#x2F;&#39; You can also declare:</span><br><span class=\"line\">   participant L as &quot;I have a really\\nlong name&quot;  #99FF99</span><br><span class=\"line\">  &#39;&#x2F;</span><br><span class=\"line\">Foo1 -&gt; Foo2 : To boundary</span><br><span class=\"line\">Foo1 -&gt; Foo3 : To control</span><br><span class=\"line\">Foo1 -&gt; Foo4 : To entity</span><br><span class=\"line\">Foo1 -&gt; Foo5 : To database</span><br><span class=\"line\">Foo1 -&gt; Foo6 : To collections</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber 60 10</span><br><span class=\"line\"></span><br><span class=\"line\">Alice-&gt;Bob: Authentication</span><br><span class=\"line\">Bob-&gt;Alice: Authentication</span><br><span class=\"line\">Bob-&gt;L: Log transaction</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber 40 10 &quot;&lt;font color&#x3D;red&gt;&lt;b&gt;Msg 0  &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Bob -&gt;x Alice: authentication</span><br><span class=\"line\">Bob -&gt; Alice</span><br><span class=\"line\">Bob -&gt;&gt; Alice</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber 15 &quot;&lt;b&gt;(&lt;u&gt;##&lt;&#x2F;u&gt;)&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Bob -\\ Alice</span><br><span class=\"line\">Bob \\\\- Alice</span><br><span class=\"line\">Bob &#x2F;&#x2F;-- Alice</span><br><span class=\"line\">Bob -&gt;o Alice</span><br><span class=\"line\">Bob o\\\\-- Alice</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber 15</span><br><span class=\"line\"></span><br><span class=\"line\">Bob &lt;-&gt; Alice</span><br><span class=\"line\">Bob &lt;-&gt;o Alice</span><br><span class=\"line\"></span><br><span class=\"line\">autonumber &quot;&lt;b&gt;[000]&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Bob -[#red]&gt; Alice : hello</span><br><span class=\"line\">Alice -[#0000FF]-&gt;Bob : ok</span><br><span class=\"line\"></span><br><span class=\"line\">note right of L: afterEmit</span><br><span class=\"line\">note over L, Log #FFAAAA: This is displayed\\n over Bob and Alice.</span><br><span class=\"line\">hnote over L : idle</span><br><span class=\"line\">rnote over L</span><br><span class=\"line\"> &quot;r&quot; as rectangle</span><br><span class=\"line\"> &quot;h&quot; as hexagon</span><br><span class=\"line\">endrnote</span><br><span class=\"line\"></span><br><span class=\"line\">note left of Alice #aqua</span><br><span class=\"line\">This is displayed</span><br><span class=\"line\">left of Alice.</span><br><span class=\"line\">end note</span><br><span class=\"line\"></span><br><span class=\"line\">@enduml</span><br></pre></td></tr></table></figure>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["工具查询"],"tags":["tool","puml"]},{"title":"CSS实现单行、多行文本溢出显示省略号（…）","url":"/Blog/text-overflow/","content":"<p>如果实现单行文本的溢出显示省略号同学们应该都知道用 <code>text-overflow:ellipsis</code> 属性来，当然还需要加宽度 <code>width</code> 属来兼容部分浏览。</p>\n<a id=\"more\"></a>\n\n<p><strong>实现方法：</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">overflow: hidden;</span><br><span class=\"line\">text-overflow:ellipsis;</span><br><span class=\"line\">white-space: nowrap;</span><br></pre></td></tr></table></figure>\n\n<p><strong>效果如图：</strong></p>\n<img src=\"/Blog/text-overflow/one-line.jpg\" class>\n\n<p>但是这个属性只支持单行文本的溢出显示省略号，如果我们要实现多行文本溢出显示省略号呢。<br>接下来重点说一说多行文本溢出显示省略号，如下。</p>\n<p><strong>实现方法：</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">display: -webkit-box;</span><br><span class=\"line\">-webkit-box-orient: vertical;</span><br><span class=\"line\">-webkit-line-clamp: <span class=\"number\">3</span>;</span><br><span class=\"line\">overflow: hidden;</span><br></pre></td></tr></table></figure>\n\n<p><strong>效果如图：</strong></p>\n<img src=\"/Blog/text-overflow/muti-line.jpg\" class>\n\n<p><strong>适用范围：</strong><br>因使用了 <code>WebKit</code> 的 <code>CSS</code> 扩展属性，该方法适用于 <code>WebKit</code> 浏览器及移动端；<br><em>注：</em></p>\n<ul>\n<li><code>-webkit-line-clamp</code> 用来限制在一个块元素显示的文本的行数。 为了实现该效果，它需要组合其他的 <code>WebKit</code> 属性。常见结合属性：</li>\n<li><code>display: -webkit-box</code>; 必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。</li>\n<li><code>-webkit-box-orient</code> 必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。</li>\n</ul>\n<p><strong>实现方法：</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">p&#123;</span><br><span class=\"line\">\tposition: relative; line-height: <span class=\"number\">20</span>px; max-height: <span class=\"number\">40</span>px;overflow: hidden;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">p::after&#123;</span><br><span class=\"line\">\tcontent: <span class=\"string\">\"...\"</span>; position: absolute; bottom: <span class=\"number\">0</span>; right: <span class=\"number\">0</span>; padding-left: <span class=\"number\">40</span>px;</span><br><span class=\"line\">\tbackground: -webkit-linear-gradient(left, transparent, #fff 55%);</span><br><span class=\"line\">\tbackground: -o-linear-gradient(right, transparent, #fff 55%);</span><br><span class=\"line\">\tbackground: -moz-linear-gradient(right, transparent, #fff 55%);</span><br><span class=\"line\">\tbackground: linear-gradient(to right, transparent, #fff 55%);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>效果如图：</strong></p>\n<img src=\"/Blog/text-overflow/muti-line-2.jpg\" class>\n\n<p><strong>适用范围：</strong><br>该方法适用范围广，但文字未超出行的情况下也会出现省略号,可结合 <code>js</code> 优化该方法。<br><em>注：</em></p>\n<ul>\n<li>将 <code>height</code> 设置为 <code>line-height</code> 的整数倍，防止超出的文字露出。</li>\n<li>给 <code>p::after</code> 添加渐变背景可避免文字只显示一半。</li>\n<li>由于 <code>ie6-7</code> 不显示 <code>content</code> 内容，所以要添加标签兼容 <code>ie6-7</code>（如：<code>&lt;span&gt;…&lt;span/&gt;</code>）；兼容 ie8 需要将<code>::after</code> 替换成<code>:after</code>。</li>\n</ul>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","css"],"tags":["css"]},{"title":"TTS（Text To Speah）","url":"/Blog/tts/","content":"<p>在项目中需要对 ajax 请求返回的消息进行语音播报，str 为需要播报的信息（适应于错误信息语音提示等场景）:</p>\n<a id=\"more\"></a>\n\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//语音播报</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">voiceAnnouncements</span>(<span class=\"params\">str</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 百度语音合成：或者使用新版地址https://tsn.baidu.com/text2audio</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> url =</span><br><span class=\"line\">    <span class=\"string\">\"http://tts.baidu.com/text2audio?lan=zh&amp;ie=UTF-8&amp;spd=5&amp;text=\"</span> +</span><br><span class=\"line\">    <span class=\"built_in\">encodeURI</span>(str);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> n = <span class=\"keyword\">new</span> Audio(url);</span><br><span class=\"line\">  n.src = url;</span><br><span class=\"line\">  n.play();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">voiceAnnouncements(<span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">秋名山上路人稀，常有车手较高低；</span></span><br><span class=\"line\"><span class=\"string\">如今车道依旧在，不见当年老司机。</span></span><br><span class=\"line\"><span class=\"string\">司机车技今尚好，前端群里不寂寥；</span></span><br><span class=\"line\"><span class=\"string\">向天再借五百年，誓言各行领风骚。</span></span><br><span class=\"line\"><span class=\"string\">`</span>);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>参数解释：<ul>\n<li>lan：固定值 zh。语言选择,目前只有中英文混合模式，填写固定值 zh</li>\n<li>ie:编码方式</li>\n<li>spd：语速，取值 0-9，默认为 5 中语速</li>\n<li>text：合成的文本，使用 UTF-8 编码。小于 512 个中文字或者英文数字。（文本在百度服务器内转换为 GBK 后，长度必须小于 1024 字节）</li>\n</ul>\n</li>\n<li>React Native Text-To-Speech library for Android and iOS</li>\n<li>用语音控制自己的网站 annyang：A tiny JavaScript Speech Recognition library that lets your users control your site with voice commands.annyang has no dependencies, weighs just 2 KB, and is free to use and modify under the MIT license。</li>\n</ul>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Fun"],"tags":["js"]},{"title":"keyboard-shortcuts-macos","url":"/Blog/vscode/","content":"<!-- [keyboard-shortcuts-macos](keyboard-shortcuts-macos.pdf) -->\n\n<h2><span id=\"download\">Download</span></h2><a href=\"/Blog/vscode/keyboard-shortcuts-macos.pdf\" title=\"keyboard-shortcuts-macos.pdf\">keyboard-shortcuts-macos.pdf</a>\n\n<a id=\"more\"></a>\n\n<!-- ![keyboard-shortcuts-macos](keyboard-shortcuts-macos.png) -->\n\n<img src=\"/Blog/vscode/keyboard-shortcuts-macos.png\" class title=\"keyboard-shortcuts-macos\">\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["工具查询"],"tags":["tool","vscode"]},{"title":"docker-1","url":"/Blog/docker-1/","content":"<h1><span id=\"基本概念\">基本概念</span></h1><p><code>Docker</code> 包括三个基本概念</p>\n<ul>\n<li>镜像（<code>Image</code>）</li>\n<li>容器（<code>Container</code>）</li>\n<li>仓库（<code>Repository</code>）</li>\n</ul>\n<a id=\"more\"></a>\n\n<h2><span id=\"仓库相关\">仓库相关</span></h2><blockquote>\n<p>仓库（Repository）、注册服务器（Registry）、注册索引（Index） 有何关系？</p>\n</blockquote>\n<p>首先，仓库是存放一组关联镜像的集合，比如同一个应用的不同版本的镜像。<br>注册服务器是存放实际的镜像文件的地方。注册索引则负责维护用户的账号、权限、搜索、标签等的管理。因此，注册服务器利用注册索引来实现认证等管理。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#使用docker ps命令获取容器的ID 。</span></span><br><span class=\"line\"> docker ps</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 使用docker stop命令停止容器。</span></span><br><span class=\"line\"><span class=\"comment\"># Swap out &lt;the-container-id&gt; with the ID from docker ps</span></span><br><span class=\"line\"> docker stop &lt;the-container-id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 容器停止后，可以使用以下docker rm命令将其删除。</span></span><br><span class=\"line\"> docker rm &lt;the-container-id&gt;</span><br></pre></td></tr></table></figure>\n\n<p>Docker 镜像（Image），就相当于是一个 root 文件系统。分层存储</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker image</span><br><span class=\"line\">docker container</span><br></pre></td></tr></table></figure>\n\n<p>Docker 镜像 是一个特殊的文件系统，除了提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数（如匿名卷、环境变量、用户等）。镜像 不包含 任何动态数据，其内容在构建之后也不会被改变。</p>\n<p>镜像（Image）和容器（Container）的关系，就像是面向对象程序设计中的 类 和 实例 一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。</p>\n<p>容器的实质是进程，但与直接在宿主执行的进程不同，容器进程运行于属于自己的独立的 命名空间。</p>\n<p>数据卷的生存周期独立于容器，容器消亡，数据卷不会消亡。因此，使用数据卷后，容器删除或者重新运行之后，数据却不会丢失。</p>\n<hr>\n<h2><span id=\"数据卷volume\">数据卷（Volume）</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker volume</span><br></pre></td></tr></table></figure>\n\n<p>数据卷 是一个可供一个或多个容器使用的特殊目录，它绕过 UFS，可以提供很多有用的特性：</p>\n<ul>\n<li>数据卷 可以在容器之间共享和重用</li>\n<li>对 数据卷 的修改会立马生效</li>\n<li>对 数据卷 的更新，不会影响镜像</li>\n<li>数据卷 默认会一直存在，即使容器被删除</li>\n</ul>\n<h3><span id=\"挂载一个主机目录作为数据卷\">挂载一个主机目录作为数据卷</span></h3><p>使用 –mount 标记可以指定挂载一个本地主机的目录到容器中去。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ docker run -d -P --name web --mount type&#x3D;bind,source&#x3D;&#x2F;src&#x2F;webapp,target&#x3D;&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html nginx</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"使用网络\">使用网络</span></h2><p>Docker 允许通过外部访问容器或容器互联的方式来提供网络服务。</p>\n<p>容器中可以运行一些网络应用，要让外部也可以访问这些应用，可以通过 -P 或 -p 参数来指定端口映射。<br>当使用 -P 标记时，Docker 会随机映射一个端口到内部容器开放的网络端口。</p>\n<h2><span id=\"docker-compose\">Docker Compose</span></h2><p>Compose 项目是 Docker 官方的开源项目，负责实现对 Docker 容器集群的快速编排。从功能上看，跟 OpenStack 中的 Heat 十分类似。</p>\n<p>它允许用户通过一个单独的 docker-compose.yml 模板文件（YAML 格式）来定义一组相关联的应用容器为一个项目（project）。<br>Compose 中有两个重要的概念：</p>\n<ul>\n<li>服务 (service)：一个应用的容器，实际上可以包括若干运行相同镜像的容器实例。</li>\n<li>项目 (project)：由一组关联的应用容器组成的一个完整业务单元，在 docker-compose.yml 文件中定义。</li>\n</ul>\n<p>Compose 的默认管理对象是项目，通过子命令对项目中的一组容器进行便捷地生命周期管理。</p>\n<h3><span id=\"compose-模板文件\">Compose 模板文件</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">version: <span class=\"string\">\"3\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">services:</span><br><span class=\"line\">  webapp:</span><br><span class=\"line\">    image: examples/web</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - <span class=\"string\">\"80:80\"</span></span><br><span class=\"line\">    volumes:</span><br><span class=\"line\">      - <span class=\"string\">\"/data\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">  web:</span><br><span class=\"line\">    build: .</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>image</strong> 指定镜像</li>\n<li><strong>build</strong> 指定 Dockerfile 所在文件夹的路径（可以是绝对路径，或者相对 docker-compose.yml 文件的路径）。 Compose 将会利用它自动构建这个镜像，然后使用这个镜像。在 Dockerfile 中设置的选项(例如：CMD, EXPOSE, VOLUME, ENV 等) 将会自动被获取，无需在 docker-compose.yml 中重复设置。<ul>\n<li><strong>context</strong> 指定 Dockerfile 所在文件夹的路径</li>\n<li><strong>dockerfile</strong> 指令指定 Dockerfile 文件名。</li>\n<li><strong>arg</strong> 指令指定构建镜像时的变量。</li>\n<li><strong>cache_from</strong> 指定构建镜像的缓存</li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"swarm\">swarm</span></h2><table>\n<thead>\n<tr>\n<th>Command</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker swarm ca</td>\n<td>Display and rotate the root CA</td>\n</tr>\n<tr>\n<td>docker swarm init</td>\n<td>Initialize a swarm</td>\n</tr>\n<tr>\n<td>docker swarm join</td>\n<td>Join a swarm as a node and/or manager</td>\n</tr>\n<tr>\n<td>docker swarm join-token</td>\n<td>Manage join tokens</td>\n</tr>\n<tr>\n<td>docker swarm leave</td>\n<td>Leave the swarm</td>\n</tr>\n<tr>\n<td>docker swarm unlock</td>\n<td>Unlock swarm</td>\n</tr>\n<tr>\n<td>docker swarm unlock-key</td>\n<td>Manage the unlock key</td>\n</tr>\n<tr>\n<td>docker swarm update</td>\n<td>Update the swarm</td>\n</tr>\n</tbody></table>\n<p>运行 Docker 的主机可以主动初始化一个 Swarm 集群或者加入一个已存在的 Swarm 集群，这样这个运行 Docker 的主机就成为一个 Swarm 集群的节点 (node) 。</p>\n<p>节点分为管理 (manager) 节点和工作 (worker) 节点。</p>\n<p>管理节点用于 Swarm 集群的管理，docker swarm 命令基本只能在管理节点执行（节点退出集群命令 docker swarm leave 可以在工作节点执行）。一个 Swarm 集群可以有多个管理节点，但只有一个管理节点可以成为 leader，leader 通过 raft 协议实现。</p>\n<p>工作节点是任务执行节点，管理节点将服务 (service) 下发至工作节点执行。管理节点默认也作为工作节点。你也可以通过配置让服务只运行在管理节点。</p>\n<p>来自 Docker 官网的这张图片形象的展示了集群中管理节点与工作节点的关系。</p>\n<img src=\"/Blog/docker-1/swarm-diagram.png\" class title=\"swarm-diagram\">\n\n<h3><span id=\"服务和任务\">服务和任务</span></h3><p>任务 （Task）是 Swarm 中的最小的调度单位，目前来说就是一个单一的容器。</p>\n<p>服务 （Services） 是指一组任务的集合，服务定义了任务的属性。服务有两种模式：</p>\n<ul>\n<li>replicated services 按照一定规则在各个工作节点上运行指定个数的任务。</li>\n<li>global services 每个工作节点上运行一个任务</li>\n</ul>\n<p>两种模式通过 docker service create 的 –mode 参数指定。<br>来自 Docker 官网的这张图片形象的展示了容器、任务、服务的关系。</p>\n<img src=\"/Blog/docker-1/services-diagram.png\" class title=\"services-diagram\">\n\n\n<h2><span id=\"构建缓存\">构建缓存</span></h2><p>在镜像的构建过程中，Docker 会遍历 Dockerfile 文件中的指令，然后按顺序执行。在执行每条指令之前，Docker 都会在缓存中查找是否已经存在可重用的镜像，如果有就使用现存的镜像，不再重复创建。如果你不想在构建过程中使用缓存，你可以在 docker build 命令中使用 –no-cache=true 选项。<br>但是，如果你想在构建的过程中使用缓存，你得明白什么时候会，什么时候不会找到匹配的镜像，遵循的基本规则如下：<br>从一个基础镜像开始（FROM 指令指定），下一条指令将和该基础镜像的所有子镜像进行匹配，检查这些子镜像被创建时使用的指令是否和被检查的指令完全一样。如果不是，则缓存失效。在大多数情况下，只需要简单地对比 Dockerfile 中的指令和子镜像。然而，有些指令需要更多的检查和解释。对于 ADD 和 COPY 指令，镜像中对应文件的内容也会被检查，每个文件都会计算出一个校验和。文件的最后修改时间和最后访问时间不会纳入校验。在缓存的查找过程中，会将这些校验和和已存在镜像中的文件校验和进行对比。如果文件有任何改变，比如内容和元数据，则缓存失效。除了 ADD 和 COPY 指令，缓存匹配过程不会查看临时容器中的文件来决定缓存是否匹配。例如，当执行完 RUN apt-get -y update 指令后，容器中一些文件被更新，但 Docker 不会检查这些文件。这种情况下，只有指令字符串本身被用来匹配缓存。<br>一旦缓存失效，所有后续的 Dockerfile 指令都将产生新的镜像，缓存不会被使用。</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Docker"],"tags":["docker"]},{"title":"eslint prettier规则配置说明","url":"/Blog/eslint-rules/","content":"<blockquote>\n<p><a href=\"https://cn.eslint.org/docs/rules/\" target=\"_blank\" rel=\"noopener\">ESLint Rules</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://prettier.io/docs/en/options.html\" target=\"_blank\" rel=\"noopener\">Prettier Options</a></p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1><span id=\"eslint\"><code>eslint</code></span></h1><figure class=\"highlight\"><table><tr><td class=\"code\"><pre><span class=\"line\">\"no-alert\": 0,//禁止使用alert confirm prompt</span><br><span class=\"line\">\"no-array-constructor\": 2,//禁止使用数组构造器</span><br><span class=\"line\">\"no-bitwise\": 0,//禁止使用按位运算符</span><br><span class=\"line\">\"no-caller\": 1,//禁止使用arguments.caller或arguments.callee</span><br><span class=\"line\">\"no-catch-shadow\": 2,//禁止catch子句参数与外部作用域变量同名</span><br><span class=\"line\">\"no-class-assign\": 2,//禁止给类赋值</span><br><span class=\"line\">\"no-cond-assign\": 2,//禁止在条件表达式中使用赋值语句</span><br><span class=\"line\">\"no-console\": 2,//禁止使用console</span><br><span class=\"line\">\"no-const-assign\": 2,//禁止修改const声明的变量</span><br><span class=\"line\">\"no-constant-condition\": 2,//禁止在条件中使用常量表达式 if(true) if(1)</span><br><span class=\"line\">\"no-continue\": 0,//禁止使用continue</span><br><span class=\"line\">\"no-control-regex\": 2,//禁止在正则表达式中使用控制字符</span><br><span class=\"line\">\"no-debugger\": 2,//禁止使用debugger</span><br><span class=\"line\">\"no-delete-var\": 2,//不能对var声明的变量使用delete操作符</span><br><span class=\"line\">\"no-div-regex\": 1,//不能使用看起来像除法的正则表达式/=foo/</span><br><span class=\"line\">\"no-dupe-keys\": 2,//在创建对象字面量时不允许键重复 &#123;a:1,a:1&#125;</span><br><span class=\"line\">\"no-dupe-args\": 2,//函数参数不能重复</span><br><span class=\"line\">\"no-duplicate-case\": 2,//switch中的case标签不能重复</span><br><span class=\"line\">\"no-else-return\": 2,//如果if语句里面有return,后面不能跟else语句</span><br><span class=\"line\">\"no-empty\": 2,//块语句中的内容不能为空</span><br><span class=\"line\">\"no-empty-character-class\": 2,//正则表达式中的[]内容不能为空</span><br><span class=\"line\">\"no-empty-label\": 2,//禁止使用空label</span><br><span class=\"line\">\"no-eq-null\": 2,//禁止对null使用==或!=运算符</span><br><span class=\"line\">\"no-eval\": 1,//禁止使用eval</span><br><span class=\"line\">\"no-ex-assign\": 2,//禁止给catch语句中的异常参数赋值</span><br><span class=\"line\">\"no-extend-native\": 2,//禁止扩展native对象</span><br><span class=\"line\">\"no-extra-bind\": 2,//禁止不必要的函数绑定</span><br><span class=\"line\">\"no-extra-boolean-cast\": 2,//禁止不必要的bool转换</span><br><span class=\"line\">\"no-extra-parens\": 2,//禁止非必要的括号</span><br><span class=\"line\">\"no-extra-semi\": 2,//禁止多余的冒号</span><br><span class=\"line\">\"no-fallthrough\": 1,//禁止switch穿透</span><br><span class=\"line\">\"no-floating-decimal\": 2,//禁止省略浮点数中的0 .5 3.</span><br><span class=\"line\">\"no-func-assign\": 2,//禁止重复的函数声明</span><br><span class=\"line\">\"no-implicit-coercion\": 1,//禁止隐式转换</span><br><span class=\"line\">\"no-implied-eval\": 2,//禁止使用隐式eval</span><br><span class=\"line\">\"no-inline-comments\": 0,//禁止行内备注</span><br><span class=\"line\">\"no-inner-declarations\": [2, \"functions\"],//禁止在块语句中使用声明（变量或函数）</span><br><span class=\"line\">\"no-invalid-regexp\": 2,//禁止无效的正则表达式</span><br><span class=\"line\">\"no-invalid-this\": 2,//禁止无效的this，只能用在构造器，类，对象字面量</span><br><span class=\"line\">\"no-irregular-whitespace\": 2,//不能有不规则的空格</span><br><span class=\"line\">\"no-iterator\": 2,//禁止使用__iterator__ 属性</span><br><span class=\"line\">\"no-label-var\": 2,//label名不能与var声明的变量名相同</span><br><span class=\"line\">\"no-labels\": 2,//禁止标签声明</span><br><span class=\"line\">\"no-lone-blocks\": 2,//禁止不必要的嵌套块</span><br><span class=\"line\">\"no-lonely-if\": 2,//禁止else语句内只有if语句</span><br><span class=\"line\">\"no-loop-func\": 1,//禁止在循环中使用函数（如果没有引用外部变量不形成闭包就可以）</span><br><span class=\"line\">\"no-mixed-requires\": [0, false],//声明时不能混用声明类型</span><br><span class=\"line\">\"no-mixed-spaces-and-tabs\": [2, false],//禁止混用tab和空格</span><br><span class=\"line\">\"linebreak-style\": [0, \"windows\"],//换行风格</span><br><span class=\"line\">\"no-multi-spaces\": 1,//不能用多余的空格</span><br><span class=\"line\">\"no-multi-str\": 2,//字符串不能用\\换行</span><br><span class=\"line\">\"no-multiple-empty-lines\": [1, &#123;\"max\": 2&#125;],//空行最多不能超过2行</span><br><span class=\"line\">\"no-native-reassign\": 2,//不能重写native对象</span><br><span class=\"line\">\"no-negated-in-lhs\": 2,//in 操作符的左边不能有!</span><br><span class=\"line\">\"no-nested-ternary\": 0,//禁止使用嵌套的三目运算</span><br><span class=\"line\">\"no-new\": 1,//禁止在使用new构造一个实例后不赋值</span><br><span class=\"line\">\"no-new-func\": 1,//禁止使用new Function</span><br><span class=\"line\">\"no-new-object\": 2,//禁止使用new Object()</span><br><span class=\"line\">\"no-new-require\": 2,//禁止使用new require</span><br><span class=\"line\">\"no-new-wrappers\": 2,//禁止使用new创建包装实例，new String new Boolean new Number</span><br><span class=\"line\">\"no-obj-calls\": 2,//不能调用内置的全局对象，比如Math() JSON()</span><br><span class=\"line\">\"no-octal\": 2,//禁止使用八进制数字</span><br><span class=\"line\">\"no-octal-escape\": 2,//禁止使用八进制转义序列</span><br><span class=\"line\">\"no-param-reassign\": 2,//禁止给参数重新赋值</span><br><span class=\"line\">\"no-path-concat\": 0,//node中不能使用__dirname或__filename做路径拼接</span><br><span class=\"line\">\"no-plusplus\": 0,//禁止使用++，--</span><br><span class=\"line\">\"no-process-env\": 0,//禁止使用process.env</span><br><span class=\"line\">\"no-process-exit\": 0,//禁止使用process.exit()</span><br><span class=\"line\">\"no-proto\": 2,//禁止使用__proto__属性</span><br><span class=\"line\">\"no-redeclare\": 2,//禁止重复声明变量</span><br><span class=\"line\">\"no-regex-spaces\": 2,//禁止在正则表达式字面量中使用多个空格 /foo bar/</span><br><span class=\"line\">\"no-restricted-modules\": 0,//如果禁用了指定模块，使用就会报错</span><br><span class=\"line\">\"no-return-assign\": 1,//return 语句中不能有赋值表达式</span><br><span class=\"line\">\"no-script-url\": 0,//禁止使用javascript:void(0)</span><br><span class=\"line\">\"no-self-compare\": 2,//不能比较自身</span><br><span class=\"line\">\"no-sequences\": 0,//禁止使用逗号运算符</span><br><span class=\"line\">\"no-shadow\": 2,//外部作用域中的变量不能与它所包含的作用域中的变量或参数同名</span><br><span class=\"line\">\"no-shadow-restricted-names\": 2,//严格模式中规定的限制标识符不能作为声明时的变量名使用</span><br><span class=\"line\">\"no-spaced-func\": 2,//函数调用时 函数名与()之间不能有空格</span><br><span class=\"line\">\"no-sparse-arrays\": 2,//禁止稀疏数组， [1,,2]</span><br><span class=\"line\">\"no-sync\": 0,//nodejs 禁止同步方法</span><br><span class=\"line\">\"no-ternary\": 0,//禁止使用三目运算符</span><br><span class=\"line\">\"no-trailing-spaces\": 1,//一行结束后面不要有空格</span><br><span class=\"line\">\"no-this-before-super\": 0,//在调用super()之前不能使用this或super</span><br><span class=\"line\">\"no-throw-literal\": 2,//禁止抛出字面量错误 throw \"error\";</span><br><span class=\"line\">\"no-undef\": 1,//不能有未定义的变量</span><br><span class=\"line\">\"no-undef-init\": 2,//变量初始化时不能直接给它赋值为undefined</span><br><span class=\"line\">\"no-undefined\": 2,//不能使用undefined</span><br><span class=\"line\">\"no-unexpected-multiline\": 2,//避免多行表达式</span><br><span class=\"line\">\"no-underscore-dangle\": 1,//标识符不能以_开头或结尾</span><br><span class=\"line\">\"no-unneeded-ternary\": 2,//禁止不必要的嵌套 var isYes = answer === 1 ? true : false;</span><br><span class=\"line\">\"no-unreachable\": 2,//不能有无法执行的代码</span><br><span class=\"line\">\"no-unused-expressions\": 2,//禁止无用的表达式</span><br><span class=\"line\">\"no-unused-vars\": [2, &#123;\"vars\": \"all\", \"args\": \"after-used\"&#125;],//不能有声明后未被使用的变量或参数</span><br><span class=\"line\">\"no-use-before-define\": 2,//未定义前不能使用</span><br><span class=\"line\">\"no-useless-call\": 2,//禁止不必要的call和apply</span><br><span class=\"line\">\"no-void\": 2,//禁用void操作符</span><br><span class=\"line\">\"no-var\": 0,//禁用var，用let和const代替</span><br><span class=\"line\">\"no-warning-comments\": [1, &#123; \"terms\": [\"todo\", \"fixme\", \"xxx\"], \"location\": \"start\" &#125;],//不能有警告备注</span><br><span class=\"line\">\"no-with\": 2,//禁用with</span><br><span class=\"line\"></span><br><span class=\"line\">\"array-bracket-spacing\": [2, \"never\"],//是否允许非空数组里面有多余的空格</span><br><span class=\"line\">\"arrow-parens\": 0,//箭头函数用小括号括起来</span><br><span class=\"line\">\"arrow-spacing\": 0,//=&gt;的前/后括号</span><br><span class=\"line\">\"accessor-pairs\": 0,//在对象中使用getter/setter</span><br><span class=\"line\">\"block-scoped-var\": 0,//块语句中使用var</span><br><span class=\"line\">\"brace-style\": [1, \"1tbs\"],//大括号风格</span><br><span class=\"line\">\"callback-return\": 1,//避免多次调用回调什么的</span><br><span class=\"line\">\"camelcase\": 2,//强制驼峰法命名</span><br><span class=\"line\">\"comma-dangle\": [2, \"never\"],//对象字面量项尾不能有逗号</span><br><span class=\"line\">\"comma-spacing\": 0,//逗号前后的空格</span><br><span class=\"line\">\"comma-style\": [2, \"last\"],//逗号风格，换行时在行首还是行尾</span><br><span class=\"line\">\"complexity\": [0, 11],//循环复杂度</span><br><span class=\"line\">\"computed-property-spacing\": [0, \"never\"],//是否允许计算后的键名什么的</span><br><span class=\"line\">\"consistent-return\": 0,//return 后面是否允许省略</span><br><span class=\"line\">\"consistent-this\": [2, \"that\"],//this别名</span><br><span class=\"line\">\"constructor-super\": 0,//非派生类不能调用super，派生类必须调用super</span><br><span class=\"line\">\"curly\": [2, \"all\"],//必须使用 if()&#123;&#125; 中的&#123;&#125;</span><br><span class=\"line\">\"default-case\": 2,//switch语句最后必须有default</span><br><span class=\"line\">\"dot-location\": 0,//对象访问符的位置，换行的时候在行首还是行尾</span><br><span class=\"line\">\"dot-notation\": [0, &#123; \"allowKeywords\": true &#125;],//避免不必要的方括号</span><br><span class=\"line\">\"eol-last\": 0,//文件以单一的换行符结束</span><br><span class=\"line\">\"eqeqeq\": 2,//必须使用全等</span><br><span class=\"line\">\"func-names\": 0,//函数表达式必须有名字</span><br><span class=\"line\">\"func-style\": [0, \"declaration\"],//函数风格，规定只能使用函数声明/函数表达式</span><br><span class=\"line\">\"generator-star-spacing\": 0,//生成器函数*的前后空格</span><br><span class=\"line\">\"guard-for-in\": 0,//for in循环要用if语句过滤</span><br><span class=\"line\">\"handle-callback-err\": 0,//nodejs 处理错误</span><br><span class=\"line\">\"id-length\": 0,//变量名长度</span><br><span class=\"line\">\"indent\": [2, 4],//缩进风格</span><br><span class=\"line\">\"init-declarations\": 0,//声明时必须赋初值</span><br><span class=\"line\">\"key-spacing\": [0, &#123; \"beforeColon\": false, \"afterColon\": true &#125;],//对象字面量中冒号的前后空格</span><br><span class=\"line\">\"lines-around-comment\": 0,//行前/行后备注</span><br><span class=\"line\">\"max-depth\": [0, 4],//嵌套块深度</span><br><span class=\"line\">\"max-len\": [0, 80, 4],//字符串最大长度</span><br><span class=\"line\">\"max-nested-callbacks\": [0, 2],//回调嵌套深度</span><br><span class=\"line\">\"max-params\": [0, 3],//函数最多只能有3个参数</span><br><span class=\"line\">\"max-statements\": [0, 10],//函数内最多有几个声明</span><br><span class=\"line\">\"new-cap\": 2,//函数名首行大写必须使用new方式调用，首行小写必须用不带new方式调用</span><br><span class=\"line\">\"new-parens\": 2,//new时必须加小括号</span><br><span class=\"line\">\"newline-after-var\": 2,//变量声明后是否需要空一行</span><br><span class=\"line\">\"object-curly-spacing\": [0, \"never\"],//大括号内是否允许不必要的空格</span><br><span class=\"line\">\"object-shorthand\": 0,//强制对象字面量缩写语法</span><br><span class=\"line\">\"one-var\": 1,//连续声明</span><br><span class=\"line\">\"operator-assignment\": [0, \"always\"],//赋值运算符 += -=什么的</span><br><span class=\"line\">\"operator-linebreak\": [2, \"after\"],//换行时运算符在行尾还是行首</span><br><span class=\"line\">\"padded-blocks\": 0,//块语句内行首行尾是否要空行</span><br><span class=\"line\">\"prefer-const\": 0,//首选const</span><br><span class=\"line\">\"prefer-spread\": 0,//首选展开运算</span><br><span class=\"line\">\"prefer-reflect\": 0,//首选Reflect的方法</span><br><span class=\"line\">\"quotes\": [1, \"single\"],//引号类型 `` \"\" ''</span><br><span class=\"line\">\"quote-props\":[2, \"always\"],//对象字面量中的属性名是否强制双引号</span><br><span class=\"line\">\"radix\": 2,//parseInt必须指定第二个参数</span><br><span class=\"line\">\"id-match\": 0,//命名检测</span><br><span class=\"line\">\"require-yield\": 0,//生成器函数必须有yield</span><br><span class=\"line\">\"semi\": [2, \"always\"],//语句强制分号结尾</span><br><span class=\"line\">\"semi-spacing\": [0, &#123;\"before\": false, \"after\": true&#125;],//分号前后空格</span><br><span class=\"line\">\"sort-vars\": 0,//变量声明时排序</span><br><span class=\"line\">\"space-after-keywords\": [0, \"always\"],//关键字后面是否要空一格</span><br><span class=\"line\">\"space-before-blocks\": [0, \"always\"],//不以新行开始的块&#123;前面要不要有空格</span><br><span class=\"line\">\"space-before-function-paren\": [0, \"always\"],//函数定义时括号前面要不要有空格</span><br><span class=\"line\">\"space-in-parens\": [0, \"never\"],//小括号里面要不要有空格</span><br><span class=\"line\">\"space-infix-ops\": 0,//中缀操作符周围要不要有空格</span><br><span class=\"line\">\"space-return-throw-case\": 2,//return throw case后面要不要加空格</span><br><span class=\"line\">\"space-unary-ops\": [0, &#123; \"words\": true, \"nonwords\": false &#125;],//一元运算符的前/后要不要加空格</span><br><span class=\"line\">\"spaced-comment\": 0,//注释风格要不要有空格什么的</span><br><span class=\"line\">\"strict\": 2,//使用严格模式</span><br><span class=\"line\">\"use-isnan\": 2,//禁止比较时使用NaN，只能用isNaN()</span><br><span class=\"line\">\"valid-jsdoc\": 0,//jsdoc规则</span><br><span class=\"line\">\"valid-typeof\": 2,//必须使用合法的typeof的值</span><br><span class=\"line\">\"vars-on-top\": 2,//var必须放在作用域顶部</span><br><span class=\"line\">\"wrap-iife\": [2, \"inside\"],//立即执行函数表达式的小括号风格</span><br><span class=\"line\">\"wrap-regex\": 0,//正则表达式字面量用小括号包起来</span><br><span class=\"line\">\"yoda\": [2, \"never\"]//禁止尤达条件</span><br></pre></td></tr></table></figure>\n\n<h1><span id=\"prettier\">Prettier</span></h1><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 使能每一种语言默认格式化规则</span></span><br><span class=\"line\">  <span class=\"attr\">\"[html]\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"editor.defaultFormatter\"</span>: <span class=\"string\">\"esbenp.prettier-vscode\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"[css]\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"editor.defaultFormatter\"</span>: <span class=\"string\">\"esbenp.prettier-vscode\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"[less]\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"editor.defaultFormatter\"</span>: <span class=\"string\">\"esbenp.prettier-vscode\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"[javascript]\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"editor.defaultFormatter\"</span>: <span class=\"string\">\"esbenp.prettier-vscode\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*  prettier的配置 */</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.printWidth\"</span>: <span class=\"number\">100</span>, <span class=\"comment\">// 超过最大值换行</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.tabWidth\"</span>: <span class=\"number\">4</span>, <span class=\"comment\">// 缩进字节数</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.useTabs\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// 缩进不使用tab，使用空格</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.semi\"</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 句尾添加分号</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.singleQuote\"</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 使用单引号代替双引号</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.proseWrap\"</span>: <span class=\"string\">\"preserve\"</span>, <span class=\"comment\">// 默认值。因为使用了一些折行敏感型的渲染器（如GitHub comment）而按照markdown文本样式进行折行</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.arrowParens\"</span>: <span class=\"string\">\"avoid\"</span>, <span class=\"comment\">//  (x) =&gt; &#123;&#125; 箭头函数参数只有一个时是否要有小括号。avoid：省略括号</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.bracketSpacing\"</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 在对象，数组括号与文字之间加空格 \"&#123; foo: bar &#125;\"</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.disableLanguages\"</span>: [<span class=\"string\">\"vue\"</span>], <span class=\"comment\">// 不格式化vue文件，vue文件的格式化单独设置</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.endOfLine\"</span>: <span class=\"string\">\"auto\"</span>, <span class=\"comment\">// 结尾是 \\n \\r \\n\\r auto</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.eslintIntegration\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">//不让prettier使用eslint的代码格式进行校验</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.htmlWhitespaceSensitivity\"</span>: <span class=\"string\">\"ignore\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"prettier.ignorePath\"</span>: <span class=\"string\">\".prettierignore\"</span>, <span class=\"comment\">// 不使用prettier格式化的文件填写在项目的.prettierignore文件中</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.jsxBracketSameLine\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// 在jsx中把'&gt;' 是否单独放一行</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.jsxSingleQuote\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// 在jsx中使用单引号代替双引号</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.parser\"</span>: <span class=\"string\">\"babylon\"</span>, <span class=\"comment\">// 格式化的解析器，默认是babylon</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.requireConfig\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// Require a 'prettierconfig' to format prettier</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.stylelintIntegration\"</span>: <span class=\"literal\">false</span>, <span class=\"comment\">//不让prettier使用stylelint的代码格式进行校验</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.trailingComma\"</span>: <span class=\"string\">\"es5\"</span>, <span class=\"comment\">// 在对象或数组最后一个元素后面是否加逗号（在ES5中加尾逗号）</span></span><br><span class=\"line\">  <span class=\"attr\">\"prettier.tslintIntegration\"</span>: <span class=\"literal\">false</span> <span class=\"comment\">// 不让prettier使用tslint的代码格式进行校验</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front"],"tags":["eslint"]},{"title":"mobx-state-tree","url":"/Blog/mobx-state-tree/","content":"<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">.model</span><br><span class=\"line\">.views</span><br><span class=\"line\">.volatile</span><br><span class=\"line\">.actions</span><br></pre></td></tr></table></figure>\n\n<a id=\"more\"></a>\n\n<h1><span id=\"mobx-state-tree\">mobx-state-tree</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#model\">model</a><ul>\n<li><a href=\"#modelvolatile\"><code>model.volatile</code></a></li>\n</ul>\n</li>\n<li><a href=\"#types\">types</a><ul>\n<li><a href=\"#复杂类型\">复杂类型</a></li>\n<li><a href=\"#原始类型\">原始类型</a></li>\n<li><a href=\"#实用程序类型\">实用程序类型</a><ul>\n<li><a href=\"#typesidentifier\"><code>types.identifier</code></a></li>\n<li><a href=\"#typesrefinement\"><code>types.refinement</code></a></li>\n<li><a href=\"#typesreference\"><code>types.reference</code></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#actions\">actions</a></li>\n</ul>\n<!-- tocstop -->\n\n<hr>\n<p>types.model 创建一个可链接的模型类型，其中每个链接的方法都会产生一个新的类型：</p>\n<ul>\n<li><strong><code>named(name)</code></strong> 克隆当前类型，但是给它一个新名称</li>\n<li><strong><code>props(props)</code></strong> 根据当前类型生成一个新类型，并添加/覆盖指定的属性</li>\n<li><strong><code>actions(self =&gt; object literal with actions)</code></strong> 根据当前类型生成一种新类型，并添加/覆盖指定的操作</li>\n<li><strong><code>views(self =&gt; object literal with view functions)</code></strong> 根据当前类型生成一种新类型，并添加/覆盖指定的视图函数</li>\n<li><strong><code>preProcessSnapshot(snapshot =&gt; snapshot)</code></strong>可用于在实例化新模型之前对原始JSON进行预处理。请参阅生命周期挂钩或其他types.snapshotProcessor</li>\n<li><strong><code>postProcessSnapshot(snapshot =&gt; snapshot)</code></strong>可用于在获取模型快照之前对原始JSON进行后处理。请参阅生命周期挂钩或其他types.snapshotProcessor</li>\n</ul>\n<hr>\n<h1><span id=\"model\">model</span></h1><h2><span id=\"modelvolatile\"><code>model.volatile</code></span></h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Todo = types</span><br><span class=\"line\">    .model(&#123;&#125;)</span><br><span class=\"line\">    .volatile(<span class=\"function\"><span class=\"params\">self</span> =&gt;</span> (&#123;</span><br><span class=\"line\">        localState: <span class=\"number\">3</span></span><br><span class=\"line\">    &#125;))</span><br><span class=\"line\">    .actions(<span class=\"function\"><span class=\"params\">self</span> =&gt;</span> (&#123;</span><br><span class=\"line\">        setX(value) &#123;</span><br><span class=\"line\">            self.localState = value</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;))</span><br></pre></td></tr></table></figure>\n<p>从volatile初始化函数返回的对象可以包含任何数据，并将导致具有相同名称的实例属性。挥发性特性具有以下特征：</p>\n<ol>\n<li>可以从模型外部读取它们（如果您想要隐藏的易失性状态，请如上一节中所述将其保留在闭包中，并且仅当未在视图中使用该状态时，才考虑使其不可观察）。</li>\n<li>易挥发的属性将仅可观察，请参见可观察的参考资料。分配给它们的值将保持不变，并且不会自动转换为可观察的深层结构。</li>\n<li>像普通属性一样，只能通过操作对其进行修改</li>\n<li>易挥发的道具不会显示在快照中，也无法通过应用快照进行更新</li>\n<li>在实例的生命周期中保留了易挥发的道具。另请参阅对帐</li>\n<li>易失性道具的更改不会显示在补丁或快照流中</li>\n<li>当前不支持在由返回的对象中定义getters / setter方法 volatile</li>\n</ol>\n<h1><span id=\"types\">types</span></h1><h2><span id=\"复杂类型\">复杂类型</span></h2><ul>\n<li><strong><code>types.model(properties, actions)</code></strong> 定义一个“类似”类型，该类具有在对象上操作的属性和操作。</li>\n<li><strong><code>types.array(type)</code></strong> 声明指定类型的数组。</li>\n<li><strong><code>types.map(type)</code></strong> 声明指定类型的映射。</li>\n</ul>\n<p><strong>请注意，由于MST v3types.array和MSTtypes.map在types.optional默认情况下是自动包装的，因此分别将[]和{}设置为其默认值。</strong></p>\n<h2><span id=\"原始类型\">原始类型</span></h2><ul>\n<li><strong><code>types.string</code></strong></li>\n<li><strong><code>types.number</code></strong></li>\n<li><strong><code>types.integer</code></strong></li>\n<li><strong><code>types.boolean</code></strong></li>\n<li><strong><code>types.Date</code></strong></li>\n<li><strong><code>types.custom</code></strong>创建一个自定义基本类型。这对于定义自己的类型很有用，这些类型可以将序列化表格一对一映射到不可变的对象（如Decimal或Date）。</li>\n</ul>\n<h2><span id=\"实用程序类型\">实用程序类型</span></h2><ul>\n<li><strong><code>types.union(options?: { dispatcher?: (snapshot) =&gt; Type, eager?: boolean }, types...)</code></strong>创建多种类型的联合。如果无法从快照中明确推断出正确的类型，请提供调度程序功能来确定类型。当eagerflag设置为true（默认）时-将使用第一个匹配类型，如果将其设置为false类型检查，则仅在完全匹配1个类型时通过。</li>\n<li><strong><code>types.optional(type, defaultValue, optionalValues?)</code></strong>将值标记为可选（例如在模型中）。如果未提供值undefined（或设置为作为可选optionalValues数组传递的任何原始值），defaultValue则将使用它。如果defaultValue为函数，则将对其进行评估。创建时可用于生成ID或时间戳。</li>\n<li><strong><code>types.literal(value)</code></strong>可用于创建文字类型，其中唯一可能的值就是该值。与unions结合使用时，功能非常强大。例如temperature: types.union(types.literal(“hot”), types.literal(“cold”))。</li>\n<li><strong><code>types.enumeration(name?, options: string[])</code></strong>创建一个枚举。此方法是字符串文字的并集的简写形式。如果您使用的是Typescript，并且想基于字符串枚举（例如enum Color { … }）创建类型，请使用types.enumeration<color>(“Color”, Object.values(Color))，其中”Color”name参数是可选的。</color></li>\n<li><strong><code>types.refinement(name?, baseType, (snapshot) =&gt; boolean)</code></strong>创建比基本类型更具体的类型，例如types.refinement(types.string, value =&gt; value.length &gt; 5)，创建只能长于5的字符串类型。</li>\n<li><strong><code>types.maybe(type)</code></strong>使类型成为可选且可为null的简写形式types.optional(types.union(type, types.literal(undefined)), undefined)。</li>\n<li><strong><code>types.maybeNull(type)</code></strong>类似于maybe，但用于null表示缺少值。</li>\n<li><strong><code>types.null</code></strong>的类型null。</li>\n<li><strong><code>types.undefined</code></strong>的类型undefined。</li>\n<li><strong><code>types.late(() =&gt; type)</code></strong> 可以用于创建递归或循环类型，或者以这样的方式分布在文件上的类型：否则文件之间的循环依赖关系将成为一个问题。</li>\n<li><strong><code>types.frozen(subType? | defaultValue?)</code></strong>接受任何类型的可序列化的值（原始的和复杂的），但假定该值本身是不可变的且可序列化的。 frozen可以通过几种不同的方式调用：<ul>\n<li><code>types.frozen()</code> -行为与MST 2中的types.frozen相同。</li>\n<li><code>types.frozen(subType)</code>-提供有效的MST类型，然后冻结将检查提供的数据是否符合该类型的快照。请注意，该类型实际上不会实例化，因此只能用于检查数据的形状。向SubType添加视图或动作将毫无意义。</li>\n<li><code>types.frozen(someDefaultValue)</code> -提供原始值，对象或数组，MST将根据该对象推断类型，并将其设置为字段的默认值</li>\n<li>（打字稿）<code>types.frozen&lt;TypeScriptType&gt;(...)</code>-提供打字稿类型，以帮助强力键入字段（仅设计时）</li>\n</ul>\n</li>\n<li><strong><code>types.compose(name?, type1...typeX)</code></strong>，通过采用一堆现有类型并将它们组合成一个新模型来创建新模型类型。</li>\n<li><strong><code>types.reference(targetType)</code></strong>创建一个属性，该属性引用targetType同一棵树中某处给定项的另一个项。有关更多详细信息，请参见参考。</li>\n<li><strong><code>types.safeReference(targetType)</code></strong>类似于标准引用，不同之处在于它默认情况下接受未定义的值并自动将其自身设置为未定义（当父级是模型时）/当其指向的引用被分离/销毁时，将自身从数组和映射中移除。有关更多详细信息，请参见参考。</li>\n<li><strong><code>types.snapshotProcessor(type, processors, name?)</code></strong>在序列化给定类型之前/之后运行快照前/快照后处理器。例子：</li>\n</ul>\n<hr>\n<h3><span id=\"typesidentifier\"><code>types.identifier</code></span></h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Todo = types.model(&#123;</span><br><span class=\"line\">  id: types.identifier,</span><br><span class=\"line\">  title: types.string,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> TodoStore = types.model(&#123;</span><br><span class=\"line\">  todos: types.array(Todo),</span><br><span class=\"line\">  selectedTodo: types.reference(Todo),</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// create a store with a normalized snapshot</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> storeInstance = TodoStore.create(&#123;</span><br><span class=\"line\">  todos: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      id: <span class=\"string\">\"47\"</span>,</span><br><span class=\"line\">      title: <span class=\"string\">\"Get coffee\"</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  selectedTodo: <span class=\"string\">\"47\"</span>,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// because `selectedTodo` is declared to be a reference, it returns the actual Todo node with the matching identifier</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(storeInstance.selectedTodo.title);</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"typesrefinement\"><code>types.refinement</code></span></h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Car = types.model(<span class=\"string\">\"Car\"</span>, &#123;</span><br><span class=\"line\">    id: types.refinement(types.identifier, identifier =&gt; identifier.indexOf(<span class=\"string\">\"Car_\"</span>) === <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n\n<h3><span id=\"typesreference\"><code>types.reference</code></span></h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> User = types.model(&#123;</span><br><span class=\"line\">    id: types.identifier,</span><br><span class=\"line\">    name: types.string</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> UserByNameReference = types.maybeNull(</span><br><span class=\"line\">    types.reference(User, &#123;</span><br><span class=\"line\">        <span class=\"comment\">// given an identifier, find the user</span></span><br><span class=\"line\">        <span class=\"keyword\">get</span>(identifier /* string */, parent: any /*Store*/) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> parent.users.find(<span class=\"function\"><span class=\"params\">u</span> =&gt;</span> u.name === identifier) || <span class=\"literal\">null</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// given a user, produce the identifier that should be stored</span></span><br><span class=\"line\">        <span class=\"keyword\">set</span>(value /* User */) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> value.name</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> Store = types.model(&#123;</span><br><span class=\"line\">    users: types.array(User),</span><br><span class=\"line\">    selection: UserByNameReference</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> s = Store.create(&#123;</span><br><span class=\"line\">    users: [&#123; <span class=\"attr\">id</span>: <span class=\"string\">\"1\"</span>, <span class=\"attr\">name</span>: <span class=\"string\">\"Michel\"</span> &#125;, &#123; <span class=\"attr\">id</span>: <span class=\"string\">\"2\"</span>, <span class=\"attr\">name</span>: <span class=\"string\">\"Mattia\"</span> &#125;],</span><br><span class=\"line\">    selection: <span class=\"string\">\"Mattia\"</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h1><span id=\"actions\">actions</span></h1><ul>\n<li>onAction 侦听在模型或其任何后代上调用的任何操作。</li>\n<li>addMiddleware 将拦截器功能添加到在子树上调用的任何操作。</li>\n<li>applyAction 根据给定的动作描述在模型上调用动作</li>\n</ul>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","js"],"tags":["js","mobx"]},{"title":"webpack 配置","url":"/Blog/webpack%E9%85%8D%E7%BD%AE/","content":"<ul>\n<li><a href=\"https://www.webpackjs.com/configuration/\" target=\"_blank\" rel=\"noopener\"><strong><code>webpack</code>中文网</strong></a></li>\n</ul>\n<a id=\"more\"></a>\n\n<hr>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  mode: <span class=\"string\">\"production\"</span>, <span class=\"comment\">// \"production\" | \"development\" | \"none\"</span></span><br><span class=\"line\">  mode: <span class=\"string\">\"production\"</span>, <span class=\"comment\">// enable many optimizations for production builds</span></span><br><span class=\"line\">  mode: <span class=\"string\">\"development\"</span>, <span class=\"comment\">// enabled useful tools for development</span></span><br><span class=\"line\">  mode: <span class=\"string\">\"none\"</span>, <span class=\"comment\">// no defaults</span></span><br><span class=\"line\">  <span class=\"comment\">// Chosen mode tells webpack to use its built-in optimizations accordingly.</span></span><br><span class=\"line\"></span><br><span class=\"line\">  entry: <span class=\"string\">\"./app/entry\"</span>, <span class=\"comment\">// string | object | array</span></span><br><span class=\"line\">  entry: [<span class=\"string\">\"./app/entry1\"</span>, <span class=\"string\">\"./app/entry2\"</span>],</span><br><span class=\"line\">  entry: &#123;</span><br><span class=\"line\">    a: <span class=\"string\">\"./app/entry-a\"</span>,</span><br><span class=\"line\">    b: [<span class=\"string\">\"./app/entry-b1\"</span>, <span class=\"string\">\"./app/entry-b2\"</span>]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 这里应用程序开始执行</span></span><br><span class=\"line\">  <span class=\"comment\">// webpack 开始打包</span></span><br><span class=\"line\"></span><br><span class=\"line\">  output: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// webpack 如何输出结果的相关选项</span></span><br><span class=\"line\"></span><br><span class=\"line\">    path: path.resolve(__dirname, <span class=\"string\">\"dist\"</span>), <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// 所有输出文件的目标路径</span></span><br><span class=\"line\">    <span class=\"comment\">// 必须是绝对路径（使用 Node.js 的 path 模块）</span></span><br><span class=\"line\"></span><br><span class=\"line\">    filename: <span class=\"string\">\"bundle.js\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[name].js\"</span>, <span class=\"comment\">// 用于多个入口点(entry point)（出口点？）</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[chunkhash].js\"</span>, <span class=\"comment\">// 用于长效缓存</span></span><br><span class=\"line\">    <span class=\"comment\">// 「入口分块(entry chunk)」的文件名模板（出口分块？）</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[name].bundle.js\"</span>, <span class=\"comment\">// 使用入口名称：</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[id].bundle.js\"</span>, <span class=\"comment\">// 使用内部 chunk id</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[name].[hash].bundle.js\"</span>,<span class=\"comment\">// 使用每次构建过程中，唯一的 hash 生成</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"[chunkhash].bundle.js\"</span>,<span class=\"comment\">// 使用基于每个 chunk 内容的 hash：</span></span><br><span class=\"line\"></span><br><span class=\"line\">    publicPath: <span class=\"string\">\"/assets/\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    publicPath: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">    publicPath: <span class=\"string\">\"https://cdn.example.com/\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 输出解析文件的目录，url 相对于 HTML 页面</span></span><br><span class=\"line\"></span><br><span class=\"line\">    library: <span class=\"string\">\"MyLibrary\"</span>, <span class=\"comment\">// string,</span></span><br><span class=\"line\">    <span class=\"comment\">// 导出库(exported library)的名称</span></span><br><span class=\"line\"></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"umd\"</span>, <span class=\"comment\">// 通用模块定义</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"umd2\"</span>, <span class=\"comment\">// 通用模块定义</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"commonjs2\"</span>, <span class=\"comment\">// exported with module.exports</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"commonjs-module\"</span>, <span class=\"comment\">// 使用 module.exports 导出</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"commonjs\"</span>, <span class=\"comment\">// 作为 exports 的属性导出</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"amd\"</span>, <span class=\"comment\">// 使用 AMD 定义方法来定义</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"this\"</span>, <span class=\"comment\">// 在 this 上设置属性</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"var\"</span>, <span class=\"comment\">// 变量定义于根作用域下</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"assign\"</span>, <span class=\"comment\">// 盲分配(blind assignment)</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"window\"</span>, <span class=\"comment\">// 在 window 对象上设置属性</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"global\"</span>, <span class=\"comment\">// property set to global object</span></span><br><span class=\"line\">    libraryTarget: <span class=\"string\">\"jsonp\"</span>, <span class=\"comment\">// jsonp wrapper</span></span><br><span class=\"line\">    <span class=\"comment\">// 导出库(exported library)的类型</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* 高级输出配置（点击显示） */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    pathinfo: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">    <span class=\"comment\">// 在生成代码时，引入相关的模块、导出、请求等有帮助的路径信息。</span></span><br><span class=\"line\"></span><br><span class=\"line\">    chunkFilename: <span class=\"string\">\"[id].js\"</span>,</span><br><span class=\"line\">    chunkFilename: <span class=\"string\">\"[chunkhash].js\"</span>, <span class=\"comment\">// 长效缓存(/guides/caching)</span></span><br><span class=\"line\">    <span class=\"comment\">// 「附加分块(additional chunk)」的文件名模板</span></span><br><span class=\"line\"></span><br><span class=\"line\">    jsonpFunction: <span class=\"string\">\"myWebpackJsonp\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// 用于加载分块的 JSONP 函数名</span></span><br><span class=\"line\"></span><br><span class=\"line\">    sourceMapFilename: <span class=\"string\">\"[file].map\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    sourceMapFilename: <span class=\"string\">\"sourcemaps/[file].map\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// 「source map 位置」的文件名模板</span></span><br><span class=\"line\"></span><br><span class=\"line\">    devtoolModuleFilenameTemplate: <span class=\"string\">\"webpack:///[resource-path]\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// 「devtool 中模块」的文件名模板</span></span><br><span class=\"line\"></span><br><span class=\"line\">    devtoolFallbackModuleFilenameTemplate: <span class=\"string\">\"webpack:///[resource-path]?[hash]\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// 「devtool 中模块」的文件名模板（用于冲突）</span></span><br><span class=\"line\"></span><br><span class=\"line\">    umdNamedDefine: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">    <span class=\"comment\">// 在 UMD 库中使用命名的 AMD 模块</span></span><br><span class=\"line\"></span><br><span class=\"line\">    crossOriginLoading: <span class=\"string\">\"use-credentials\"</span>, <span class=\"comment\">// 枚举</span></span><br><span class=\"line\">    crossOriginLoading: <span class=\"string\">\"anonymous\"</span>,</span><br><span class=\"line\">    crossOriginLoading: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 指定运行时如何发出跨域请求问题</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* 专家级输出配置（自行承担风险） */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    devtoolLineToLine: &#123;</span><br><span class=\"line\">      test: <span class=\"regexp\">/\\.jsx$/</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 为这些模块使用 1:1 映射 SourceMaps（快速）</span></span><br><span class=\"line\"></span><br><span class=\"line\">    hotUpdateMainFilename: <span class=\"string\">\"[hash].hot-update.json\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// 「HMR 清单」的文件名模板</span></span><br><span class=\"line\"></span><br><span class=\"line\">    hotUpdateChunkFilename: <span class=\"string\">\"[id].[hash].hot-update.js\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// 「HMR 分块」的文件名模板</span></span><br><span class=\"line\"></span><br><span class=\"line\">    sourcePrefix: <span class=\"string\">\"\\t\"</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"comment\">// 包内前置式模块资源具有更好可读性</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 关于模块配置</span></span><br><span class=\"line\"></span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">      <span class=\"comment\">// 模块规则（配置 loader、解析器等选项）</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.jsx?$/</span>,</span><br><span class=\"line\">        include: [</span><br><span class=\"line\">          path.resolve(__dirname, <span class=\"string\">\"app\"</span>)</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        exclude: [</span><br><span class=\"line\">          path.resolve(__dirname, <span class=\"string\">\"app/demo-files\"</span>)</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"comment\">// 这里是匹配条件，每个选项都接收一个正则表达式或字符串</span></span><br><span class=\"line\">        <span class=\"comment\">// test 和 include 具有相同的作用，都是必须匹配选项</span></span><br><span class=\"line\">        <span class=\"comment\">// exclude 是必不匹配选项（优先于 test 和 include）</span></span><br><span class=\"line\">        <span class=\"comment\">// 最佳实践：</span></span><br><span class=\"line\">        <span class=\"comment\">// - 只在 test 和 文件名匹配 中使用正则表达式</span></span><br><span class=\"line\">        <span class=\"comment\">// - 在 include 和 exclude 中使用绝对路径数组</span></span><br><span class=\"line\">        <span class=\"comment\">// - 尽量避免 exclude，更倾向于使用 include</span></span><br><span class=\"line\"></span><br><span class=\"line\">        issuer: &#123; test, include, exclude &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// issuer 条件（导入源）</span></span><br><span class=\"line\"></span><br><span class=\"line\">        enforce: <span class=\"string\">\"pre\"</span>,</span><br><span class=\"line\">        enforce: <span class=\"string\">\"post\"</span>,</span><br><span class=\"line\">        <span class=\"comment\">// 标识应用这些规则，即使规则覆盖（高级选项）</span></span><br><span class=\"line\"></span><br><span class=\"line\">        loader: <span class=\"string\">\"babel-loader\"</span>,</span><br><span class=\"line\">        <span class=\"comment\">// 应该应用的 loader，它相对上下文解析</span></span><br><span class=\"line\">        <span class=\"comment\">// 为了更清晰，`-loader` 后缀在 webpack 2 中不再是可选的</span></span><br><span class=\"line\">        <span class=\"comment\">// 查看 webpack 1 升级指南。</span></span><br><span class=\"line\"></span><br><span class=\"line\">        options: &#123;</span><br><span class=\"line\">          presets: [<span class=\"string\">\"es2015\"</span>]</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// loader 的可选项</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.html$/</span>,</span><br><span class=\"line\">        test: <span class=\"string\">\"\\.html$\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">        use: [</span><br><span class=\"line\">          <span class=\"comment\">// 应用多个 loader 和选项</span></span><br><span class=\"line\">          <span class=\"string\">\"htmllint-loader\"</span>,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            loader: <span class=\"string\">\"html-loader\"</span>,</span><br><span class=\"line\">            options: &#123;</span><br><span class=\"line\">              <span class=\"comment\">/* ... */</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.less$/</span>,</span><br><span class=\"line\">        loader: <span class=\"string\">\"style-loader!css-loader!less-loader\"</span>,</span><br><span class=\"line\">        <span class=\"comment\">// use: [</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     loader: \"style-loader\",</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#125;,</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     loader: \"css-loader\",</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#125;,</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     loader: \"less-loader\",</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#125;,</span></span><br><span class=\"line\">        <span class=\"comment\">// ],</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">      &#123; <span class=\"attr\">oneOf</span>: [ <span class=\"comment\">/* rules */</span> ] &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 只使用这些嵌套规则之一</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#123; <span class=\"attr\">rules</span>: [ <span class=\"comment\">/* rules */</span> ] &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 使用所有这些嵌套规则（合并可用条件）</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#123; <span class=\"attr\">resource</span>: &#123; <span class=\"attr\">and</span>: [ <span class=\"comment\">/* 条件 */</span> ] &#125; &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 仅当所有条件都匹配时才匹配</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#123; <span class=\"attr\">resource</span>: &#123; <span class=\"attr\">or</span>: [ <span class=\"comment\">/* 条件 */</span> ] &#125; &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">resource</span>: [ <span class=\"comment\">/* 条件 */</span> ] &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 任意条件匹配时匹配（默认为数组）</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#123; <span class=\"attr\">resource</span>: &#123; <span class=\"attr\">not</span>: <span class=\"comment\">/* 条件 */</span> &#125; &#125;</span><br><span class=\"line\">      <span class=\"comment\">// 条件不匹配时匹配</span></span><br><span class=\"line\">    ],</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* 高级模块配置（点击展示） */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    noParse: [</span><br><span class=\"line\">      /special-library\\.js$/</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"comment\">// 不解析这里的模块</span></span><br><span class=\"line\"></span><br><span class=\"line\">    unknownContextRequest: <span class=\"string\">\".\"</span>,</span><br><span class=\"line\">    unknownContextRecursive: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    unknownContextRegExp: <span class=\"regexp\">/^\\.\\/.*$/</span>,</span><br><span class=\"line\">    unknownContextCritical: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    exprContextRequest: <span class=\"string\">\".\"</span>,</span><br><span class=\"line\">    exprContextRegExp: <span class=\"regexp\">/^\\.\\/.*$/</span>,</span><br><span class=\"line\">    exprContextRecursive: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    exprContextCritical: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    wrappedContextRegExp: <span class=\"regexp\">/.*/</span>,</span><br><span class=\"line\">    wrappedContextRecursive: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    wrappedContextCritical: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// specifies default behavior for dynamic requests</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  resolve: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 解析模块请求的选项</span></span><br><span class=\"line\">    <span class=\"comment\">// （不适用于对 loader 解析）</span></span><br><span class=\"line\"></span><br><span class=\"line\">    modules: [</span><br><span class=\"line\">      <span class=\"string\">\"node_modules\"</span>,</span><br><span class=\"line\">      path.resolve(__dirname, <span class=\"string\">\"app\"</span>)</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"comment\">// 用于查找模块的目录</span></span><br><span class=\"line\"></span><br><span class=\"line\">    extensions: [<span class=\"string\">\".js\"</span>, <span class=\"string\">\".json\"</span>, <span class=\"string\">\".jsx\"</span>, <span class=\"string\">\".css\"</span>],</span><br><span class=\"line\">    <span class=\"comment\">// 使用的扩展名</span></span><br><span class=\"line\"></span><br><span class=\"line\">    alias: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 模块别名列表</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"string\">\"module\"</span>: <span class=\"string\">\"new-module\"</span>,</span><br><span class=\"line\">      <span class=\"comment\">// 起别名：\"module\" -&gt; \"new-module\" 和 \"module/path/file\" -&gt; \"new-module/path/file\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"string\">\"only-module$\"</span>: <span class=\"string\">\"new-module\"</span>,</span><br><span class=\"line\">      <span class=\"comment\">// 起别名 \"only-module\" -&gt; \"new-module\"，但不匹配 \"only-module/path/file\" -&gt; \"new-module/path/file\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"string\">\"module\"</span>: path.resolve(__dirname, <span class=\"string\">\"app/third/module.js\"</span>),</span><br><span class=\"line\">      <span class=\"comment\">// 起别名 \"module\" -&gt; \"./app/third/module.js\" 和 \"module/file\" 会导致错误</span></span><br><span class=\"line\">      <span class=\"comment\">// 模块别名相对于当前上下文导入</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">/* 可供选择的别名语法（点击展示） */</span></span><br><span class=\"line\">    alias: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        name: <span class=\"string\">\"module\"</span>,</span><br><span class=\"line\">        <span class=\"comment\">// 旧的请求</span></span><br><span class=\"line\"></span><br><span class=\"line\">        alias: <span class=\"string\">\"new-module\"</span>,</span><br><span class=\"line\">        <span class=\"comment\">// 新的请求</span></span><br><span class=\"line\"></span><br><span class=\"line\">        onlyModule: <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"comment\">// 如果为 true，只有 \"module\" 是别名</span></span><br><span class=\"line\">        <span class=\"comment\">// 如果为 false，\"module/inner/path\" 也是别名</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* 高级解析选项（点击展示） */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    symlinks: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 遵循符号链接(symlinks)到新位置</span></span><br><span class=\"line\"></span><br><span class=\"line\">    descriptionFiles: [<span class=\"string\">\"package.json\"</span>],</span><br><span class=\"line\">    <span class=\"comment\">// 从 package 描述中读取的文件</span></span><br><span class=\"line\"></span><br><span class=\"line\">    mainFields: [<span class=\"string\">\"main\"</span>],</span><br><span class=\"line\">    <span class=\"comment\">// 从描述文件中读取的属性</span></span><br><span class=\"line\">    <span class=\"comment\">// 当请求文件夹时</span></span><br><span class=\"line\"></span><br><span class=\"line\">    aliasFields: [<span class=\"string\">\"browser\"</span>],</span><br><span class=\"line\">    <span class=\"comment\">// 从描述文件中读取的属性</span></span><br><span class=\"line\">    <span class=\"comment\">// 以对此 package 的请求起别名</span></span><br><span class=\"line\"></span><br><span class=\"line\">    enforceExtension: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 如果为 true，请求必不包括扩展名</span></span><br><span class=\"line\">    <span class=\"comment\">// 如果为 false，请求可以包括扩展名</span></span><br><span class=\"line\"></span><br><span class=\"line\">    moduleExtensions: [<span class=\"string\">\"-module\"</span>],</span><br><span class=\"line\">    enforceModuleExtension: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 类似 extensions/enforceExtension，但是用模块名替换文件</span></span><br><span class=\"line\"></span><br><span class=\"line\">    unsafeCache: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    unsafeCache: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 为解析的请求启用缓存</span></span><br><span class=\"line\">    <span class=\"comment\">// 这是不安全，因为文件夹结构可能会改动</span></span><br><span class=\"line\">    <span class=\"comment\">// 但是性能改善是很大的</span></span><br><span class=\"line\"></span><br><span class=\"line\">    cachePredicate: <span class=\"function\">(<span class=\"params\">path, request</span>) =&gt;</span> <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// predicate function which selects requests for caching</span></span><br><span class=\"line\"></span><br><span class=\"line\">    plugins: [</span><br><span class=\"line\">      <span class=\"comment\">// ...</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">    <span class=\"comment\">// 应用于解析器的附加插件</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  performance: &#123;</span><br><span class=\"line\">    hints: <span class=\"string\">\"warning\"</span>, <span class=\"comment\">// 枚举</span></span><br><span class=\"line\">    hints: <span class=\"string\">\"error\"</span>, <span class=\"comment\">// 性能提示中抛出错误</span></span><br><span class=\"line\">    hints: <span class=\"literal\">false</span>, <span class=\"comment\">// 关闭性能提示</span></span><br><span class=\"line\">    maxAssetSize: <span class=\"number\">200000</span>, <span class=\"comment\">// 整数类型（以字节为单位）</span></span><br><span class=\"line\">    maxEntrypointSize: <span class=\"number\">400000</span>, <span class=\"comment\">// 整数类型（以字节为单位）</span></span><br><span class=\"line\">    assetFilter: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">assetFilename</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"comment\">// 提供资源文件名的断言函数</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> assetFilename.endsWith(<span class=\"string\">'.css'</span>) || assetFilename.endsWith(<span class=\"string\">'.js'</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  devtool: <span class=\"string\">\"source-map\"</span>, <span class=\"comment\">// enum</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"inline-source-map\"</span>, <span class=\"comment\">// 嵌入到源文件中</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"eval-source-map\"</span>, <span class=\"comment\">// 将 SourceMap 嵌入到每个模块中</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"hidden-source-map\"</span>, <span class=\"comment\">// SourceMap 不在源文件中引用</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"cheap-source-map\"</span>, <span class=\"comment\">// 没有模块映射(module mappings)的 SourceMap 低级变体(cheap-variant)</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"cheap-module-source-map\"</span>, <span class=\"comment\">// 有模块映射(module mappings)的 SourceMap 低级变体</span></span><br><span class=\"line\">  devtool: <span class=\"string\">\"eval\"</span>, <span class=\"comment\">// 没有模块映射，而是命名模块。以牺牲细节达到最快。</span></span><br><span class=\"line\">  <span class=\"comment\">// 通过在浏览器调试工具(browser devtools)中添加元信息(meta info)增强调试</span></span><br><span class=\"line\">  <span class=\"comment\">// 牺牲了构建速度的 `source-map' 是最详细的。</span></span><br><span class=\"line\"></span><br><span class=\"line\">  context: __dirname, <span class=\"comment\">// string（绝对路径！）</span></span><br><span class=\"line\">  <span class=\"comment\">// webpack 的主目录</span></span><br><span class=\"line\">  <span class=\"comment\">// entry 和 module.rules.loader 选项</span></span><br><span class=\"line\">  <span class=\"comment\">// 相对于此目录解析</span></span><br><span class=\"line\"></span><br><span class=\"line\">  target: <span class=\"string\">\"web\"</span>, <span class=\"comment\">// 枚举</span></span><br><span class=\"line\">  target: <span class=\"string\">\"webworker\"</span>, <span class=\"comment\">// WebWorker</span></span><br><span class=\"line\">  target: <span class=\"string\">\"node\"</span>, <span class=\"comment\">// node.js 通过 require</span></span><br><span class=\"line\">  target: <span class=\"string\">\"async-node\"</span>, <span class=\"comment\">// Node.js 通过 fs and vm</span></span><br><span class=\"line\">  target: <span class=\"string\">\"node-webkit\"</span>, <span class=\"comment\">// nw.js</span></span><br><span class=\"line\">  target: <span class=\"string\">\"electron-main\"</span>, <span class=\"comment\">// electron，主进程(main process)</span></span><br><span class=\"line\">  target: <span class=\"string\">\"electron-renderer\"</span>, <span class=\"comment\">// electron，渲染进程(renderer process)</span></span><br><span class=\"line\">  target: <span class=\"function\">(<span class=\"params\">compiler</span>) =&gt;</span> &#123; <span class=\"comment\">/* ... */</span> &#125;, <span class=\"comment\">// 自定义</span></span><br><span class=\"line\">  <span class=\"comment\">// 包(bundle)应该运行的环境</span></span><br><span class=\"line\">  <span class=\"comment\">// 更改 块加载行为(chunk loading behavior) 和 可用模块(available module)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  externals: [<span class=\"string\">\"react\"</span>, /^@angular\\<span class=\"comment\">//],</span></span><br><span class=\"line\">  externals: <span class=\"string\">\"react\"</span>, <span class=\"comment\">// string（精确匹配）</span></span><br><span class=\"line\">  externals: <span class=\"regexp\">/^[a-z\\-]+($|\\/)/</span>, <span class=\"comment\">// 正则</span></span><br><span class=\"line\">  externals: &#123; <span class=\"comment\">// 对象</span></span><br><span class=\"line\">    angular: <span class=\"string\">\"this angular\"</span>, <span class=\"comment\">// this[\"angular\"]</span></span><br><span class=\"line\">    react: &#123; <span class=\"comment\">// UMD</span></span><br><span class=\"line\">      commonjs: <span class=\"string\">\"react\"</span>,</span><br><span class=\"line\">      commonjs2: <span class=\"string\">\"react\"</span>,</span><br><span class=\"line\">      amd: <span class=\"string\">\"react\"</span>,</span><br><span class=\"line\">      root: <span class=\"string\">\"React\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  externals: <span class=\"function\">(<span class=\"params\">request</span>) =&gt;</span> &#123; <span class=\"comment\">/* ... */</span> <span class=\"keyword\">return</span> <span class=\"string\">\"commonjs \"</span> + request &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 不要遵循/打包这些模块，而是在运行时从环境中请求他们</span></span><br><span class=\"line\"></span><br><span class=\"line\">  stats: <span class=\"string\">\"errors-only\"</span>,</span><br><span class=\"line\">  stats: &#123; <span class=\"comment\">//object</span></span><br><span class=\"line\">    assets: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    colors: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    errors: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    errorDetails: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    hash: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 精确控制要显示的 bundle 信息</span></span><br><span class=\"line\"></span><br><span class=\"line\">  devServer: &#123;</span><br><span class=\"line\">    proxy: &#123; <span class=\"comment\">// proxy URLs to backend development server</span></span><br><span class=\"line\">      <span class=\"string\">'/api'</span>: <span class=\"string\">'http://localhost:3000'</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    contentBase: path.join(__dirname, <span class=\"string\">'public'</span>), <span class=\"comment\">// boolean | string | array, static file location</span></span><br><span class=\"line\">    compress: <span class=\"literal\">true</span>, <span class=\"comment\">// enable gzip compression</span></span><br><span class=\"line\">    historyApiFallback: <span class=\"literal\">true</span>, <span class=\"comment\">// true for index.html upon 404, object for multiple paths</span></span><br><span class=\"line\">    hot: <span class=\"literal\">true</span>, <span class=\"comment\">// hot module replacement. Depends on HotModuleReplacementPlugin</span></span><br><span class=\"line\">    https: <span class=\"literal\">false</span>, <span class=\"comment\">// true for self-signed, object for cert authority</span></span><br><span class=\"line\">    noInfo: <span class=\"literal\">true</span>, <span class=\"comment\">// only errors &amp; warns on hot reload</span></span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"comment\">// 附加插件列表</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* 高级配置（点击展示） */</span></span><br><span class=\"line\"></span><br><span class=\"line\">  resolveLoader: &#123; <span class=\"comment\">/* 等同于 resolve */</span> &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 独立解析选项的 loader</span></span><br><span class=\"line\"></span><br><span class=\"line\">  parallelism: <span class=\"number\">1</span>, <span class=\"comment\">// number</span></span><br><span class=\"line\">  <span class=\"comment\">// 限制并行处理模块的数量</span></span><br><span class=\"line\"></span><br><span class=\"line\">  profile: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">  <span class=\"comment\">// 捕获时机信息</span></span><br><span class=\"line\"></span><br><span class=\"line\">  bail: <span class=\"literal\">true</span>, <span class=\"comment\">//boolean</span></span><br><span class=\"line\">  <span class=\"comment\">// 在第一个错误出错时抛出，而不是无视错误。</span></span><br><span class=\"line\"></span><br><span class=\"line\">  cache: <span class=\"literal\">false</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">  <span class=\"comment\">// 禁用/启用缓存</span></span><br><span class=\"line\"></span><br><span class=\"line\">  watch: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">  <span class=\"comment\">// 启用观察</span></span><br><span class=\"line\"></span><br><span class=\"line\">  watchOptions: &#123;</span><br><span class=\"line\">    aggregateTimeout: <span class=\"number\">1000</span>, <span class=\"comment\">// in ms</span></span><br><span class=\"line\">    <span class=\"comment\">// 将多个更改聚合到单个重构建(rebuild)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    poll: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    poll: <span class=\"number\">500</span>, <span class=\"comment\">// 间隔单位 ms</span></span><br><span class=\"line\">    <span class=\"comment\">// 启用轮询观察模式</span></span><br><span class=\"line\">    <span class=\"comment\">// 必须用在不通知更改的文件系统中</span></span><br><span class=\"line\">    <span class=\"comment\">// 即 nfs shares（译者注：Network FileSystem，最大的功能就是可以透過網路，讓不同的機器、不同的作業系統、可以彼此分享個別的檔案 ( share file )）</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  node: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Polyfills and mocks to run Node.js-</span></span><br><span class=\"line\">    <span class=\"comment\">// environment code in non-Node environments.</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">console</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// boolean | \"mock\"</span></span><br><span class=\"line\">    global: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean | \"mock\"</span></span><br><span class=\"line\">    process: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean</span></span><br><span class=\"line\">    __filename: <span class=\"string\">\"mock\"</span>, <span class=\"comment\">// boolean | \"mock\"</span></span><br><span class=\"line\">    __dirname: <span class=\"string\">\"mock\"</span>, <span class=\"comment\">// boolean | \"mock\"</span></span><br><span class=\"line\">    Buffer: <span class=\"literal\">true</span>, <span class=\"comment\">// boolean | \"mock\"</span></span><br><span class=\"line\">    setImmediate: <span class=\"literal\">true</span> <span class=\"comment\">// boolean | \"mock\" | \"empty\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  recordsPath: path.resolve(__dirname, <span class=\"string\">\"build/records.json\"</span>),</span><br><span class=\"line\">  recordsInputPath: path.resolve(__dirname, <span class=\"string\">\"build/records.json\"</span>),</span><br><span class=\"line\">  recordsOutputPath: path.resolve(__dirname, <span class=\"string\">\"build/records.json\"</span>),</span><br><span class=\"line\">  <span class=\"comment\">// TODO</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","tool"],"tags":["webpack"]},{"title":"MobX 基础介绍","url":"/Blog/mobx-basic/","content":"<hr>\n<ul>\n<li><strong><code>mobx</code></strong>(<a href=\"https://github.com/mobxjs/mobx\" target=\"_blank\" rel=\"noopener\"><code>github</code></a>,<a href=\"https://cn.mobx.js.org/\" target=\"_blank\" rel=\"noopener\"><code>mobx</code>中文文档</a>)</li>\n<li><strong><code>mobx-state-tree</code></strong>(<a href=\"https://www.npmjs.com/package/mobx-state-tree\" target=\"_blank\" rel=\"noopener\"><code>npm</code></a>,<a href=\"https://github.com/mobxjs/mobx-state-tree\" target=\"_blank\" rel=\"noopener\"><code>github</code></a>,<a href=\"http://mobx-state-tree.js.org/\" target=\"_blank\" rel=\"noopener\"><code>docs</code></a>)</li>\n<li><strong>实用工具</strong>: <a href=\"https://github.com/mobxjs/mobx-utils\" target=\"_blank\" rel=\"noopener\"><code>mobx-utils</code></a></li>\n<li><a href=\"https://github.com/mobxjs/awesome-mobx#examples\" target=\"_blank\" rel=\"noopener\">博客、视频及相关项目</a></li>\n</ul>\n<hr>\n<a id=\"more\"></a>\n\n<p>[TOC]</p>\n<!-- toc -->\n\n<ul>\n<li><a href=\"#概念\">概念</a><ul>\n<li><a href=\"#1-state状态\">1. State(状态)</a></li>\n<li><a href=\"#2-derivations衍生\">2. Derivations(衍生)</a></li>\n<li><a href=\"#3-actions动作\">3. Actions(动作)</a></li>\n</ul>\n</li>\n<li><a href=\"#原则\">原则</a></li>\n<li><a href=\"#实例\">实例</a></li>\n<li><a href=\"#核心-api\">核心 API</a><ul>\n<li><a href=\"#observable\">observable</a><ul>\n<li><a href=\"#observablevalue\"><code>observable(value)</code></a></li>\n<li><a href=\"#observable-property-value\"><code>@observable property = value</code></a></li>\n<li><a href=\"#observable-property-value\">@observable property = value</a></li>\n<li><a href=\"#observableobjectvalue-decorators-options\"><code>observable.object(value, decorators?, options?)</code></a></li>\n<li><a href=\"#observablearrayvalue-options\"><code>observable.array(value, options?)</code></a></li>\n<li><a href=\"#observablemapvalue-options\"><code>observable.map(value, options?)</code></a></li>\n<li><a href=\"#extendobservable\"><code>extendObservable</code></a></li>\n</ul>\n</li>\n<li><a href=\"#装饰器decorators\">装饰器(Decorators)</a><ul>\n<li><a href=\"#decorate\"><code>decorate</code></a></li>\n</ul>\n</li>\n<li><a href=\"#computed-values计算值\">Computed values(计算值)</a></li>\n<li><a href=\"#actions动作\">Actions(动作)</a></li>\n<li><a href=\"#flow\">Flow</a><ul>\n<li><a href=\"#flows-可以撤销\">Flows 可以撤销</a></li>\n<li><a href=\"#flows-支持异步迭代器\">Flows 支持异步迭代器</a></li>\n</ul>\n</li>\n<li><a href=\"#reactions反应-derivations衍生\">Reactions(反应) &amp; Derivations(衍生)</a><ul>\n<li><a href=\"#observer\">observer</a></li>\n<li><a href=\"#autorun\">autorun</a></li>\n<li><a href=\"#when\">when</a></li>\n<li><a href=\"#options\">options</a></li>\n<li><a href=\"#reaction\">reaction</a></li>\n<li><a href=\"#options-1\">options</a></li>\n<li><a href=\"#onreactionerror\">onReactionError</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h1><span id=\"概念\">概念</span></h1><h2><span id=\"1-state状态\">1. State(状态)</span></h2><p><strong>状态</strong> 是驱动应用的数据。 通常有像待办事项列表这样的<strong>领域特定状态</strong>，还有像当前已选元素的<strong>视图状态</strong>。 记住，状态就像是有数据的 <code>excel</code> 表格。</p>\n<h2><span id=\"2-derivations衍生\">2. Derivations(衍生)</span></h2><p><strong>任何</strong> 源自<strong>状态</strong>并且不会再有任何进一步的相互作用的东西就是衍生。 衍生以多种形式存在:</p>\n<ul>\n<li><strong>用户界面</strong></li>\n<li><strong>衍生数据</strong>，比如剩下的待办事项的数量。</li>\n<li><strong>后端集成</strong>，比如把变化发送到服务器端。</li>\n</ul>\n<p>MobX 区分了两种类型的衍生:</p>\n<ul>\n<li><p><strong><code>Computed values</code>(计算值)</strong> - 它们是永远可以使用纯函数(<code>pure function</code>)从当前可观察状态中衍生出的值。</p>\n</li>\n<li><p><strong><code>Reactions</code>(反应)</strong> - <code>Reactions</code> 是当状态改变时需要自动发生的副作用。需要有一个桥梁来连接命令式编程(<code>imperative programming</code>)和响应式编程(<code>reactive programming</code>)。或者说得更明确一些，它们最终都需要实现 <code>I / O</code> 操作。</p>\n<p><em>刚开始使用 MobX 时，人们倾向于频繁的使用 reactions。 黄金法则: 如果你想创建一个基于当前状态的值时，请使用 <strong><code>computed</code></strong>。</em></p>\n</li>\n</ul>\n<p>回到 excel 表格这个比喻中来，公式是<strong>计算</strong>值的衍生。但对于用户来说，能看到屏幕给出的<strong>反应</strong>则需要部分重绘 GUI。</p>\n<h2><span id=\"3-actions动作\">3. Actions(动作)</span></h2><p><strong>动作</strong> 是任一一段可以改变状态的代码。用户事件、后端数据推送、预定事件、等等。 动作类似于用户在 <code>excel</code> 单元格中输入一个新的值。</p>\n<p>在 <code>MobX</code> 中可以显式地定义动作，它可以帮你把代码组织的更清晰。 如果是在严格模式下使用 <code>MobX</code> 的话，<code>MobX</code> 会强制只有在动作之中才可以修改状态。</p>\n<h1><span id=\"原则\">原则</span></h1><p><code>MobX</code> 支持单向数据流，也就是<strong>动作</strong>改变<strong>状态</strong>，而状态的改变会更新所有受影响的<strong>视图</strong>。</p>\n<img src=\"/Blog/mobx-basic/action-state-view.png\" class title=\"action-state-view\">\n\n<p>当<strong>状态</strong>改变时，所有<strong>衍生</strong>都会进行<strong>原子级的自动更新</strong>。因此永远不可能观察到中间值。</p>\n<p>所有<strong>衍生</strong>默认都是<strong>同步</strong>更新。这意味着例如<strong>动作</strong>可以在改变<strong>状态</strong>之后直接可以安全地检查计算值。</p>\n<p><strong>计算值</strong>是<strong>延迟</strong>更新的。任何不在使用状态的计算值将不会更新，直到需要它进行副作用（<code>I / O</code>）操作时。 如果视图不再使用，那么它会自动被垃圾回收。</p>\n<p>所有的<strong>计算值</strong>都应该是<strong>纯净</strong>的。它们不应该用来改变<strong>状态</strong>。</p>\n<h1><span id=\"实例\">实例</span></h1><p>下面的代码清单举例说明了以上的概念和原则:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; observable, autorun &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"mobx\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> todoStore = observable(&#123;</span><br><span class=\"line\">  <span class=\"comment\">/* 一些观察的状态 */</span></span><br><span class=\"line\">  todos: [],</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* 推导值 */</span></span><br><span class=\"line\">  <span class=\"keyword\">get</span> completedCount() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.todos.filter(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span> todo.completed).length;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 观察状态改变的函数 */</span></span><br><span class=\"line\">autorun(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">    <span class=\"string\">\"Completed %d of %d items\"</span>,</span><br><span class=\"line\">    todoStore.completedCount,</span><br><span class=\"line\">    todoStore.todos.length</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ..以及一些改变状态的动作 */</span></span><br><span class=\"line\">todoStore.todos[<span class=\"number\">0</span>] = &#123;</span><br><span class=\"line\">  title: <span class=\"string\">\"Take a walk\"</span>,</span><br><span class=\"line\">  completed: <span class=\"literal\">false</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// -&gt; 同步打印 'Completed 0 of 1 items'</span></span><br><span class=\"line\"></span><br><span class=\"line\">todoStore.todos[<span class=\"number\">0</span>].completed = <span class=\"literal\">true</span>;</span><br><span class=\"line\"><span class=\"comment\">// -&gt; 同步打印 'Completed 1 of 1 items'</span></span><br></pre></td></tr></table></figure>\n\n<h1><span id=\"核心-api\">核心 API</span></h1><h2><span id=\"observable\">observable</span></h2><h3><span id=\"observablevalue\"><code>observable(value)</code></span></h3><p>用法:</p>\n<ul>\n<li><code>observable(value)</code></li>\n<li><code>@observable classProperty = value</code></li>\n</ul>\n<p><code>Observable</code> 值可以是 <code>JS</code> 基本数据类型、引用类型、普通对象、类实例、数组和映射。</p>\n<p><strong>注意</strong>: <code>observable(value)</code> 是一个便捷的 <code>API</code> ，此 <code>API</code> 只有在它可以被制作成可观察的数据结构(数组、映射或 <code>observable</code> 对象)时才会成功。对于所有其他值，不会执行转换。</p>\n<p>匹配类型应用了以下转换规则，但可以通过使用 装饰器 进行微调。请参见下文。</p>\n<ol>\n<li><p>如果 <code>value</code> 是 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" target=\"_blank\" rel=\"noopener\"><code>ES6 Map</code></a> 的实例: 会返回一个新的 <code>Observable Map</code>。如果你不只关注某个特定 entry 的更改，而且对添加或删除其他 entry 时也做出反应的话，那么 <code>Observable map</code> 会非常有用。</p>\n</li>\n<li><p>如果 <code>value</code> 是数组，会返回一个 <code>Observable Array</code>。</p>\n</li>\n<li><p>如果 <code>value</code> 是没有原型的对象或它的原型是 <code>Object.prototype</code>，那么对象会被克隆并且所有的属性都会被转换成可观察的。参见 <code>Observable Object</code>。</p>\n</li>\n<li><p>如果 <code>value</code> 是有原型的对象，<code>JavaSript</code> 原始数据类型(<em>JavaScript 原始数据类型 Undefined、Null、Boolean、Number 和 String。(相对于基本数据类型少了个 object)</em>)或者函数，值不会发生变化。如果你需要 <code>Boxed Observable</code>，你可以采用下列任意方式:</p>\n<ul>\n<li>显式地调用 <code>observable.box(value)</code></li>\n<li>在类定义时使用 <code>@observable</code></li>\n<li>调用 <code>decorate()</code></li>\n<li>在类中使用 <code>extendObservable()</code> 来引入属性</li>\n</ul>\n</li>\n</ol>\n<p><code>MobX</code> 不会自动带有原型的对象转变成 <code>observable</code>，因为那是 <code>observable</code> 构造函数的职责。在构造函数中使用 <code>extendObservable</code> 或在类定义是使用 <code>@observable</code> 进行替代。</p>\n<p>乍看之下，这些规则可能看上去很复杂，但实际上实践当中你会发现他们是非常直观的。</p>\n<p>一些建议:</p>\n<ul>\n<li>要想使用 <code>@observable</code> 装饰器，首先要确保 在你的编译器(<code>babel</code> 或者 <code>typescript</code>)中 装饰器是启用的。</li>\n<li>默认情况下将一个数据结构转换成可观察的是<strong>有感染性的</strong>，这意味着 <code>observable</code> 被自动应用于数据结构包含的任何值，或者将来会被该数据结构包含的值。这个行为可以通过使用 装饰器 来更改。</li>\n<li><em>[<code>MobX 4</code> 及以下版本]</em> 要创建键是动态的对象时永远都使用 <code>maps！</code>对象上只有初始化时便存在的属性会转换成可观察的，尽管新添加的属性可以通过使用 <code>extendObservable</code> 转换成可观察的。</li>\n</ul>\n<h3><span id=\"observable-property-value\"><code>@observable property = value</code></span></h3><p><code>observable</code> 也可以用作属性的装饰器。它需要启用装饰器而且它是 <code>extendObservable(this, { property: value })</code> 的语法糖。</p>\n<h3><span id=\"observable-property-value\">@observable property = value</span></h3><p>创建一个 <code>observable</code> 的盒子，它用来存储 <code>value</code> 的 <code>observable</code> 引用。使用 <code>get()</code> 方法可以得到盒子中的当前 <code>value</code>，而使用 <code>set()</code> 方法可以更新 <code>value。</code> 这是所有其它 <code>observable</code> 创建的基础，但实际中你其实很少能使用到它。</p>\n<p>通常盒子会自动地尝试把任何还不是 <code>observable</code> 的新值转换成 <code>observable</code> 。使用 <code>{deep: false}</code> 选项会禁用这项行为。</p>\n<h3><span id=\"observableobjectvalue-decorators-options\"><code>observable.object(value, decorators?, options?)</code></span></h3><p>为提供的对象创建一个克隆并将其所有的属性转换成 <code>observable</code> 。 默认情况下这些属性中的任何值都会转换成 <code>observable，但当使用</code> {deep: false} 选项时只有属性会转换成 <code>observable</code> 引用，而值不会改变(这也适用于将来分配的任何值)。</p>\n<p><code>observable.object()</code> 的第二个参数可以很好地调整 \b 装饰器 的可观察性。</p>\n<h3><span id=\"observablearrayvalue-options\"><code>observable.array(value, options?)</code></span></h3><p>基于提供的值来创建一个新的 <code>observable</code> 数组。</p>\n<p>如果不想数组中的值转换成 <code>observable</code> 请使用 <code>{deep: false}</code>选项。</p>\n<h3><span id=\"observablemapvalue-options\"><code>observable.map(value, options?)</code></span></h3><p>基于提供的值来创建一个新的 <code>observable</code> 映射。如果不想映射中的值转换成 <code>observable</code> 请使用 <code>{deep: false}</code> 选项。 当想创建动态的键集合并且需要能观察到键的添加和移除时，请使用 <code>map。</code> 因为内部使用了成熟的 <code>ES6 Map</code>，你可以自由使用任何键而无需局限于字符串。</p>\n<h3><span id=\"extendobservable\"><code>extendObservable</code></span></h3><p>用法: <code>extendObservable(target, properties, decorators?, options?)</code></p>\n<p>对于 <code>propertyMap</code> 中的每个键值对，都会作为一个(新)的 <code>observable</code> 属性引入到 <code>target</code> 对象中。 还可以在构造函数中使用来引入 <code>observable</code> 属性，这样就不需要用装饰器了。 如果 <code>propertyMap</code> 的某个值是一个 <code>getter</code> 函数，那么会引入一个 <code>computed</code> 属性。</p>\n<p>如果新的属性不应该具备感染性(即新分配的值不应该自动地转换成 <code>observable</code>)的话，请使用 <code>extendObservable(target, props, decorators?, {deep: false})</code> 。 注意 <code>extendObservable</code> 增强了现有的对象，不像 <code>observable.object</code> 是创建一个新对象。</p>\n<h2><span id=\"装饰器decorators\">装饰器(Decorators)</span></h2><p>使用装饰器可以很好地调节通过 <code>observable</code>、 <code>extendObservable</code> 和 <code>observable.object</code> 定义的属性的可观察性。它们还可以控制特定属性的自动转换规则。</p>\n<p>可用的装饰器列表:</p>\n<ul>\n<li><strong><code>observable.deep</code></strong>: 所有 <code>observable</code> 都使用的默认的装饰器。它可以把任何指定的、非原始数据类型的、非 <code>observable</code> 的值转换成 <code>observable。</code></li>\n<li><strong><code>observable.ref</code></strong>: 禁用自动的 <code>observable</code> 转换，只是创建一个 observable 引用。</li>\n<li><strong><code>observable.shallow</code></strong>: 只能与集合组合使用。 将任何分配的集合转换为浅 observable (而不是深 - <code>observable</code>)的集合。 换句话说, 集合中的值将不会自动变为 <code>observable。</code></li>\n<li><strong><code>computed</code></strong>: 创建一个衍生属性, 参见 <code>computed</code></li>\n<li><strong><code>action</code></strong>: 创建一个动作, 参见 <code>action</code></li>\n</ul>\n<p>可以使用 <code>@decorator</code>语法来应用这些装饰器:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; observable, action &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"mobx\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TaskStore</span> </span>&#123;</span><br><span class=\"line\">  @observable.shallow tasks = [];</span><br><span class=\"line\">  @action addTask(task) &#123;</span><br><span class=\"line\">    <span class=\"comment\">/* ... */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>或者通过 <code>observable.object / observable.extendObservable</code> 或 <code>decorate()</code> 传入属性装饰器。 注意，装饰器总是“附着”在属性上的。 因此，即使分配了新值，它们仍将保持有效。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; observable, action &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"mobx\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> taskStore = observable(</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    tasks: [],</span><br><span class=\"line\">    addTask(task) &#123;</span><br><span class=\"line\">      <span class=\"comment\">/* ... */</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    tasks: observable.shallow,</span><br><span class=\"line\">    addTask: action,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"decorate\"><code>decorate</code></span></h3><p>用法: <code>decorate(object, decorators)</code></p>\n<p>这是将可观察性装饰器)应用于普通对象或类实例的简便方法。第二个参数是一个属性设置为某些装饰器的对象。</p>\n<p>当无法使用 <code>@decorator</code> 语法或需要对可观察性进行更细粒度的控制时使用这个方法。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TodoList</span> </span>&#123;</span><br><span class=\"line\">  todos = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">get</span> unfinishedTodoCount() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> values(<span class=\"keyword\">this</span>.todos).filter(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span> !todo.finished).length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  addTodo() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> t = <span class=\"keyword\">new</span> Todo();</span><br><span class=\"line\">    t.title = <span class=\"string\">\"Test_\"</span> + <span class=\"built_in\">Math</span>.random();</span><br><span class=\"line\">    <span class=\"keyword\">set</span>(this.todos, t.id, t);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">decorate(TodoList, &#123;</span><br><span class=\"line\">  todos: observable,</span><br><span class=\"line\">  unfinishedTodoCount: computed,</span><br><span class=\"line\">  addTodo: action.bound,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>想要在单个属性上应用多个装饰器的话，你可以传入一个装饰器数组。多个装饰器应用的顺序是从从右至左。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; decorate, observable &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"mobx\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; serializable, primitive &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"serializr\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> persist <span class=\"keyword\">from</span> <span class=\"string\">\"mobx-persist\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Todo</span> </span>&#123;</span><br><span class=\"line\">  id = <span class=\"built_in\">Math</span>.random();</span><br><span class=\"line\">  title = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">  finished = <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">decorate(Todo, &#123;</span><br><span class=\"line\">  title: [serializable(primitive), persist(<span class=\"string\">\"object\"</span>), observable],</span><br><span class=\"line\">  finished: [serializable(primitive), observable],</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>注意</strong>: 并非所有的装饰器都可以在一起组合，此功能只会尽力而为。一些装饰器会直接影响实例，并且可以“隐藏”其他那些只更改原型的装饰器的效果。</p>\n<h2><span id=\"computed-values计算值\">Computed values(计算值)</span></h2><p>用法:</p>\n<ul>\n<li><code>computed(() =&gt; expression)</code></li>\n<li><code>computed(() =&gt; expression, (newValue) =&gt; void)</code></li>\n<li><code>computed(() =&gt; expression, options)</code></li>\n<li><code>@computed({equals: compareFn}) get classProperty() { return expression; }</code></li>\n<li><code>@computed get classProperty() { return expression; }</code></li>\n</ul>\n<p>创建计算值，<code>expression</code> 不应该有任何副作用而只是返回一个值。 如果任何 <code>expression</code> 中使用的 <code>observable</code> 发生改变，它都会自动地重新计算，但前提是计算值被某些 <strong><code>reaction</code></strong> 使用了。</p>\n<p>还有各种选项可以控制 <code>computed</code> 的行为。包括:</p>\n<ul>\n<li><code>equals: (value, value) =&gt; boolean</code> 用来重载默认检测规则的比较函数。 内置比较器有: <code>comparer.identity</code>, <code>comparer.default</code>, <code>comparer.structural</code></li>\n<li><code>requiresReaction: boolean</code> 在重新计算衍生属性之前，等待追踪的 <code>observables</code> 值发生变化</li>\n<li><code>get: () =&gt; value)</code> 重载计算属性的 <code>getter</code></li>\n<li><code>set: (value) =&gt; void</code> 重载计算属性的 <code>setter</code></li>\n<li><code>keepAlive: boolean</code> 设置为 <code>true</code> 以自动保持计算值活动，而不是在没有观察者时暂停。</li>\n</ul>\n<h2><span id=\"actions动作\">Actions(动作)</span></h2><p>任何应用都有动作。动作是任何用来修改状态的东西。</p>\n<p>使用 <code>MobX</code> 你可以在代码中显式地标记出动作所在的位置。 动作可以有助于更好的组织代码。 建议在任何更改 <code>observable</code> 或者有副作用的函数上使用动作。 结合开发者工具的话，动作还能提供非常有用的调试信息。 注意: 当启用严格模式时，需要强制使用 <code>action</code>，参见 <code>enforceActions。</code></p>\n<p>用法:</p>\n<ul>\n<li><code>action(fn)</code></li>\n<li><code>action(name, fn)</code></li>\n<li><code>@action classMethod</code></li>\n<li><code>@action(name) classMethod</code></li>\n<li><code>@action boundClassMethod = (args) =&gt; { body }</code></li>\n<li><code>@action.bound boundClassMethod(args) { body }</code></li>\n</ul>\n<p>对于一次性动作，可以使用 <code>runInAction(name?, fn)</code> , 它是 <code>action(name, fn)()</code> 的语法糖.</p>\n<h2><span id=\"flow\">Flow</span></h2><p>用法: <code>flow(function* (args) { })</code></p>\n<p><code>flow()</code> 接收 <code>generator</code> 函数作为它唯一的输入</p>\n<p>当处理<strong>异步动作</strong>时，回调中执行的代码不会被 <code>action</code> 包装。这意味着你修改的 <code>observable state</code> 无法通过 <code>enforceActions</code> 检查。保留动作语义的简单方法是使用 <code>flow</code> 来包装异步函数。这将确保所有回调都会被 <code>action()</code> 包装。</p>\n<p>注意，异步函数必须是 <code>generator</code> ，而且在内部只能 <code>yield promises</code> 。<code>flow</code> 会返回一个 <code>promise</code> ，需要的话可以使用 <code>cancel()</code> 进行撤销。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; configure &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"mobx\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 不允许在动作外部修改状态</span></span><br><span class=\"line\">configure(&#123; <span class=\"attr\">enforceActions</span>: <span class=\"literal\">true</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Store</span> </span>&#123;</span><br><span class=\"line\">  @observable githubProjects = [];</span><br><span class=\"line\">  @observable state = <span class=\"string\">\"pending\"</span>; <span class=\"comment\">// \"pending\" / \"done\" / \"error\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">  fetchProjects = flow(<span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">fetchProjects</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// &lt;- 注意*号，这是生成器函数！</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.githubProjects = [];</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.state = <span class=\"string\">\"pending\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> projects = <span class=\"keyword\">yield</span> fetchGithubProjectsSomehow(); <span class=\"comment\">// 用 yield 代替 await</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> filteredProjects = somePreprocessing(projects);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 异步代码自动会被 `action` 包装</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.state = <span class=\"string\">\"done\"</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.githubProjects = filteredProjects;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.state = <span class=\"string\">\"error\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>提示: 推荐为 <code>generator</code> 函数起个名称，此名称将出现在开发工具中</p>\n<h3><span id=\"flows-可以撤销\">Flows 可以撤销</span></h3><p><code>Flows</code> 是可以取消的，这意味着调用返回的 <code>promise</code> 的 <code>cancel()</code> 方法。这会立即停止 <code>generator</code> ，但是 <code>finally</code> 子句仍会被处理。 返回的 <code>promise</code> 本身会使用 <code>FLOW_CANCELLED</code> 进行 <code>reject</code> 。</p>\n<h3><span id=\"flows-支持异步迭代器\">Flows 支持异步迭代器</span></h3><p><code>Flows</code> 支持异步迭代器，这意味着可以使用异步 <code>generators</code> :</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">someNumbers</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1</span>);</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">2</span>);</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">3</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> count = mobx.flow(<span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 使用 await 来循环异步迭代器</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> <span class=\"keyword\">await</span> (<span class=\"keyword\">const</span> number <span class=\"keyword\">of</span> someNumbers()) &#123;</span><br><span class=\"line\">    total += number;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> total;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> res = <span class=\"keyword\">await</span> count(); <span class=\"comment\">// 6</span></span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"reactions反应-amp-derivations衍生\">Reactions(反应) &amp; Derivations(衍生)</span></h2><p>计算值 是自动响应状态变化的值。 反应 是自动响应状态变化的副作用。 反应可以确保当相关状态发生变化时指定的副作用(主要是 I/O)可以自动地执行，比如打印日志、网络请求、等等。 使用反应最常见的场景是 React 组件的 <code>observer</code> 装饰器(参见下文)。</p>\n<h3><span id=\"observer\">observer</span></h3><p>可以用作包裹 <code>React</code> 组件的高阶组件。 在组件的 <code>render</code> 函数中的任何已使用的 <code>observable</code> 发生变化时，组件都会自动重新渲染。 注意 <code>observer</code> 是由 <code>&quot;mobx-react&quot;</code> 包提供的，而不是 <code>mobx</code> 本身。</p>\n<p>用法:</p>\n<ul>\n<li><code>observer(React.createClass({ ... }))</code></li>\n<li><code>observer((props, context) =&gt; ReactElement)</code></li>\n<li><code>observer(class MyComponent extends React.Component { ... })</code></li>\n<li><code>@observer class MyComponent extends React.Component { ... }</code></li>\n</ul>\n<h3><span id=\"autorun\">autorun</span></h3><p>用法：<code>autorun(() =&gt; { sideEffect }, options)</code> 。</p>\n<p><code>autorun</code> 负责运行所提供的 <code>sideEffect</code> 并追踪在 <code>sideEffect</code> 运行期间访问过的 <code>observable</code> 的状态。 将来如果有其中一个已使用的 <code>observable</code> 发生变化，同样的 <code>sideEffect</code> 会再运行一遍。 <code>autorun</code> 返回一个清理函数用来取消副作用。</p>\n<p>选项</p>\n<ul>\n<li><code>name?: string: 用于识别和调试的名称</code></li>\n<li><code>delay?: number: 使副作用延迟和防抖的时间。默认为 0</code></li>\n<li><code>onError?: (error) =&gt; void: 如果 autorun 函数抛出异常，则触发错误处理函数</code></li>\n<li><code>scheduler?: (callback) =&gt; void: 设置自定义调度器以决定如何调度 autorun 函数的重新运行</code></li>\n</ul>\n<h3><span id=\"when\">when</span></h3><p>用法: <code>when(() =&gt; condition, () =&gt; { sideEffect }, options)</code> 。</p>\n<p><code>condition</code> 表达式会自动响应任何它所使用的 <code>observable。</code> 一旦表达式返回的是真值，副作用函数便会立即调用，但只会调用一次。</p>\n<p>注意: 副作用函数 (第二个参数) 其实是可选的。如果不提供副作用函数的话，将返回一个可取消的 promise (即具有 <code>cancle()</code> 方法的 <code>promise</code>)</p>\n<p><code>when</code> 返回清理器以尽早地取消操作。</p>\n<p>如果没有给 <code>when</code> 传递副作用函数的话，它将返回一个可以等待条件结束的 <code>promise</code> 。</p>\n<h3><span id=\"options\">options</span></h3><ul>\n<li><code>name?: string</code>: 用于识别和调试的名称</li>\n<li><code>onError?: (error) =&gt; void</code>: 如果 断言函数 或 副作用函数 函数抛出异常，则触发错误处理函数</li>\n<li><code>timeout: number</code> 以毫秒为单位的延迟，之后将触发 <code>onError</code> 处理函数，以通知在指定时间内未满足条件</li>\n</ul>\n<h3><span id=\"reaction\">reaction</span></h3><p>用法: <code>reaction(() =&gt; data, data =&gt; { sideEffect }, options)</code>.</p>\n<p><code>reaction</code> 是 <code>autorun</code> 的变种，在如何追踪 <code>observable</code> 方面给予了更细粒度的控制。 它接收两个函数，第一个是追踪并返回数据，该数据用作第二个函数，也就是副作用的输入。 与 <code>&#39;autorun&#39;</code> 不同的是副作用起初不会运行，并且在执行副作用时访问的任何 <code>observable</code> 都不会被追踪。 和 <code>autorunAsync</code> 一样，副作用是可以进行函数去抖的。</p>\n<h3><span id=\"options\">options</span></h3><ul>\n<li><code>fireImmediately?: boolean</code>: 在触发 副作用函数 之前等待变化。默认为 <code>false</code></li>\n<li><code>delay?: number</code>: 使副作用延迟和防抖的时间。默认为 0</li>\n<li><code>equals</code>. 自定义相等函数来确定 expr 函数是否与之前的结果不同，再决定是否触发副作用。接收与<code>computed</code> 的 <code>equals</code> 选项相同的选项</li>\n<li>还接收 <code>autorun</code> 的所有选项</li>\n</ul>\n<h3><span id=\"onreactionerror\">onReactionError</span></h3><p>用法: <code>onReactionError(handler: (error: any, derivation) =&gt; void)</code></p>\n<p>此方法附加一个全局错误监听器，对于从 <code>reaction</code> 抛出的每个错误都会调用该错误监听器。 它可以用来监控或者测试。</p>\n\n<div id=\"gitalk-container\"></div>\n<script src=\"https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js\"></script><link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"><script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n\n\t\t<script>\n\t\tvar gitalkConfig = {\"clientID\":\"7cff2fe5351a4771a8ca\",\"clientSecret\":\"44cbb554920d2d11a7882f71536207a73e848cf4\",\"repo\":\"Blog\",\"owner\":\"jarze\",\"admin\":[\"jarze\"],\"distractionFreeMode\":false};\n\t    gitalkConfig.id = md5(location.pathname);\n\t\tvar gitalk = new Gitalk(gitalkConfig);\n\t    gitalk.render(\"gitalk-container\");\n\t    </script>","categories":["Front","js"],"tags":["js","mobx"]}]