<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-109981608-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-109981608-1');
</script>
<!-- End Google Analytics -->

  
  <title>mobx-state-tree | Jarze</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="1234.model.views.volatile.actions">
<meta property="og:type" content="article">
<meta property="og:title" content="mobx-state-tree">
<meta property="og:url" content="https://jarze.github.io/Blog/mobx-state-tree/index.html">
<meta property="og:site_name" content="Jarze">
<meta property="og:description" content="1234.model.views.volatile.actions">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-08-19T16:32:32.000Z">
<meta property="article:modified_time" content="2023-02-09T08:46:47.160Z">
<meta property="article:author" content="jarze blog ~~~">
<meta property="article:tag" content="js">
<meta property="article:tag" content="mobx">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/Blog/css/images/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/Blog/css/style.css">

  
    
<link rel="stylesheet" href="/Blog/fancybox/jquery.fancybox.min.css">

  
  <meta name="google-site-verification" content="BEvcfET7cgXFsJH40NIqTskqOHR7z8uvgu5JPD1LRZU" />
<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/Blog/" id="logo">Jarze</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/Blog/" id="subtitle">ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/Blog/">Home</a>
        
          <a class="main-nav-link" href="/Blog/archives">Archives</a>
        
          <a class="main-nav-link" href="/Blog/about">About</a>
        
          <a class="main-nav-link" href="/Blog/links">Links</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="æœç´¢"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://jarze.github.io/Blog"></form>
      </div>
      
      <div class="search-pop-overlay">
	<div class="popup search-popup">
		<div class="search-header">
			<span class="search-icon">
				ğŸ”
			</span>
			<div class="search-input-container"></div>
			<input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="..." spellcheck="false"
           type="search" class="search-input">
			<span class="popup-btn-close" role="button">
				âœ–ï¸
			</span>
		</div>
		<div class="search-result-container">
		</div>
	</div>
</div>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-mobx-state-tree" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/Blog/mobx-state-tree/" class="article-date">
  <time class="dt-published" datetime="2020-08-19T16:32:32.000Z" itemprop="datePublished">2020-08-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/Blog/categories/Front/">Front</a>â–º<a class="article-category-link" href="/Blog/categories/Front/js/">js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      mobx-state-tree
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.model</span><br><span class="line">.views</span><br><span class="line">.volatile</span><br><span class="line">.actions</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h1><span id="mobx-state-tree">mobx-state-tree</span></h1><!-- toc -->

<ul>
<li><a href="#model">model</a><ul>
<li><a href="#modelvolatile"><code>model.volatile</code></a></li>
</ul>
</li>
<li><a href="#types">types</a><ul>
<li><a href="#å¤æ‚ç±»å‹">å¤æ‚ç±»å‹</a></li>
<li><a href="#åŸå§‹ç±»å‹">åŸå§‹ç±»å‹</a></li>
<li><a href="#å®ç”¨ç¨‹åºç±»å‹">å®ç”¨ç¨‹åºç±»å‹</a><ul>
<li><a href="#typesidentifier"><code>types.identifier</code></a></li>
<li><a href="#typesrefinement"><code>types.refinement</code></a></li>
<li><a href="#typesreference"><code>types.reference</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#actions">actions</a></li>
</ul>
<!-- tocstop -->

<hr>
<p>types.model åˆ›å»ºä¸€ä¸ªå¯é“¾æ¥çš„æ¨¡å‹ç±»å‹ï¼Œå…¶ä¸­æ¯ä¸ªé“¾æ¥çš„æ–¹æ³•éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ç±»å‹ï¼š</p>
<ul>
<li><strong><code>named(name)</code></strong> å…‹éš†å½“å‰ç±»å‹ï¼Œä½†æ˜¯ç»™å®ƒä¸€ä¸ªæ–°åç§°</li>
<li><strong><code>props(props)</code></strong> æ ¹æ®å½“å‰ç±»å‹ç”Ÿæˆä¸€ä¸ªæ–°ç±»å‹ï¼Œå¹¶æ·»åŠ /è¦†ç›–æŒ‡å®šçš„å±æ€§</li>
<li><strong><code>actions(self =&gt; object literal with actions)</code></strong> æ ¹æ®å½“å‰ç±»å‹ç”Ÿæˆä¸€ç§æ–°ç±»å‹ï¼Œå¹¶æ·»åŠ /è¦†ç›–æŒ‡å®šçš„æ“ä½œ</li>
<li><strong><code>views(self =&gt; object literal with view functions)</code></strong> æ ¹æ®å½“å‰ç±»å‹ç”Ÿæˆä¸€ç§æ–°ç±»å‹ï¼Œå¹¶æ·»åŠ /è¦†ç›–æŒ‡å®šçš„è§†å›¾å‡½æ•°</li>
<li><strong><code>preProcessSnapshot(snapshot =&gt; snapshot)</code></strong>å¯ç”¨äºåœ¨å®ä¾‹åŒ–æ–°æ¨¡å‹ä¹‹å‰å¯¹åŸå§‹JSONè¿›è¡Œé¢„å¤„ç†ã€‚è¯·å‚é˜…ç”Ÿå‘½å‘¨æœŸæŒ‚é’©æˆ–å…¶ä»–types.snapshotProcessor</li>
<li><strong><code>postProcessSnapshot(snapshot =&gt; snapshot)</code></strong>å¯ç”¨äºåœ¨è·å–æ¨¡å‹å¿«ç…§ä¹‹å‰å¯¹åŸå§‹JSONè¿›è¡Œåå¤„ç†ã€‚è¯·å‚é˜…ç”Ÿå‘½å‘¨æœŸæŒ‚é’©æˆ–å…¶ä»–types.snapshotProcessor</li>
</ul>
<hr>
<h1><span id="model">model</span></h1><h2><span id="modelvolatile"><code>model.volatile</code></span></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Todo = types</span><br><span class="line">    .model(&#123;&#125;)</span><br><span class="line">    .volatile(<span class="function"><span class="params">self</span> =&gt;</span> (&#123;</span><br><span class="line">        localState: <span class="number">3</span></span><br><span class="line">    &#125;))</span><br><span class="line">    .actions(<span class="function"><span class="params">self</span> =&gt;</span> (&#123;</span><br><span class="line">        setX(value) &#123;</span><br><span class="line">            self.localState = value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;))</span><br></pre></td></tr></table></figure>
<p>ä»volatileåˆå§‹åŒ–å‡½æ•°è¿”å›çš„å¯¹è±¡å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ï¼Œå¹¶å°†å¯¼è‡´å…·æœ‰ç›¸åŒåç§°çš„å®ä¾‹å±æ€§ã€‚æŒ¥å‘æ€§ç‰¹æ€§å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ol>
<li>å¯ä»¥ä»æ¨¡å‹å¤–éƒ¨è¯»å–å®ƒä»¬ï¼ˆå¦‚æœæ‚¨æƒ³è¦éšè—çš„æ˜“å¤±æ€§çŠ¶æ€ï¼Œè¯·å¦‚ä¸Šä¸€èŠ‚ä¸­æ‰€è¿°å°†å…¶ä¿ç•™åœ¨é—­åŒ…ä¸­ï¼Œå¹¶ä¸”ä»…å½“æœªåœ¨è§†å›¾ä¸­ä½¿ç”¨è¯¥çŠ¶æ€æ—¶ï¼Œæ‰è€ƒè™‘ä½¿å…¶ä¸å¯è§‚å¯Ÿï¼‰ã€‚</li>
<li>æ˜“æŒ¥å‘çš„å±æ€§å°†ä»…å¯è§‚å¯Ÿï¼Œè¯·å‚è§å¯è§‚å¯Ÿçš„å‚è€ƒèµ„æ–™ã€‚åˆ†é…ç»™å®ƒä»¬çš„å€¼å°†ä¿æŒä¸å˜ï¼Œå¹¶ä¸”ä¸ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå¯è§‚å¯Ÿçš„æ·±å±‚ç»“æ„ã€‚</li>
<li>åƒæ™®é€šå±æ€§ä¸€æ ·ï¼Œåªèƒ½é€šè¿‡æ“ä½œå¯¹å…¶è¿›è¡Œä¿®æ”¹</li>
<li>æ˜“æŒ¥å‘çš„é“å…·ä¸ä¼šæ˜¾ç¤ºåœ¨å¿«ç…§ä¸­ï¼Œä¹Ÿæ— æ³•é€šè¿‡åº”ç”¨å¿«ç…§è¿›è¡Œæ›´æ–°</li>
<li>åœ¨å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸä¸­ä¿ç•™äº†æ˜“æŒ¥å‘çš„é“å…·ã€‚å¦è¯·å‚é˜…å¯¹å¸</li>
<li>æ˜“å¤±æ€§é“å…·çš„æ›´æ”¹ä¸ä¼šæ˜¾ç¤ºåœ¨è¡¥ä¸æˆ–å¿«ç…§æµä¸­</li>
<li>å½“å‰ä¸æ”¯æŒåœ¨ç”±è¿”å›çš„å¯¹è±¡ä¸­å®šä¹‰getters / setteræ–¹æ³• volatile</li>
</ol>
<h1><span id="types">types</span></h1><h2><span id="å¤æ‚ç±»å‹">å¤æ‚ç±»å‹</span></h2><ul>
<li><strong><code>types.model(properties, actions)</code></strong> å®šä¹‰ä¸€ä¸ªâ€œç±»ä¼¼â€ç±»å‹ï¼Œè¯¥ç±»å…·æœ‰åœ¨å¯¹è±¡ä¸Šæ“ä½œçš„å±æ€§å’Œæ“ä½œã€‚</li>
<li><strong><code>types.array(type)</code></strong> å£°æ˜æŒ‡å®šç±»å‹çš„æ•°ç»„ã€‚</li>
<li><strong><code>types.map(type)</code></strong> å£°æ˜æŒ‡å®šç±»å‹çš„æ˜ å°„ã€‚</li>
</ul>
<p><strong>è¯·æ³¨æ„ï¼Œç”±äºMST v3types.arrayå’ŒMSTtypes.mapåœ¨types.optionalé»˜è®¤æƒ…å†µä¸‹æ˜¯è‡ªåŠ¨åŒ…è£…çš„ï¼Œå› æ­¤åˆ†åˆ«å°†[]å’Œ{}è®¾ç½®ä¸ºå…¶é»˜è®¤å€¼ã€‚</strong></p>
<h2><span id="åŸå§‹ç±»å‹">åŸå§‹ç±»å‹</span></h2><ul>
<li><strong><code>types.string</code></strong></li>
<li><strong><code>types.number</code></strong></li>
<li><strong><code>types.integer</code></strong></li>
<li><strong><code>types.boolean</code></strong></li>
<li><strong><code>types.Date</code></strong></li>
<li><strong><code>types.custom</code></strong>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰åŸºæœ¬ç±»å‹ã€‚è¿™å¯¹äºå®šä¹‰è‡ªå·±çš„ç±»å‹å¾ˆæœ‰ç”¨ï¼Œè¿™äº›ç±»å‹å¯ä»¥å°†åºåˆ—åŒ–è¡¨æ ¼ä¸€å¯¹ä¸€æ˜ å°„åˆ°ä¸å¯å˜çš„å¯¹è±¡ï¼ˆå¦‚Decimalæˆ–Dateï¼‰ã€‚</li>
</ul>
<h2><span id="å®ç”¨ç¨‹åºç±»å‹">å®ç”¨ç¨‹åºç±»å‹</span></h2><ul>
<li><strong><code>types.union(options?: { dispatcher?: (snapshot) =&gt; Type, eager?: boolean }, types...)</code></strong>åˆ›å»ºå¤šç§ç±»å‹çš„è”åˆã€‚å¦‚æœæ— æ³•ä»å¿«ç…§ä¸­æ˜ç¡®æ¨æ–­å‡ºæ­£ç¡®çš„ç±»å‹ï¼Œè¯·æä¾›è°ƒåº¦ç¨‹åºåŠŸèƒ½æ¥ç¡®å®šç±»å‹ã€‚å½“eagerflagè®¾ç½®ä¸ºtrueï¼ˆé»˜è®¤ï¼‰æ—¶-å°†ä½¿ç”¨ç¬¬ä¸€ä¸ªåŒ¹é…ç±»å‹ï¼Œå¦‚æœå°†å…¶è®¾ç½®ä¸ºfalseç±»å‹æ£€æŸ¥ï¼Œåˆ™ä»…åœ¨å®Œå…¨åŒ¹é…1ä¸ªç±»å‹æ—¶é€šè¿‡ã€‚</li>
<li><strong><code>types.optional(type, defaultValue, optionalValues?)</code></strong>å°†å€¼æ ‡è®°ä¸ºå¯é€‰ï¼ˆä¾‹å¦‚åœ¨æ¨¡å‹ä¸­ï¼‰ã€‚å¦‚æœæœªæä¾›å€¼undefinedï¼ˆæˆ–è®¾ç½®ä¸ºä½œä¸ºå¯é€‰optionalValuesæ•°ç»„ä¼ é€’çš„ä»»ä½•åŸå§‹å€¼ï¼‰ï¼ŒdefaultValueåˆ™å°†ä½¿ç”¨å®ƒã€‚å¦‚æœdefaultValueä¸ºå‡½æ•°ï¼Œåˆ™å°†å¯¹å…¶è¿›è¡Œè¯„ä¼°ã€‚åˆ›å»ºæ—¶å¯ç”¨äºç”ŸæˆIDæˆ–æ—¶é—´æˆ³ã€‚</li>
<li><strong><code>types.literal(value)</code></strong>å¯ç”¨äºåˆ›å»ºæ–‡å­—ç±»å‹ï¼Œå…¶ä¸­å”¯ä¸€å¯èƒ½çš„å€¼å°±æ˜¯è¯¥å€¼ã€‚ä¸unionsç»“åˆä½¿ç”¨æ—¶ï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ã€‚ä¾‹å¦‚temperature: types.union(types.literal(â€œhotâ€), types.literal(â€œcoldâ€))ã€‚</li>
<li><strong><code>types.enumeration(name?, options: string[])</code></strong>åˆ›å»ºä¸€ä¸ªæšä¸¾ã€‚æ­¤æ–¹æ³•æ˜¯å­—ç¬¦ä¸²æ–‡å­—çš„å¹¶é›†çš„ç®€å†™å½¢å¼ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Typescriptï¼Œå¹¶ä¸”æƒ³åŸºäºå­—ç¬¦ä¸²æšä¸¾ï¼ˆä¾‹å¦‚enum Color { â€¦ }ï¼‰åˆ›å»ºç±»å‹ï¼Œè¯·ä½¿ç”¨types.enumeration<color>(â€œColorâ€, Object.values(Color))ï¼Œå…¶ä¸­â€Colorâ€nameå‚æ•°æ˜¯å¯é€‰çš„ã€‚</color></li>
<li><strong><code>types.refinement(name?, baseType, (snapshot) =&gt; boolean)</code></strong>åˆ›å»ºæ¯”åŸºæœ¬ç±»å‹æ›´å…·ä½“çš„ç±»å‹ï¼Œä¾‹å¦‚types.refinement(types.string, value =&gt; value.length &gt; 5)ï¼Œåˆ›å»ºåªèƒ½é•¿äº5çš„å­—ç¬¦ä¸²ç±»å‹ã€‚</li>
<li><strong><code>types.maybe(type)</code></strong>ä½¿ç±»å‹æˆä¸ºå¯é€‰ä¸”å¯ä¸ºnullçš„ç®€å†™å½¢å¼types.optional(types.union(type, types.literal(undefined)), undefined)ã€‚</li>
<li><strong><code>types.maybeNull(type)</code></strong>ç±»ä¼¼äºmaybeï¼Œä½†ç”¨äºnullè¡¨ç¤ºç¼ºå°‘å€¼ã€‚</li>
<li><strong><code>types.null</code></strong>çš„ç±»å‹nullã€‚</li>
<li><strong><code>types.undefined</code></strong>çš„ç±»å‹undefinedã€‚</li>
<li><strong><code>types.late(() =&gt; type)</code></strong> å¯ä»¥ç”¨äºåˆ›å»ºé€’å½’æˆ–å¾ªç¯ç±»å‹ï¼Œæˆ–è€…ä»¥è¿™æ ·çš„æ–¹å¼åˆ†å¸ƒåœ¨æ–‡ä»¶ä¸Šçš„ç±»å‹ï¼šå¦åˆ™æ–‡ä»¶ä¹‹é—´çš„å¾ªç¯ä¾èµ–å…³ç³»å°†æˆä¸ºä¸€ä¸ªé—®é¢˜ã€‚</li>
<li><strong><code>types.frozen(subType? | defaultValue?)</code></strong>æ¥å—ä»»ä½•ç±»å‹çš„å¯åºåˆ—åŒ–çš„å€¼ï¼ˆåŸå§‹çš„å’Œå¤æ‚çš„ï¼‰ï¼Œä½†å‡å®šè¯¥å€¼æœ¬èº«æ˜¯ä¸å¯å˜çš„ä¸”å¯åºåˆ—åŒ–çš„ã€‚ frozenå¯ä»¥é€šè¿‡å‡ ç§ä¸åŒçš„æ–¹å¼è°ƒç”¨ï¼š<ul>
<li><code>types.frozen()</code> -è¡Œä¸ºä¸MST 2ä¸­çš„types.frozenç›¸åŒã€‚</li>
<li><code>types.frozen(subType)</code>-æä¾›æœ‰æ•ˆçš„MSTç±»å‹ï¼Œç„¶åå†»ç»“å°†æ£€æŸ¥æä¾›çš„æ•°æ®æ˜¯å¦ç¬¦åˆè¯¥ç±»å‹çš„å¿«ç…§ã€‚è¯·æ³¨æ„ï¼Œè¯¥ç±»å‹å®é™…ä¸Šä¸ä¼šå®ä¾‹åŒ–ï¼Œå› æ­¤åªèƒ½ç”¨äºæ£€æŸ¥æ•°æ®çš„å½¢çŠ¶ã€‚å‘SubTypeæ·»åŠ è§†å›¾æˆ–åŠ¨ä½œå°†æ¯«æ— æ„ä¹‰ã€‚</li>
<li><code>types.frozen(someDefaultValue)</code> -æä¾›åŸå§‹å€¼ï¼Œå¯¹è±¡æˆ–æ•°ç»„ï¼ŒMSTå°†æ ¹æ®è¯¥å¯¹è±¡æ¨æ–­ç±»å‹ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºå­—æ®µçš„é»˜è®¤å€¼</li>
<li>ï¼ˆæ‰“å­—ç¨¿ï¼‰<code>types.frozen&lt;TypeScriptType&gt;(...)</code>-æä¾›æ‰“å­—ç¨¿ç±»å‹ï¼Œä»¥å¸®åŠ©å¼ºåŠ›é”®å…¥å­—æ®µï¼ˆä»…è®¾è®¡æ—¶ï¼‰</li>
</ul>
</li>
<li><strong><code>types.compose(name?, type1...typeX)</code></strong>ï¼Œé€šè¿‡é‡‡ç”¨ä¸€å †ç°æœ‰ç±»å‹å¹¶å°†å®ƒä»¬ç»„åˆæˆä¸€ä¸ªæ–°æ¨¡å‹æ¥åˆ›å»ºæ–°æ¨¡å‹ç±»å‹ã€‚</li>
<li><strong><code>types.reference(targetType)</code></strong>åˆ›å»ºä¸€ä¸ªå±æ€§ï¼Œè¯¥å±æ€§å¼•ç”¨targetTypeåŒä¸€æ£µæ ‘ä¸­æŸå¤„ç»™å®šé¡¹çš„å¦ä¸€ä¸ªé¡¹ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§å‚è€ƒã€‚</li>
<li><strong><code>types.safeReference(targetType)</code></strong>ç±»ä¼¼äºæ ‡å‡†å¼•ç”¨ï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒé»˜è®¤æƒ…å†µä¸‹æ¥å—æœªå®šä¹‰çš„å€¼å¹¶è‡ªåŠ¨å°†å…¶è‡ªèº«è®¾ç½®ä¸ºæœªå®šä¹‰ï¼ˆå½“çˆ¶çº§æ˜¯æ¨¡å‹æ—¶ï¼‰/å½“å…¶æŒ‡å‘çš„å¼•ç”¨è¢«åˆ†ç¦»/é”€æ¯æ—¶ï¼Œå°†è‡ªèº«ä»æ•°ç»„å’Œæ˜ å°„ä¸­ç§»é™¤ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§å‚è€ƒã€‚</li>
<li><strong><code>types.snapshotProcessor(type, processors, name?)</code></strong>åœ¨åºåˆ—åŒ–ç»™å®šç±»å‹ä¹‹å‰/ä¹‹åè¿è¡Œå¿«ç…§å‰/å¿«ç…§åå¤„ç†å™¨ã€‚ä¾‹å­ï¼š</li>
</ul>
<hr>
<h3><span id="typesidentifier"><code>types.identifier</code></span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Todo = types.model(&#123;</span><br><span class="line">  id: types.identifier,</span><br><span class="line">  title: types.string,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> TodoStore = types.model(&#123;</span><br><span class="line">  todos: types.array(Todo),</span><br><span class="line">  selectedTodo: types.reference(Todo),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// create a store with a normalized snapshot</span></span><br><span class="line"><span class="keyword">const</span> storeInstance = TodoStore.create(&#123;</span><br><span class="line">  todos: [</span><br><span class="line">    &#123;</span><br><span class="line">      id: <span class="string">"47"</span>,</span><br><span class="line">      title: <span class="string">"Get coffee"</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  selectedTodo: <span class="string">"47"</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// because `selectedTodo` is declared to be a reference, it returns the actual Todo node with the matching identifier</span></span><br><span class="line"><span class="built_in">console</span>.log(storeInstance.selectedTodo.title);</span><br></pre></td></tr></table></figure>

<h3><span id="typesrefinement"><code>types.refinement</code></span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Car = types.model(<span class="string">"Car"</span>, &#123;</span><br><span class="line">    id: types.refinement(types.identifier, identifier =&gt; identifier.indexOf(<span class="string">"Car_"</span>) === <span class="number">0</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h3><span id="typesreference"><code>types.reference</code></span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> User = types.model(&#123;</span><br><span class="line">    id: types.identifier,</span><br><span class="line">    name: types.string</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> UserByNameReference = types.maybeNull(</span><br><span class="line">    types.reference(User, &#123;</span><br><span class="line">        <span class="comment">// given an identifier, find the user</span></span><br><span class="line">        <span class="keyword">get</span>(identifier /* string */, parent: any /*Store*/) &#123;</span><br><span class="line">            <span class="keyword">return</span> parent.users.find(<span class="function"><span class="params">u</span> =&gt;</span> u.name === identifier) || <span class="literal">null</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// given a user, produce the identifier that should be stored</span></span><br><span class="line">        <span class="keyword">set</span>(value /* User */) &#123;</span><br><span class="line">            <span class="keyword">return</span> value.name</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Store = types.model(&#123;</span><br><span class="line">    users: types.array(User),</span><br><span class="line">    selection: UserByNameReference</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> s = Store.create(&#123;</span><br><span class="line">    users: [&#123; <span class="attr">id</span>: <span class="string">"1"</span>, <span class="attr">name</span>: <span class="string">"Michel"</span> &#125;, &#123; <span class="attr">id</span>: <span class="string">"2"</span>, <span class="attr">name</span>: <span class="string">"Mattia"</span> &#125;],</span><br><span class="line">    selection: <span class="string">"Mattia"</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1><span id="actions">actions</span></h1><ul>
<li>onAction ä¾¦å¬åœ¨æ¨¡å‹æˆ–å…¶ä»»ä½•åä»£ä¸Šè°ƒç”¨çš„ä»»ä½•æ“ä½œã€‚</li>
<li>addMiddleware å°†æ‹¦æˆªå™¨åŠŸèƒ½æ·»åŠ åˆ°åœ¨å­æ ‘ä¸Šè°ƒç”¨çš„ä»»ä½•æ“ä½œã€‚</li>
<li>applyAction æ ¹æ®ç»™å®šçš„åŠ¨ä½œæè¿°åœ¨æ¨¡å‹ä¸Šè°ƒç”¨åŠ¨ä½œ</li>
</ul>

<div id="gitalk-container"></div>
<script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

		<script>
		var gitalkConfig = {"clientID":"7cff2fe5351a4771a8ca","clientSecret":"44cbb554920d2d11a7882f71536207a73e848cf4","repo":"Blog","owner":"jarze","admin":["jarze"],"distractionFreeMode":false};
	    gitalkConfig.id = md5(location.pathname);
		var gitalk = new Gitalk(gitalkConfig);
	    gitalk.render("gitalk-container");
	    </script>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://jarze.github.io/Blog/mobx-state-tree/" data-id="cldwuw17z001phfolclq1a8tt" data-title="mobx-state-tree" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/Blog/tags/js/" rel="tag">js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/Blog/tags/mobx/" rel="tag">mobx</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/Blog/Makefile/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">å‰ä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          Make å‘½ä»¤
        
      </div>
    </a>
  
  
    <a href="/Blog/webpack%E9%85%8D%E7%BD%AE/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">åä¸€ç¯‡</strong>
      <div class="article-nav-title">webpack é…ç½®</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">åˆ†ç±»</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Front/">Front</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Front/css/">css</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Front/js/">js</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Front/js/react/">react</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Front/tool/">tool</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Fun/">Fun</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/%E5%B7%A5%E5%85%B7%E6%9F%A5%E8%AF%A2/">å·¥å…·æŸ¥è¯¢</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/Accessibility/" rel="tag">Accessibility</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/Node/" rel="tag">Node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/WCAG/" rel="tag">WCAG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/commander/" rel="tag">commander</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/es6/" rel="tag">es6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/eslint/" rel="tag">eslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/link/" rel="tag">link</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/make/" rel="tag">make</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/markdown/" rel="tag">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/mobx/" rel="tag">mobx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/nodejs/" rel="tag">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/npm/" rel="tag">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/puml/" rel="tag">puml</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/tool/" rel="tag">tool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/Blog/tags/webpack/" rel="tag">webpack</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/Blog/tags/Accessibility/" style="font-size: 10px;">Accessibility</a> <a href="/Blog/tags/Node/" style="font-size: 10px;">Node</a> <a href="/Blog/tags/WCAG/" style="font-size: 10px;">WCAG</a> <a href="/Blog/tags/commander/" style="font-size: 10px;">commander</a> <a href="/Blog/tags/css/" style="font-size: 16.67px;">css</a> <a href="/Blog/tags/docker/" style="font-size: 13.33px;">docker</a> <a href="/Blog/tags/es6/" style="font-size: 10px;">es6</a> <a href="/Blog/tags/eslint/" style="font-size: 10px;">eslint</a> <a href="/Blog/tags/git/" style="font-size: 10px;">git</a> <a href="/Blog/tags/js/" style="font-size: 20px;">js</a> <a href="/Blog/tags/link/" style="font-size: 10px;">link</a> <a href="/Blog/tags/make/" style="font-size: 10px;">make</a> <a href="/Blog/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/Blog/tags/mobx/" style="font-size: 16.67px;">mobx</a> <a href="/Blog/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/Blog/tags/npm/" style="font-size: 16.67px;">npm</a> <a href="/Blog/tags/puml/" style="font-size: 10px;">puml</a> <a href="/Blog/tags/react/" style="font-size: 13.33px;">react</a> <a href="/Blog/tags/shell/" style="font-size: 10px;">shell</a> <a href="/Blog/tags/tool/" style="font-size: 16.67px;">tool</a> <a href="/Blog/tags/vscode/" style="font-size: 10px;">vscode</a> <a href="/Blog/tags/webpack/" style="font-size: 10px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2023/02/">äºŒæœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2023/01/">ä¸€æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2022/12/">åäºŒæœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2022/08/">å…«æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2022/07/">ä¸ƒæœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2022/06/">å…­æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2022/05/">äº”æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2022/04/">å››æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2022/03/">ä¸‰æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2021/12/">åäºŒæœˆ 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2021/10/">åæœˆ 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2021/07/">ä¸ƒæœˆ 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2021/01/">ä¸€æœˆ 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2020/12/">åäºŒæœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2020/10/">åæœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2020/08/">å…«æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2020/06/">å…­æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2020/01/">ä¸€æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/Blog/archives/2019/09/">ä¹æœˆ 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/Blog/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/Blog/reactContext/">React Context çš„è¿ç”¨</a>
          </li>
        
          <li>
            <a href="/Blog/js%E5%AE%9E%E7%8E%B0%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%A8%E5%B1%8F/">jså®ç°æµè§ˆå™¨å…¨å±</a>
          </li>
        
          <li>
            <a href="/Blog/font/">font</a>
          </li>
        
          <li>
            <a href="/Blog/less/">less</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 jarze blog ~~~<br />
      <!-- Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> -->
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/Blog/" class="mobile-nav-link">Home</a>
  
    <a href="/Blog/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/Blog/about" class="mobile-nav-link">About</a>
  
    <a href="/Blog/links" class="mobile-nav-link">Links</a>
  
</nav>
    


<script src="/Blog/js/jquery-3.4.1.min.js"></script>



  
<script src="/Blog/fancybox/jquery.fancybox.min.js"></script>




<script src="/Blog/js/script.js"></script>






  <script>window.CONFIG={path:"/Blog/search.json"};</script>
  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script>
  
<script src="/Blog/js/search.js"></script>


  </div>
</body>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script data-ad-client="ca-pub-2547143607556885" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</html>